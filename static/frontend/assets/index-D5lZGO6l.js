var Yk=Object.defineProperty;var Ib=n=>{throw TypeError(n)};var Kk=(n,e,t)=>e in n?Yk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var oe=(n,e,t)=>Kk(n,typeof e!="symbol"?e+"":e,t),M0=(n,e,t)=>e.has(n)||Ib("Cannot "+t);var l=(n,e,t)=>(M0(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?Ib("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,s)=>(M0(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),A=(n,e,t)=>(M0(n,e,"access private method"),t);var Ot=(n,e,t,s)=>({set _(r){b(n,e,r,t)},get _(){return l(n,e,s)}});function Qk(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function XA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var YA={exports:{}},Vg={},KA={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),Jk=Symbol.for("react.portal"),Zk=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),sT=Symbol.for("react.context"),rT=Symbol.for("react.forward_ref"),iT=Symbol.for("react.suspense"),aT=Symbol.for("react.memo"),oT=Symbol.for("react.lazy"),zb=Symbol.iterator;function lT(n){return n===null||typeof n!="object"?null:(n=zb&&n[zb]||n["@@iterator"],typeof n=="function"?n:null)}var QA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JA=Object.assign,ZA={};function dd(n,e,t){this.props=n,this.context=e,this.refs=ZA,this.updater=t||QA}dd.prototype.isReactComponent={};dd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};dd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function eS(){}eS.prototype=dd.prototype;function ix(n,e,t){this.props=n,this.context=e,this.refs=ZA,this.updater=t||QA}var ax=ix.prototype=new eS;ax.constructor=ix;JA(ax,dd.prototype);ax.isPureReactComponent=!0;var Hb=Array.isArray,tS=Object.prototype.hasOwnProperty,ox={current:null},nS={key:!0,ref:!0,__self:!0,__source:!0};function sS(n,e,t){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)tS.call(e,s)&&!nS.hasOwnProperty(s)&&(r[s]=e[s]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}if(n&&n.defaultProps)for(s in o=n.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:sp,type:n,key:i,ref:a,props:r,_owner:ox.current}}function cT(n,e){return{$$typeof:sp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function lx(n){return typeof n=="object"&&n!==null&&n.$$typeof===sp}function uT(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Bb=/\/+/g;function L0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?uT(""+n.key):e.toString(36)}function Gp(n,e,t,s,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case sp:case Jk:a=!0}}if(a)return a=n,r=r(a),n=s===""?"."+L0(a,0):s,Hb(r)?(t="",n!=null&&(t=n.replace(Bb,"$&/")+"/"),Gp(r,e,t,"",function(u){return u})):r!=null&&(lx(r)&&(r=cT(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Bb,"$&/")+"/")+n)),e.push(r)),1;if(a=0,s=s===""?".":s+":",Hb(n))for(var o=0;o<n.length;o++){i=n[o];var c=s+L0(i,o);a+=Gp(i,e,t,c,r)}else if(c=lT(n),typeof c=="function")for(n=c.call(n),o=0;!(i=n.next()).done;)i=i.value,c=s+L0(i,o++),a+=Gp(i,e,t,c,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function bp(n,e,t){if(n==null)return n;var s=[],r=0;return Gp(n,s,"","",function(i){return e.call(t,i,r++)}),s}function dT(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Pn={current:null},Xp={transition:null},hT={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Xp,ReactCurrentOwner:ox};function rS(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:bp,forEach:function(n,e,t){bp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return bp(n,function(){e++}),e},toArray:function(n){return bp(n,function(e){return e})||[]},only:function(n){if(!lx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};xe.Component=dd;xe.Fragment=Zk;xe.Profiler=tT;xe.PureComponent=ix;xe.StrictMode=eT;xe.Suspense=iT;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hT;xe.act=rS;xe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=JA({},n.props),r=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ox.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(c in e)tS.call(e,c)&&!nS.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=t;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:sp,type:n.type,key:r,ref:i,props:s,_owner:a}};xe.createContext=function(n){return n={$$typeof:sT,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nT,_context:n},n.Consumer=n};xe.createElement=sS;xe.createFactory=function(n){var e=sS.bind(null,n);return e.type=n,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(n){return{$$typeof:rT,render:n}};xe.isValidElement=lx;xe.lazy=function(n){return{$$typeof:oT,_payload:{_status:-1,_result:n},_init:dT}};xe.memo=function(n,e){return{$$typeof:aT,type:n,compare:e===void 0?null:e}};xe.startTransition=function(n){var e=Xp.transition;Xp.transition={};try{n()}finally{Xp.transition=e}};xe.unstable_act=rS;xe.useCallback=function(n,e){return Pn.current.useCallback(n,e)};xe.useContext=function(n){return Pn.current.useContext(n)};xe.useDebugValue=function(){};xe.useDeferredValue=function(n){return Pn.current.useDeferredValue(n)};xe.useEffect=function(n,e){return Pn.current.useEffect(n,e)};xe.useId=function(){return Pn.current.useId()};xe.useImperativeHandle=function(n,e,t){return Pn.current.useImperativeHandle(n,e,t)};xe.useInsertionEffect=function(n,e){return Pn.current.useInsertionEffect(n,e)};xe.useLayoutEffect=function(n,e){return Pn.current.useLayoutEffect(n,e)};xe.useMemo=function(n,e){return Pn.current.useMemo(n,e)};xe.useReducer=function(n,e,t){return Pn.current.useReducer(n,e,t)};xe.useRef=function(n){return Pn.current.useRef(n)};xe.useState=function(n){return Pn.current.useState(n)};xe.useSyncExternalStore=function(n,e,t){return Pn.current.useSyncExternalStore(n,e,t)};xe.useTransition=function(){return Pn.current.useTransition()};xe.version="18.3.1";KA.exports=xe;var P=KA.exports;const ct=XA(P),fT=Qk({__proto__:null,default:ct},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=P,mT=Symbol.for("react.element"),gT=Symbol.for("react.fragment"),yT=Object.prototype.hasOwnProperty,vT=pT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xT={key:!0,ref:!0,__self:!0,__source:!0};function iS(n,e,t){var s,r={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)yT.call(e,s)&&!xT.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:mT,type:n,key:i,ref:a,props:r,_owner:vT.current}}Vg.Fragment=gT;Vg.jsx=iS;Vg.jsxs=iS;YA.exports=Vg;var f=YA.exports,gy={},aS={exports:{}},hs={},oS={exports:{}},lS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,Q){var ee=F.length;F.push(Q);e:for(;0<ee;){var ie=ee-1>>>1,ae=F[ie];if(0<r(ae,Q))F[ie]=Q,F[ee]=ae,ee=ie;else break e}}function t(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Q=F[0],ee=F.pop();if(ee!==Q){F[0]=ee;e:for(var ie=0,ae=F.length,ve=ae>>>1;ie<ve;){var Me=2*(ie+1)-1,ht=F[Me],Ce=Me+1,me=F[Ce];if(0>r(ht,ee))Ce<ae&&0>r(me,ht)?(F[ie]=me,F[Ce]=ee,ie=Ce):(F[ie]=ht,F[Me]=ee,ie=Me);else if(Ce<ae&&0>r(me,ee))F[ie]=me,F[Ce]=ee,ie=Ce;else break e}}return Q}function r(F,Q){var ee=F.sortIndex-Q.sortIndex;return ee!==0?ee:F.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,p=3,g=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var Q=t(u);Q!==null;){if(Q.callback===null)s(u);else if(Q.startTime<=F)s(u),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=t(u)}}function _(F){if(v=!1,y(F),!m)if(t(c)!==null)m=!0,X(C);else{var Q=t(u);Q!==null&&V(_,Q.startTime-F)}}function C(F,Q){m=!1,v&&(v=!1,x(N),N=-1),g=!0;var ee=p;try{for(y(Q),h=t(c);h!==null&&(!(h.expirationTime>Q)||F&&!I());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var ae=ie(h.expirationTime<=Q);Q=n.unstable_now(),typeof ae=="function"?h.callback=ae:h===t(c)&&s(c),y(Q)}else s(c);h=t(c)}if(h!==null)var ve=!0;else{var Me=t(u);Me!==null&&V(_,Me.startTime-Q),ve=!1}return ve}finally{h=null,p=ee,g=!1}}var k=!1,R=null,N=-1,O=5,j=-1;function I(){return!(n.unstable_now()-j<O)}function B(){if(R!==null){var F=n.unstable_now();j=F;var Q=!0;try{Q=R(!0,F)}finally{Q?H():(k=!1,R=null)}}else k=!1}var H;if(typeof w=="function")H=function(){w(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=B,H=function(){Z.postMessage(null)}}else H=function(){S(B,0)};function X(F){R=F,k||(k=!0,H())}function V(F,Q){N=S(function(){F(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){m||g||(m=!0,X(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var ee=p;p=Q;try{return F()}finally{p=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=p;p=F;try{return Q()}finally{p=ee}},n.unstable_scheduleCallback=function(F,Q,ee){var ie=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,F){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ee+ae,F={id:d++,callback:Q,priorityLevel:F,startTime:ee,expirationTime:ae,sortIndex:-1},ee>ie?(F.sortIndex=ee,e(u,F),t(c)===null&&F===t(u)&&(v?(x(N),N=-1):v=!0,V(_,ee-ie))):(F.sortIndex=ae,e(c,F),m||g||(m=!0,X(C))),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var Q=p;return function(){var ee=p;p=Q;try{return F.apply(this,arguments)}finally{p=ee}}}})(lS);oS.exports=lS;var bT=oS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=P,ds=bT;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cS=new Set,ph={};function nc(n,e){td(n,e),td(n+"Capture",e)}function td(n,e){for(ph[n]=e,n=0;n<e.length;n++)cS.add(e[n])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yy=Object.prototype.hasOwnProperty,AT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ub={},$b={};function ST(n){return yy.call($b,n)?!0:yy.call(Ub,n)?!1:AT.test(n)?$b[n]=!0:(Ub[n]=!0,!1)}function ET(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _T(n,e,t,s){if(e===null||typeof e>"u"||ET(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(n,e,t,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){tn[n]=new Rn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];tn[e]=new Rn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){tn[n]=new Rn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){tn[n]=new Rn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){tn[n]=new Rn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){tn[n]=new Rn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){tn[n]=new Rn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){tn[n]=new Rn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){tn[n]=new Rn(n,5,!1,n.toLowerCase(),null,!1,!1)});var cx=/[\-:]([a-z])/g;function ux(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(cx,ux);tn[e]=new Rn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(cx,ux);tn[e]=new Rn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(cx,ux);tn[e]=new Rn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){tn[n]=new Rn(n,1,!1,n.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){tn[n]=new Rn(n,1,!1,n.toLowerCase(),null,!0,!0)});function dx(n,e,t,s){var r=tn.hasOwnProperty(e)?tn[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_T(e,t,r,s)&&(t=null),s||r===null?ST(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Bi=wT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),wc=Symbol.for("react.portal"),Ac=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),vy=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),fx=Symbol.for("react.forward_ref"),xy=Symbol.for("react.suspense"),by=Symbol.for("react.suspense_list"),px=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),hS=Symbol.for("react.offscreen"),Vb=Symbol.iterator;function xd(n){return n===null||typeof n!="object"?null:(n=Vb&&n[Vb]||n["@@iterator"],typeof n=="function"?n:null)}var it=Object.assign,j0;function Md(n){if(j0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);j0=e&&e[1]||""}return`
`+j0+n}var F0=!1;function O0(n,e){if(!n||F0)return"";F0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var c=`
`+r[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=o);break}}}finally{F0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Md(n):""}function CT(n){switch(n.tag){case 5:return Md(n.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return n=O0(n.type,!1),n;case 11:return n=O0(n.type.render,!1),n;case 1:return n=O0(n.type,!0),n;default:return""}}function wy(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ac:return"Fragment";case wc:return"Portal";case vy:return"Profiler";case hx:return"StrictMode";case xy:return"Suspense";case by:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case dS:return(n.displayName||"Context")+".Consumer";case uS:return(n._context.displayName||"Context")+".Provider";case fx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case px:return e=n.displayName||null,e!==null?e:wy(n.type)||"Memo";case Ji:e=n._payload,n=n._init;try{return wy(n(e))}catch{}}return null}function kT(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wy(e);case 8:return e===hx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fS(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TT(n){var e=fS(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ap(n){n._valueTracker||(n._valueTracker=TT(n))}function pS(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=fS(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function Bm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ay(n,e){var t=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Wb(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=to(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mS(n,e){e=e.checked,e!=null&&dx(n,"checked",e,!1)}function Sy(n,e){mS(n,e);var t=to(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Ey(n,e.type,t):e.hasOwnProperty("defaultValue")&&Ey(n,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function qb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Ey(n,e,t){(e!=="number"||Bm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ld=Array.isArray;function jc(n,e,t,s){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&s&&(n[t].defaultSelected=!0)}else{for(t=""+to(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,s&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function _y(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Gb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Ld(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:to(t)}}function gS(n,e){var t=to(e.value),s=to(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function Xb(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function yS(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cy(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?yS(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Sp,vS=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Sp=Sp||document.createElement("div"),Sp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function mh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PT=["Webkit","ms","Moz","O"];Object.keys(eh).forEach(function(n){PT.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),eh[e]=eh[n]})});function xS(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||eh.hasOwnProperty(n)&&eh[n]?(""+e).trim():e+"px"}function bS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=xS(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,r):n[t]=r}}var RT=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ky(n,e){if(e){if(RT[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ty(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function mx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ry=null,Fc=null,Oc=null;function Yb(n){if(n=ap(n)){if(typeof Ry!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Yg(e),Ry(n.stateNode,n.type,e))}}function wS(n){Fc?Oc?Oc.push(n):Oc=[n]:Fc=n}function AS(){if(Fc){var n=Fc,e=Oc;if(Oc=Fc=null,Yb(n),e)for(n=0;n<e.length;n++)Yb(e[n])}}function SS(n,e){return n(e)}function ES(){}var D0=!1;function _S(n,e,t){if(D0)return n(e,t);D0=!0;try{return SS(n,e,t)}finally{D0=!1,(Fc!==null||Oc!==null)&&(ES(),AS())}}function gh(n,e){var t=n.stateNode;if(t===null)return null;var s=Yg(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var Ny=!1;if(ji)try{var bd={};Object.defineProperty(bd,"passive",{get:function(){Ny=!0}}),window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,bd)}catch{Ny=!1}function NT(n,e,t,s,r,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var th=!1,Um=null,$m=!1,My=null,MT={onError:function(n){th=!0,Um=n}};function LT(n,e,t,s,r,i,a,o,c){th=!1,Um=null,NT.apply(MT,arguments)}function jT(n,e,t,s,r,i,a,o,c){if(LT.apply(this,arguments),th){if(th){var u=Um;th=!1,Um=null}else throw Error(z(198));$m||($m=!0,My=u)}}function sc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function CS(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Kb(n){if(sc(n)!==n)throw Error(z(188))}function FT(n){var e=n.alternate;if(!e){if(e=sc(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,s=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return Kb(r),n;if(i===s)return Kb(r),e;i=i.sibling}throw Error(z(188))}if(t.return!==s.return)t=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,s=i;break}if(o===s){a=!0,s=r,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,s=r;break}if(o===s){a=!0,s=i,t=r;break}o=o.sibling}if(!a)throw Error(z(189))}}if(t.alternate!==s)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function kS(n){return n=FT(n),n!==null?TS(n):null}function TS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=TS(n);if(e!==null)return e;n=n.sibling}return null}var PS=ds.unstable_scheduleCallback,Qb=ds.unstable_cancelCallback,OT=ds.unstable_shouldYield,DT=ds.unstable_requestPaint,mt=ds.unstable_now,IT=ds.unstable_getCurrentPriorityLevel,gx=ds.unstable_ImmediatePriority,RS=ds.unstable_UserBlockingPriority,Vm=ds.unstable_NormalPriority,zT=ds.unstable_LowPriority,NS=ds.unstable_IdlePriority,Wg=null,Ir=null;function HT(n){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Wg,n,void 0,(n.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:$T,BT=Math.log,UT=Math.LN2;function $T(n){return n>>>=0,n===0?32:31-(BT(n)/UT|0)|0}var Ep=64,_p=4194304;function jd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wm(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,r=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?s=jd(o):(i&=a,i!==0&&(s=jd(i)))}else a=t&~r,a!==0?s=jd(a):i!==0&&(s=jd(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-nr(e),r=1<<t,s|=n[t],e&=~r;return s}function VT(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WT(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-nr(i),o=1<<a,c=r[a];c===-1?(!(o&t)||o&s)&&(r[a]=VT(o,e)):c<=e&&(n.expiredLanes|=o),i&=~o}}function Ly(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function MS(){var n=Ep;return Ep<<=1,!(Ep&4194240)&&(Ep=64),n}function I0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function rp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-nr(e),n[e]=t}function qT(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-nr(t),i=1<<r;e[r]=0,s[r]=-1,n[r]=-1,t&=~i}}function yx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-nr(t),r=1<<s;r&e|n[s]&e&&(n[s]|=e),t&=~r}}var De=0;function LS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var jS,vx,FS,OS,DS,jy=!1,Cp=[],Va=null,Wa=null,qa=null,yh=new Map,vh=new Map,ea=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jb(n,e){switch(n){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(e.pointerId)}}function wd(n,e,t,s,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=ap(e),e!==null&&vx(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function XT(n,e,t,s,r){switch(e){case"focusin":return Va=wd(Va,n,e,t,s,r),!0;case"dragenter":return Wa=wd(Wa,n,e,t,s,r),!0;case"mouseover":return qa=wd(qa,n,e,t,s,r),!0;case"pointerover":var i=r.pointerId;return yh.set(i,wd(yh.get(i)||null,n,e,t,s,r)),!0;case"gotpointercapture":return i=r.pointerId,vh.set(i,wd(vh.get(i)||null,n,e,t,s,r)),!0}return!1}function IS(n){var e=ko(n.target);if(e!==null){var t=sc(e);if(t!==null){if(e=t.tag,e===13){if(e=CS(t),e!==null){n.blockedOn=e,DS(n.priority,function(){FS(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Fy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);Py=s,t.target.dispatchEvent(s),Py=null}else return e=ap(t),e!==null&&vx(e),n.blockedOn=t,!1;e.shift()}return!0}function Zb(n,e,t){Yp(n)&&t.delete(e)}function YT(){jy=!1,Va!==null&&Yp(Va)&&(Va=null),Wa!==null&&Yp(Wa)&&(Wa=null),qa!==null&&Yp(qa)&&(qa=null),yh.forEach(Zb),vh.forEach(Zb)}function Ad(n,e){n.blockedOn===e&&(n.blockedOn=null,jy||(jy=!0,ds.unstable_scheduleCallback(ds.unstable_NormalPriority,YT)))}function xh(n){function e(r){return Ad(r,n)}if(0<Cp.length){Ad(Cp[0],n);for(var t=1;t<Cp.length;t++){var s=Cp[t];s.blockedOn===n&&(s.blockedOn=null)}}for(Va!==null&&Ad(Va,n),Wa!==null&&Ad(Wa,n),qa!==null&&Ad(qa,n),yh.forEach(e),vh.forEach(e),t=0;t<ea.length;t++)s=ea[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<ea.length&&(t=ea[0],t.blockedOn===null);)IS(t),t.blockedOn===null&&ea.shift()}var Dc=Bi.ReactCurrentBatchConfig,qm=!0;function KT(n,e,t,s){var r=De,i=Dc.transition;Dc.transition=null;try{De=1,xx(n,e,t,s)}finally{De=r,Dc.transition=i}}function QT(n,e,t,s){var r=De,i=Dc.transition;Dc.transition=null;try{De=4,xx(n,e,t,s)}finally{De=r,Dc.transition=i}}function xx(n,e,t,s){if(qm){var r=Fy(n,e,t,s);if(r===null)X0(n,e,s,Gm,t),Jb(n,s);else if(XT(r,n,e,t,s))s.stopPropagation();else if(Jb(n,s),e&4&&-1<GT.indexOf(n)){for(;r!==null;){var i=ap(r);if(i!==null&&jS(i),i=Fy(n,e,t,s),i===null&&X0(n,e,s,Gm,t),i===r)break;r=i}r!==null&&s.stopPropagation()}else X0(n,e,s,null,t)}}var Gm=null;function Fy(n,e,t,s){if(Gm=null,n=mx(s),n=ko(n),n!==null)if(e=sc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=CS(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Gm=n,null}function zS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IT()){case gx:return 1;case RS:return 4;case Vm:case zT:return 16;case NS:return 536870912;default:return 16}default:return 16}}var Ba=null,bx=null,Kp=null;function HS(){if(Kp)return Kp;var n,e=bx,t=e.length,s,r="value"in Ba?Ba.value:Ba.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(s=1;s<=a&&e[t-s]===r[i-s];s++);return Kp=r.slice(n,1<s?1-s:void 0)}function Qp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function kp(){return!0}function ew(){return!1}function fs(n){function e(t,s,r,i,a){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kp:ew,this.isPropagationStopped=ew,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=kp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=kp)},persist:function(){},isPersistent:kp}),e}var hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=fs(hd),ip=it({},hd,{view:0,detail:0}),JT=fs(ip),z0,H0,Sd,qg=it({},ip,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ax,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Sd&&(Sd&&n.type==="mousemove"?(z0=n.screenX-Sd.screenX,H0=n.screenY-Sd.screenY):H0=z0=0,Sd=n),z0)},movementY:function(n){return"movementY"in n?n.movementY:H0}}),tw=fs(qg),ZT=it({},qg,{dataTransfer:0}),e3=fs(ZT),t3=it({},ip,{relatedTarget:0}),B0=fs(t3),n3=it({},hd,{animationName:0,elapsedTime:0,pseudoElement:0}),s3=fs(n3),r3=it({},hd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),i3=fs(r3),a3=it({},hd,{data:0}),nw=fs(a3),o3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u3(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=c3[n])?!!e[n]:!1}function Ax(){return u3}var d3=it({},ip,{key:function(n){if(n.key){var e=o3[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Qp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?l3[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ax,charCode:function(n){return n.type==="keypress"?Qp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),h3=fs(d3),f3=it({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sw=fs(f3),p3=it({},ip,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ax}),m3=fs(p3),g3=it({},hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),y3=fs(g3),v3=it({},qg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),x3=fs(v3),b3=[9,13,27,32],Sx=ji&&"CompositionEvent"in window,nh=null;ji&&"documentMode"in document&&(nh=document.documentMode);var w3=ji&&"TextEvent"in window&&!nh,BS=ji&&(!Sx||nh&&8<nh&&11>=nh),rw=" ",iw=!1;function US(n,e){switch(n){case"keyup":return b3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $S(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Sc=!1;function A3(n,e){switch(n){case"compositionend":return $S(e);case"keypress":return e.which!==32?null:(iw=!0,rw);case"textInput":return n=e.data,n===rw&&iw?null:n;default:return null}}function S3(n,e){if(Sc)return n==="compositionend"||!Sx&&US(n,e)?(n=HS(),Kp=bx=Ba=null,Sc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BS&&e.locale!=="ko"?null:e.data;default:return null}}var E3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!E3[n.type]:e==="textarea"}function VS(n,e,t,s){wS(s),e=Xm(e,"onChange"),0<e.length&&(t=new wx("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var sh=null,bh=null;function _3(n){tE(n,0)}function Gg(n){var e=Cc(n);if(pS(e))return n}function C3(n,e){if(n==="change")return e}var WS=!1;if(ji){var U0;if(ji){var $0="oninput"in document;if(!$0){var ow=document.createElement("div");ow.setAttribute("oninput","return;"),$0=typeof ow.oninput=="function"}U0=$0}else U0=!1;WS=U0&&(!document.documentMode||9<document.documentMode)}function lw(){sh&&(sh.detachEvent("onpropertychange",qS),bh=sh=null)}function qS(n){if(n.propertyName==="value"&&Gg(bh)){var e=[];VS(e,bh,n,mx(n)),_S(_3,e)}}function k3(n,e,t){n==="focusin"?(lw(),sh=e,bh=t,sh.attachEvent("onpropertychange",qS)):n==="focusout"&&lw()}function T3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Gg(bh)}function P3(n,e){if(n==="click")return Gg(e)}function R3(n,e){if(n==="input"||n==="change")return Gg(e)}function N3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var rr=typeof Object.is=="function"?Object.is:N3;function wh(n,e){if(rr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!yy.call(e,r)||!rr(n[r],e[r]))return!1}return!0}function cw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uw(n,e){var t=cw(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=cw(t)}}function GS(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?GS(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function XS(){for(var n=window,e=Bm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bm(n.document)}return e}function Ex(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function M3(n){var e=XS(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&GS(t.ownerDocument.documentElement,t)){if(s!==null&&Ex(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!n.extend&&i>s&&(r=s,s=i,i=r),r=uw(t,i);var a=uw(t,s);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>s?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var L3=ji&&"documentMode"in document&&11>=document.documentMode,Ec=null,Oy=null,rh=null,Dy=!1;function dw(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Dy||Ec==null||Ec!==Bm(s)||(s=Ec,"selectionStart"in s&&Ex(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),rh&&wh(rh,s)||(rh=s,s=Xm(Oy,"onSelect"),0<s.length&&(e=new wx("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=Ec)))}function Tp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var _c={animationend:Tp("Animation","AnimationEnd"),animationiteration:Tp("Animation","AnimationIteration"),animationstart:Tp("Animation","AnimationStart"),transitionend:Tp("Transition","TransitionEnd")},V0={},YS={};ji&&(YS=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function Xg(n){if(V0[n])return V0[n];if(!_c[n])return n;var e=_c[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in YS)return V0[n]=e[t];return n}var KS=Xg("animationend"),QS=Xg("animationiteration"),JS=Xg("animationstart"),ZS=Xg("transitionend"),eE=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(n,e){eE.set(n,e),nc(e,[n])}for(var W0=0;W0<hw.length;W0++){var q0=hw[W0],j3=q0.toLowerCase(),F3=q0[0].toUpperCase()+q0.slice(1);lo(j3,"on"+F3)}lo(KS,"onAnimationEnd");lo(QS,"onAnimationIteration");lo(JS,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(ZS,"onTransitionEnd");td("onMouseEnter",["mouseout","mouseover"]);td("onMouseLeave",["mouseout","mouseover"]);td("onPointerEnter",["pointerout","pointerover"]);td("onPointerLeave",["pointerout","pointerover"]);nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fd));function fw(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,jT(s,e,void 0,n),n.currentTarget=null}function tE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;fw(r,o,u),i=c}else for(a=0;a<s.length;a++){if(o=s[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;fw(r,o,u),i=c}}}if($m)throw n=My,$m=!1,My=null,n}function qe(n,e){var t=e[Uy];t===void 0&&(t=e[Uy]=new Set);var s=n+"__bubble";t.has(s)||(nE(e,n,2,!1),t.add(s))}function G0(n,e,t){var s=0;e&&(s|=4),nE(t,n,s,e)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function Ah(n){if(!n[Pp]){n[Pp]=!0,cS.forEach(function(t){t!=="selectionchange"&&(O3.has(t)||G0(t,!1,n),G0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Pp]||(e[Pp]=!0,G0("selectionchange",!1,e))}}function nE(n,e,t,s){switch(zS(e)){case 1:var r=KT;break;case 4:r=QT;break;default:r=xx}t=r.bind(null,e,t,n),r=void 0,!Ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function X0(n,e,t,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;o!==null;){if(a=ko(o),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}o=o.parentNode}}s=s.return}_S(function(){var u=i,d=mx(t),h=[];e:{var p=eE.get(n);if(p!==void 0){var g=wx,m=n;switch(n){case"keypress":if(Qp(t)===0)break e;case"keydown":case"keyup":g=h3;break;case"focusin":m="focus",g=B0;break;case"focusout":m="blur",g=B0;break;case"beforeblur":case"afterblur":g=B0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=e3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=m3;break;case KS:case QS:case JS:g=s3;break;case ZS:g=y3;break;case"scroll":g=JT;break;case"wheel":g=x3;break;case"copy":case"cut":case"paste":g=i3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sw}var v=(e&4)!==0,S=!v&&n==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,y;w!==null;){y=w;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=gh(w,x),_!=null&&v.push(Sh(w,_,y)))),S)break;w=w.return}0<v.length&&(p=new g(p,m,null,t,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==Py&&(m=t.relatedTarget||t.fromElement)&&(ko(m)||m[Fi]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(m=t.relatedTarget||t.toElement,g=u,m=m?ko(m):null,m!==null&&(S=sc(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(v=tw,_="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=sw,_="onPointerLeave",x="onPointerEnter",w="pointer"),S=g==null?p:Cc(g),y=m==null?p:Cc(m),p=new v(_,w+"leave",g,t,d),p.target=S,p.relatedTarget=y,_=null,ko(d)===u&&(v=new v(x,w+"enter",m,t,d),v.target=y,v.relatedTarget=S,_=v),S=_,g&&m)t:{for(v=g,x=m,w=0,y=v;y;y=cc(y))w++;for(y=0,_=x;_;_=cc(_))y++;for(;0<w-y;)v=cc(v),w--;for(;0<y-w;)x=cc(x),y--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=cc(v),x=cc(x)}v=null}else v=null;g!==null&&pw(h,p,g,v,!1),m!==null&&S!==null&&pw(h,S,m,v,!0)}}e:{if(p=u?Cc(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=C3;else if(aw(p))if(WS)C=R3;else{C=T3;var k=k3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=P3);if(C&&(C=C(n,u))){VS(h,C,t,d);break e}k&&k(n,p,u),n==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Ey(p,"number",p.value)}switch(k=u?Cc(u):window,n){case"focusin":(aw(k)||k.contentEditable==="true")&&(Ec=k,Oy=u,rh=null);break;case"focusout":rh=Oy=Ec=null;break;case"mousedown":Dy=!0;break;case"contextmenu":case"mouseup":case"dragend":Dy=!1,dw(h,t,d);break;case"selectionchange":if(L3)break;case"keydown":case"keyup":dw(h,t,d)}var R;if(Sx)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Sc?US(n,t)&&(N="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(BS&&t.locale!=="ko"&&(Sc||N!=="onCompositionStart"?N==="onCompositionEnd"&&Sc&&(R=HS()):(Ba=d,bx="value"in Ba?Ba.value:Ba.textContent,Sc=!0)),k=Xm(u,N),0<k.length&&(N=new nw(N,n,null,t,d),h.push({event:N,listeners:k}),R?N.data=R:(R=$S(t),R!==null&&(N.data=R)))),(R=w3?A3(n,t):S3(n,t))&&(u=Xm(u,"onBeforeInput"),0<u.length&&(d=new nw("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=R))}tE(h,e)})}function Sh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Xm(n,e){for(var t=e+"Capture",s=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=gh(n,t),i!=null&&s.unshift(Sh(n,i,r)),i=gh(n,e),i!=null&&s.push(Sh(n,i,r))),n=n.return}return s}function cc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function pw(n,e,t,s,r){for(var i=e._reactName,a=[];t!==null&&t!==s;){var o=t,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,r?(c=gh(t,i),c!=null&&a.unshift(Sh(t,c,o))):r||(c=gh(t,i),c!=null&&a.push(Sh(t,c,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var D3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function mw(n){return(typeof n=="string"?n:""+n).replace(D3,`
`).replace(I3,"")}function Rp(n,e,t){if(e=mw(e),mw(n)!==e&&t)throw Error(z(425))}function Ym(){}var Iy=null,zy=null;function Hy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,z3=typeof clearTimeout=="function"?clearTimeout:void 0,gw=typeof Promise=="function"?Promise:void 0,H3=typeof queueMicrotask=="function"?queueMicrotask:typeof gw<"u"?function(n){return gw.resolve(null).then(n).catch(B3)}:By;function B3(n){setTimeout(function(){throw n})}function Y0(n,e){var t=e,s=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){n.removeChild(r),xh(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);xh(e)}function Ga(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function yw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var fd=Math.random().toString(36).slice(2),jr="__reactFiber$"+fd,Eh="__reactProps$"+fd,Fi="__reactContainer$"+fd,Uy="__reactEvents$"+fd,U3="__reactListeners$"+fd,$3="__reactHandles$"+fd;function ko(n){var e=n[jr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Fi]||t[jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=yw(n);n!==null;){if(t=n[jr])return t;n=yw(n)}return e}n=t,t=n.parentNode}return null}function ap(n){return n=n[jr]||n[Fi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Cc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Yg(n){return n[Eh]||null}var $y=[],kc=-1;function co(n){return{current:n}}function Xe(n){0>kc||(n.current=$y[kc],$y[kc]=null,kc--)}function We(n,e){kc++,$y[kc]=n.current,n.current=e}var no={},mn=co(no),$n=co(!1),Ul=no;function nd(n,e){var t=n.type.contextTypes;if(!t)return no;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vn(n){return n=n.childContextTypes,n!=null}function Km(){Xe($n),Xe(mn)}function vw(n,e,t){if(mn.current!==no)throw Error(z(168));We(mn,e),We($n,t)}function sE(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(z(108,kT(n)||"Unknown",r));return it({},t,s)}function Qm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||no,Ul=mn.current,We(mn,n),We($n,$n.current),!0}function xw(n,e,t){var s=n.stateNode;if(!s)throw Error(z(169));t?(n=sE(n,e,Ul),s.__reactInternalMemoizedMergedChildContext=n,Xe($n),Xe(mn),We(mn,n)):Xe($n),We($n,t)}var Kr=null,Kg=!1,K0=!1;function rE(n){Kr===null?Kr=[n]:Kr.push(n)}function V3(n){Kg=!0,rE(n)}function uo(){if(!K0&&Kr!==null){K0=!0;var n=0,e=De;try{var t=Kr;for(De=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}Kr=null,Kg=!1}catch(r){throw Kr!==null&&(Kr=Kr.slice(n+1)),PS(gx,uo),r}finally{De=e,K0=!1}}return null}var Tc=[],Pc=0,Jm=null,Zm=0,As=[],Ss=0,$l=null,Ci=1,ki="";function vo(n,e){Tc[Pc++]=Zm,Tc[Pc++]=Jm,Jm=n,Zm=e}function iE(n,e,t){As[Ss++]=Ci,As[Ss++]=ki,As[Ss++]=$l,$l=n;var s=Ci;n=ki;var r=32-nr(s)-1;s&=~(1<<r),t+=1;var i=32-nr(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Ci=1<<32-nr(e)+r|t<<r|s,ki=i+n}else Ci=1<<i|t<<r|s,ki=n}function _x(n){n.return!==null&&(vo(n,1),iE(n,1,0))}function Cx(n){for(;n===Jm;)Jm=Tc[--Pc],Tc[Pc]=null,Zm=Tc[--Pc],Tc[Pc]=null;for(;n===$l;)$l=As[--Ss],As[Ss]=null,ki=As[--Ss],As[Ss]=null,Ci=As[--Ss],As[Ss]=null}var cs=null,ls=null,Qe=!1,Js=null;function aE(n,e){var t=Cs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function bw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,cs=n,ls=Ga(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,cs=n,ls=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$l!==null?{id:Ci,overflow:ki}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Cs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,cs=n,ls=null,!0):!1;default:return!1}}function Vy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Wy(n){if(Qe){var e=ls;if(e){var t=e;if(!bw(n,e)){if(Vy(n))throw Error(z(418));e=Ga(t.nextSibling);var s=cs;e&&bw(n,e)?aE(s,t):(n.flags=n.flags&-4097|2,Qe=!1,cs=n)}}else{if(Vy(n))throw Error(z(418));n.flags=n.flags&-4097|2,Qe=!1,cs=n}}}function ww(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;cs=n}function Np(n){if(n!==cs)return!1;if(!Qe)return ww(n),Qe=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Hy(n.type,n.memoizedProps)),e&&(e=ls)){if(Vy(n))throw oE(),Error(z(418));for(;e;)aE(n,e),e=Ga(e.nextSibling)}if(ww(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ls=Ga(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ls=null}}else ls=cs?Ga(n.stateNode.nextSibling):null;return!0}function oE(){for(var n=ls;n;)n=Ga(n.nextSibling)}function sd(){ls=cs=null,Qe=!1}function kx(n){Js===null?Js=[n]:Js.push(n)}var W3=Bi.ReactCurrentBatchConfig;function Ed(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var s=t.stateNode}if(!s)throw Error(z(147,n));var r=s,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function Mp(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Aw(n){var e=n._init;return e(n._payload)}function lE(n){function e(x,w){if(n){var y=x.deletions;y===null?(x.deletions=[w],x.flags|=16):y.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function s(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=Qa(x,w),x.index=0,x.sibling=null,x}function i(x,w,y){return x.index=y,n?(y=x.alternate,y!==null?(y=y.index,y<w?(x.flags|=2,w):y):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function o(x,w,y,_){return w===null||w.tag!==6?(w=sy(y,x.mode,_),w.return=x,w):(w=r(w,y),w.return=x,w)}function c(x,w,y,_){var C=y.type;return C===Ac?d(x,w,y.props.children,_,y.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ji&&Aw(C)===w.type)?(_=r(w,y.props),_.ref=Ed(x,w,y),_.return=x,_):(_=rm(y.type,y.key,y.props,null,x.mode,_),_.ref=Ed(x,w,y),_.return=x,_)}function u(x,w,y,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=ry(y,x.mode,_),w.return=x,w):(w=r(w,y.children||[]),w.return=x,w)}function d(x,w,y,_,C){return w===null||w.tag!==7?(w=zl(y,x.mode,_,C),w.return=x,w):(w=r(w,y),w.return=x,w)}function h(x,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sy(""+w,x.mode,y),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wp:return y=rm(w.type,w.key,w.props,null,x.mode,y),y.ref=Ed(x,null,w),y.return=x,y;case wc:return w=ry(w,x.mode,y),w.return=x,w;case Ji:var _=w._init;return h(x,_(w._payload),y)}if(Ld(w)||xd(w))return w=zl(w,x.mode,y,null),w.return=x,w;Mp(x,w)}return null}function p(x,w,y,_){var C=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:o(x,w,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wp:return y.key===C?c(x,w,y,_):null;case wc:return y.key===C?u(x,w,y,_):null;case Ji:return C=y._init,p(x,w,C(y._payload),_)}if(Ld(y)||xd(y))return C!==null?null:d(x,w,y,_,null);Mp(x,y)}return null}function g(x,w,y,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,o(w,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wp:return x=x.get(_.key===null?y:_.key)||null,c(w,x,_,C);case wc:return x=x.get(_.key===null?y:_.key)||null,u(w,x,_,C);case Ji:var k=_._init;return g(x,w,y,k(_._payload),C)}if(Ld(_)||xd(_))return x=x.get(y)||null,d(w,x,_,C,null);Mp(w,_)}return null}function m(x,w,y,_){for(var C=null,k=null,R=w,N=w=0,O=null;R!==null&&N<y.length;N++){R.index>N?(O=R,R=null):O=R.sibling;var j=p(x,R,y[N],_);if(j===null){R===null&&(R=O);break}n&&R&&j.alternate===null&&e(x,R),w=i(j,w,N),k===null?C=j:k.sibling=j,k=j,R=O}if(N===y.length)return t(x,R),Qe&&vo(x,N),C;if(R===null){for(;N<y.length;N++)R=h(x,y[N],_),R!==null&&(w=i(R,w,N),k===null?C=R:k.sibling=R,k=R);return Qe&&vo(x,N),C}for(R=s(x,R);N<y.length;N++)O=g(R,x,N,y[N],_),O!==null&&(n&&O.alternate!==null&&R.delete(O.key===null?N:O.key),w=i(O,w,N),k===null?C=O:k.sibling=O,k=O);return n&&R.forEach(function(I){return e(x,I)}),Qe&&vo(x,N),C}function v(x,w,y,_){var C=xd(y);if(typeof C!="function")throw Error(z(150));if(y=C.call(y),y==null)throw Error(z(151));for(var k=C=null,R=w,N=w=0,O=null,j=y.next();R!==null&&!j.done;N++,j=y.next()){R.index>N?(O=R,R=null):O=R.sibling;var I=p(x,R,j.value,_);if(I===null){R===null&&(R=O);break}n&&R&&I.alternate===null&&e(x,R),w=i(I,w,N),k===null?C=I:k.sibling=I,k=I,R=O}if(j.done)return t(x,R),Qe&&vo(x,N),C;if(R===null){for(;!j.done;N++,j=y.next())j=h(x,j.value,_),j!==null&&(w=i(j,w,N),k===null?C=j:k.sibling=j,k=j);return Qe&&vo(x,N),C}for(R=s(x,R);!j.done;N++,j=y.next())j=g(R,x,N,j.value,_),j!==null&&(n&&j.alternate!==null&&R.delete(j.key===null?N:j.key),w=i(j,w,N),k===null?C=j:k.sibling=j,k=j);return n&&R.forEach(function(B){return e(x,B)}),Qe&&vo(x,N),C}function S(x,w,y,_){if(typeof y=="object"&&y!==null&&y.type===Ac&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case wp:e:{for(var C=y.key,k=w;k!==null;){if(k.key===C){if(C=y.type,C===Ac){if(k.tag===7){t(x,k.sibling),w=r(k,y.props.children),w.return=x,x=w;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ji&&Aw(C)===k.type){t(x,k.sibling),w=r(k,y.props),w.ref=Ed(x,k,y),w.return=x,x=w;break e}t(x,k);break}else e(x,k);k=k.sibling}y.type===Ac?(w=zl(y.props.children,x.mode,_,y.key),w.return=x,x=w):(_=rm(y.type,y.key,y.props,null,x.mode,_),_.ref=Ed(x,w,y),_.return=x,x=_)}return a(x);case wc:e:{for(k=y.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){t(x,w.sibling),w=r(w,y.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=ry(y,x.mode,_),w.return=x,x=w}return a(x);case Ji:return k=y._init,S(x,w,k(y._payload),_)}if(Ld(y))return m(x,w,y,_);if(xd(y))return v(x,w,y,_);Mp(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(t(x,w.sibling),w=r(w,y),w.return=x,x=w):(t(x,w),w=sy(y,x.mode,_),w.return=x,x=w),a(x)):t(x,w)}return S}var rd=lE(!0),cE=lE(!1),eg=co(null),tg=null,Rc=null,Tx=null;function Px(){Tx=Rc=tg=null}function Rx(n){var e=eg.current;Xe(eg),n._currentValue=e}function qy(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Ic(n,e){tg=n,Tx=Rc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bn=!0),n.firstContext=null)}function Ps(n){var e=n._currentValue;if(Tx!==n)if(n={context:n,memoizedValue:e,next:null},Rc===null){if(tg===null)throw Error(z(308));Rc=n,tg.dependencies={lanes:0,firstContext:n}}else Rc=Rc.next=n;return e}var To=null;function Nx(n){To===null?To=[n]:To.push(n)}function uE(n,e,t,s){var r=e.interleaved;return r===null?(t.next=t,Nx(e)):(t.next=r.next,r.next=t),e.interleaved=t,Oi(n,s)}function Oi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Zi=!1;function Mx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ti(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,_e&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Oi(n,t)}return r=s.interleaved,r===null?(e.next=e,Nx(s)):(e.next=r.next,r.next=e),s.interleaved=e,Oi(n,t)}function Jp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,yx(n,t)}}function Sw(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ng(n,e,t,s){var r=n.updateQueue;Zi=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,o=i;do{var p=o.lane,g=o.eventTime;if((s&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=n,v=o;switch(p=e,g=t,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(g,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,p=typeof m=="function"?m.call(g,h,p):m,p==null)break e;h=it({},h,p);break e;case 2:Zi=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,a|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Wl|=a,n.lanes=a,n.memoizedState=h}}function Ew(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var op={},zr=co(op),_h=co(op),Ch=co(op);function Po(n){if(n===op)throw Error(z(174));return n}function Lx(n,e){switch(We(Ch,e),We(_h,n),We(zr,op),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cy(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Cy(e,n)}Xe(zr),We(zr,e)}function id(){Xe(zr),Xe(_h),Xe(Ch)}function hE(n){Po(Ch.current);var e=Po(zr.current),t=Cy(e,n.type);e!==t&&(We(_h,n),We(zr,t))}function jx(n){_h.current===n&&(Xe(zr),Xe(_h))}var st=co(0);function sg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Q0=[];function Fx(){for(var n=0;n<Q0.length;n++)Q0[n]._workInProgressVersionPrimary=null;Q0.length=0}var Zp=Bi.ReactCurrentDispatcher,J0=Bi.ReactCurrentBatchConfig,Vl=0,rt=null,Rt=null,Wt=null,rg=!1,ih=!1,kh=0,q3=0;function nn(){throw Error(z(321))}function Ox(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!rr(n[t],e[t]))return!1;return!0}function Dx(n,e,t,s,r,i){if(Vl=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zp.current=n===null||n.memoizedState===null?K3:Q3,n=t(s,r),ih){i=0;do{if(ih=!1,kh=0,25<=i)throw Error(z(301));i+=1,Wt=Rt=null,e.updateQueue=null,Zp.current=J3,n=t(s,r)}while(ih)}if(Zp.current=ig,e=Rt!==null&&Rt.next!==null,Vl=0,Wt=Rt=rt=null,rg=!1,e)throw Error(z(300));return n}function Ix(){var n=kh!==0;return kh=0,n}function dr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?rt.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function Rs(){if(Rt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=Rt.next;var e=Wt===null?rt.memoizedState:Wt.next;if(e!==null)Wt=e,Rt=n;else{if(n===null)throw Error(z(310));Rt=n,n={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Wt===null?rt.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}function Th(n,e){return typeof e=="function"?e(n):e}function Z0(n){var e=Rs(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=Rt,r=s.baseQueue,i=t.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((Vl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=s):c=c.next=h,rt.lanes|=d,Wl|=d}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=o,rr(s,e.memoizedState)||(Bn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=c,t.lastRenderedState=s}if(n=t.interleaved,n!==null){r=n;do i=r.lane,rt.lanes|=i,Wl|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ey(n){var e=Rs(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do i=n(i,a.action),a=a.next;while(a!==r);rr(i,e.memoizedState)||(Bn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,s]}function fE(){}function pE(n,e){var t=rt,s=Rs(),r=e(),i=!rr(s.memoizedState,r);if(i&&(s.memoizedState=r,Bn=!0),s=s.queue,zx(yE.bind(null,t,s,n),[n]),s.getSnapshot!==e||i||Wt!==null&&Wt.memoizedState.tag&1){if(t.flags|=2048,Ph(9,gE.bind(null,t,s,r,e),void 0,null),qt===null)throw Error(z(349));Vl&30||mE(t,e,r)}return r}function mE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function gE(n,e,t,s){e.value=t,e.getSnapshot=s,vE(e)&&xE(n)}function yE(n,e,t){return t(function(){vE(e)&&xE(n)})}function vE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!rr(n,t)}catch{return!0}}function xE(n){var e=Oi(n,1);e!==null&&sr(e,n,1,-1)}function _w(n){var e=dr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:n},e.queue=n,n=n.dispatch=Y3.bind(null,rt,n),[e.memoizedState,n]}function Ph(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function bE(){return Rs().memoizedState}function em(n,e,t,s){var r=dr();rt.flags|=n,r.memoizedState=Ph(1|e,t,void 0,s===void 0?null:s)}function Qg(n,e,t,s){var r=Rs();s=s===void 0?null:s;var i=void 0;if(Rt!==null){var a=Rt.memoizedState;if(i=a.destroy,s!==null&&Ox(s,a.deps)){r.memoizedState=Ph(e,t,i,s);return}}rt.flags|=n,r.memoizedState=Ph(1|e,t,i,s)}function Cw(n,e){return em(8390656,8,n,e)}function zx(n,e){return Qg(2048,8,n,e)}function wE(n,e){return Qg(4,2,n,e)}function AE(n,e){return Qg(4,4,n,e)}function SE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function EE(n,e,t){return t=t!=null?t.concat([n]):null,Qg(4,4,SE.bind(null,e,n),t)}function Hx(){}function _E(n,e){var t=Rs();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Ox(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function CE(n,e){var t=Rs();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Ox(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function kE(n,e,t){return Vl&21?(rr(t,e)||(t=MS(),rt.lanes|=t,Wl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bn=!0),n.memoizedState=t)}function G3(n,e){var t=De;De=t!==0&&4>t?t:4,n(!0);var s=J0.transition;J0.transition={};try{n(!1),e()}finally{De=t,J0.transition=s}}function TE(){return Rs().memoizedState}function X3(n,e,t){var s=Ka(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},PE(n))RE(e,t);else if(t=uE(n,e,t,s),t!==null){var r=_n();sr(t,n,s,r),NE(t,e,s)}}function Y3(n,e,t){var s=Ka(n),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(PE(n))RE(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(r.hasEagerState=!0,r.eagerState=o,rr(o,a)){var c=e.interleaved;c===null?(r.next=r,Nx(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=uE(n,e,r,s),t!==null&&(r=_n(),sr(t,n,s,r),NE(t,e,s))}}function PE(n){var e=n.alternate;return n===rt||e!==null&&e===rt}function RE(n,e){ih=rg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function NE(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,yx(n,t)}}var ig={readContext:Ps,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},K3={readContext:Ps,useCallback:function(n,e){return dr().memoizedState=[n,e===void 0?null:e],n},useContext:Ps,useEffect:Cw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,em(4194308,4,SE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return em(4194308,4,n,e)},useInsertionEffect:function(n,e){return em(4,2,n,e)},useMemo:function(n,e){var t=dr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=dr();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=X3.bind(null,rt,n),[s.memoizedState,n]},useRef:function(n){var e=dr();return n={current:n},e.memoizedState=n},useState:_w,useDebugValue:Hx,useDeferredValue:function(n){return dr().memoizedState=n},useTransition:function(){var n=_w(!1),e=n[0];return n=G3.bind(null,n[1]),dr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=rt,r=dr();if(Qe){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),qt===null)throw Error(z(349));Vl&30||mE(s,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,Cw(yE.bind(null,s,i,n),[n]),s.flags|=2048,Ph(9,gE.bind(null,s,i,t,e),void 0,null),t},useId:function(){var n=dr(),e=qt.identifierPrefix;if(Qe){var t=ki,s=Ci;t=(s&~(1<<32-nr(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=kh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=q3++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Q3={readContext:Ps,useCallback:_E,useContext:Ps,useEffect:zx,useImperativeHandle:EE,useInsertionEffect:wE,useLayoutEffect:AE,useMemo:CE,useReducer:Z0,useRef:bE,useState:function(){return Z0(Th)},useDebugValue:Hx,useDeferredValue:function(n){var e=Rs();return kE(e,Rt.memoizedState,n)},useTransition:function(){var n=Z0(Th)[0],e=Rs().memoizedState;return[n,e]},useMutableSource:fE,useSyncExternalStore:pE,useId:TE,unstable_isNewReconciler:!1},J3={readContext:Ps,useCallback:_E,useContext:Ps,useEffect:zx,useImperativeHandle:EE,useInsertionEffect:wE,useLayoutEffect:AE,useMemo:CE,useReducer:ey,useRef:bE,useState:function(){return ey(Th)},useDebugValue:Hx,useDeferredValue:function(n){var e=Rs();return Rt===null?e.memoizedState=n:kE(e,Rt.memoizedState,n)},useTransition:function(){var n=ey(Th)[0],e=Rs().memoizedState;return[n,e]},useMutableSource:fE,useSyncExternalStore:pE,useId:TE,unstable_isNewReconciler:!1};function js(n,e){if(n&&n.defaultProps){e=it({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Gy(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:it({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Jg={isMounted:function(n){return(n=n._reactInternals)?sc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=_n(),r=Ka(n),i=Ti(s,r);i.payload=e,t!=null&&(i.callback=t),e=Xa(n,i,r),e!==null&&(sr(e,n,r,s),Jp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=_n(),r=Ka(n),i=Ti(s,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Xa(n,i,r),e!==null&&(sr(e,n,r,s),Jp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=_n(),s=Ka(n),r=Ti(t,s);r.tag=2,e!=null&&(r.callback=e),e=Xa(n,r,s),e!==null&&(sr(e,n,s,t),Jp(e,n,s))}};function kw(n,e,t,s,r,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!wh(t,s)||!wh(r,i):!0}function ME(n,e,t){var s=!1,r=no,i=e.contextType;return typeof i=="object"&&i!==null?i=Ps(i):(r=Vn(e)?Ul:mn.current,s=e.contextTypes,i=(s=s!=null)?nd(n,r):no),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jg,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function Tw(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Jg.enqueueReplaceState(e,e.state,null)}function Xy(n,e,t,s){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Mx(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ps(i):(i=Vn(e)?Ul:mn.current,r.context=nd(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gy(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Jg.enqueueReplaceState(r,r.state,null),ng(n,t,r,s),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function ad(n,e){try{var t="",s=e;do t+=CT(s),s=s.return;while(s);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function ty(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Yy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Z3=typeof WeakMap=="function"?WeakMap:Map;function LE(n,e,t){t=Ti(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){og||(og=!0,iv=s),Yy(n,e)},t}function jE(n,e,t){t=Ti(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){Yy(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Yy(n,e),typeof s!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Pw(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new Z3;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),n=fP.bind(null,n,e,t),e.then(n,n))}function Rw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Nw(n,e,t,s,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ti(-1,1),e.tag=2,Xa(t,e,1))),t.lanes|=1),n)}var eP=Bi.ReactCurrentOwner,Bn=!1;function An(n,e,t,s){e.child=n===null?cE(e,null,t,s):rd(e,n.child,t,s)}function Mw(n,e,t,s,r){t=t.render;var i=e.ref;return Ic(e,r),s=Dx(n,e,t,s,i,r),t=Ix(),n!==null&&!Bn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Di(n,e,r)):(Qe&&t&&_x(e),e.flags|=1,An(n,e,s,r),e.child)}function Lw(n,e,t,s,r){if(n===null){var i=t.type;return typeof i=="function"&&!Xx(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,FE(n,e,i,s,r)):(n=rm(t.type,null,s,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:wh,t(a,s)&&n.ref===e.ref)return Di(n,e,r)}return e.flags|=1,n=Qa(i,s),n.ref=e.ref,n.return=e,e.child=n}function FE(n,e,t,s,r){if(n!==null){var i=n.memoizedProps;if(wh(i,s)&&n.ref===e.ref)if(Bn=!1,e.pendingProps=s=i,(n.lanes&r)!==0)n.flags&131072&&(Bn=!0);else return e.lanes=n.lanes,Di(n,e,r)}return Ky(n,e,t,s,r)}function OE(n,e,t){var s=e.pendingProps,r=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Mc,is),is|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,We(Mc,is),is|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:t,We(Mc,is),is|=s}else i!==null?(s=i.baseLanes|t,e.memoizedState=null):s=t,We(Mc,is),is|=s;return An(n,e,r,t),e.child}function DE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ky(n,e,t,s,r){var i=Vn(t)?Ul:mn.current;return i=nd(e,i),Ic(e,r),t=Dx(n,e,t,s,i,r),s=Ix(),n!==null&&!Bn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Di(n,e,r)):(Qe&&s&&_x(e),e.flags|=1,An(n,e,t,r),e.child)}function jw(n,e,t,s,r){if(Vn(t)){var i=!0;Qm(e)}else i=!1;if(Ic(e,r),e.stateNode===null)tm(n,e),ME(e,t,s),Xy(e,t,s,r),s=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ps(u):(u=Vn(t)?Ul:mn.current,u=nd(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||c!==u)&&Tw(e,a,s,u),Zi=!1;var p=e.memoizedState;a.state=p,ng(e,s,a,r),c=e.memoizedState,o!==s||p!==c||$n.current||Zi?(typeof d=="function"&&(Gy(e,t,d,s),c=e.memoizedState),(o=Zi||kw(e,t,o,s,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),a.props=s,a.state=c,a.context=u,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,dE(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:js(e.type,o),a.props=u,h=e.pendingProps,p=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=Ps(c):(c=Vn(t)?Ul:mn.current,c=nd(e,c));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==c)&&Tw(e,a,s,c),Zi=!1,p=e.memoizedState,a.state=p,ng(e,s,a,r);var m=e.memoizedState;o!==h||p!==m||$n.current||Zi?(typeof g=="function"&&(Gy(e,t,g,s),m=e.memoizedState),(u=Zi||kw(e,t,u,s,p,m,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),a.props=s,a.state=m,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),s=!1)}return Qy(n,e,t,s,i,r)}function Qy(n,e,t,s,r,i){DE(n,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&xw(e,t,!1),Di(n,e,i);s=e.stateNode,eP.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&a?(e.child=rd(e,n.child,null,i),e.child=rd(e,null,o,i)):An(n,e,o,i),e.memoizedState=s.state,r&&xw(e,t,!0),e.child}function IE(n){var e=n.stateNode;e.pendingContext?vw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&vw(n,e.context,!1),Lx(n,e.containerInfo)}function Fw(n,e,t,s,r){return sd(),kx(r),e.flags|=256,An(n,e,t,s),e.child}var Jy={dehydrated:null,treeContext:null,retryLane:0};function Zy(n){return{baseLanes:n,cachePool:null,transitions:null}}function zE(n,e,t){var s=e.pendingProps,r=st.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),We(st,r&1),n===null)return Wy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,n=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=t0(a,s,0,null),n=zl(n,s,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Zy(t),e.memoizedState=Jy,n):Bx(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return tP(n,e,a,s,o,r,t);if(i){i=s.fallback,a=e.mode,r=n.child,o=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Qa(r,c),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=Qa(o,i):(i=zl(i,a,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=n.child.memoizedState,a=a===null?Zy(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=Jy,s}return i=n.child,n=i.sibling,s=Qa(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function Bx(n,e){return e=t0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Lp(n,e,t,s){return s!==null&&kx(s),rd(e,n.child,null,t),n=Bx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function tP(n,e,t,s,r,i,a){if(t)return e.flags&256?(e.flags&=-257,s=ty(Error(z(422))),Lp(n,e,a,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=t0({mode:"visible",children:s.children},r,0,null),i=zl(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&rd(e,n.child,null,a),e.child.memoizedState=Zy(a),e.memoizedState=Jy,i);if(!(e.mode&1))return Lp(n,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(z(419)),s=ty(i,s,void 0),Lp(n,e,a,s)}if(o=(a&n.childLanes)!==0,Bn||o){if(s=qt,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Oi(n,r),sr(s,n,r,-1))}return Gx(),s=ty(Error(z(421))),Lp(n,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=pP.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,ls=Ga(r.nextSibling),cs=e,Qe=!0,Js=null,n!==null&&(As[Ss++]=Ci,As[Ss++]=ki,As[Ss++]=$l,Ci=n.id,ki=n.overflow,$l=e),e=Bx(e,s.children),e.flags|=4096,e)}function Ow(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),qy(n.return,e,t)}function ny(n,e,t,s,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=t,i.tailMode=r)}function HE(n,e,t){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(An(n,e,s.children,t),s=st.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ow(n,t,e);else if(n.tag===19)Ow(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(We(st,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&sg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),ny(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&sg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}ny(e,!0,t,null,i);break;case"together":ny(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Di(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Wl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Qa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Qa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function nP(n,e,t){switch(e.tag){case 3:IE(e),sd();break;case 5:hE(e);break;case 1:Vn(e.type)&&Qm(e);break;case 4:Lx(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;We(eg,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(We(st,st.current&1),e.flags|=128,null):t&e.child.childLanes?zE(n,e,t):(We(st,st.current&1),n=Di(n,e,t),n!==null?n.sibling:null);We(st,st.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return HE(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),We(st,st.current),s)break;return null;case 22:case 23:return e.lanes=0,OE(n,e,t)}return Di(n,e,t)}var BE,ev,UE,$E;BE=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ev=function(){};UE=function(n,e,t,s){var r=n.memoizedProps;if(r!==s){n=e.stateNode,Po(zr.current);var i=null;switch(t){case"input":r=Ay(n,r),s=Ay(n,s),i=[];break;case"select":r=it({},r,{value:void 0}),s=it({},s,{value:void 0}),i=[];break;case"textarea":r=_y(n,r),s=_y(n,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Ym)}ky(t,s);var a;t=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ph.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(o=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(i||(i=[]),i.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ph.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",n),i||o===c||(i=[])):(i=i||[]).push(u,c))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};$E=function(n,e,t,s){t!==s&&(e.flags|=4)};function _d(n,e){if(!Qe)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function sn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function sP(n,e,t){var s=e.pendingProps;switch(Cx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Vn(e.type)&&Km(),sn(e),null;case 3:return s=e.stateNode,id(),Xe($n),Xe(mn),Fx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Np(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Js!==null&&(lv(Js),Js=null))),ev(n,e),sn(e),null;case 5:jx(e);var r=Po(Ch.current);if(t=e.type,n!==null&&e.stateNode!=null)UE(n,e,t,s,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(z(166));return sn(e),null}if(n=Po(zr.current),Np(e)){s=e.stateNode,t=e.type;var i=e.memoizedProps;switch(s[jr]=e,s[Eh]=i,n=(e.mode&1)!==0,t){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(r=0;r<Fd.length;r++)qe(Fd[r],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":Wb(s,i),qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},qe("invalid",s);break;case"textarea":Gb(s,i),qe("invalid",s)}ky(t,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&Rp(s.textContent,o,n),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Rp(s.textContent,o,n),r=["children",""+o]):ph.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&qe("scroll",s)}switch(t){case"input":Ap(s),qb(s,i,!0);break;case"textarea":Ap(s),Xb(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ym)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=yS(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=a.createElement(t,{is:s.is}):(n=a.createElement(t),t==="select"&&(a=n,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):n=a.createElementNS(n,t),n[jr]=e,n[Eh]=s,BE(n,e,!1,!1),e.stateNode=n;e:{switch(a=Ty(t,s),t){case"dialog":qe("cancel",n),qe("close",n),r=s;break;case"iframe":case"object":case"embed":qe("load",n),r=s;break;case"video":case"audio":for(r=0;r<Fd.length;r++)qe(Fd[r],n);r=s;break;case"source":qe("error",n),r=s;break;case"img":case"image":case"link":qe("error",n),qe("load",n),r=s;break;case"details":qe("toggle",n),r=s;break;case"input":Wb(n,s),r=Ay(n,s),qe("invalid",n);break;case"option":r=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},r=it({},s,{value:void 0}),qe("invalid",n);break;case"textarea":Gb(n,s),r=_y(n,s),qe("invalid",n);break;default:r=s}ky(t,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?bS(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vS(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&mh(n,c):typeof c=="number"&&mh(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ph.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qe("scroll",n):c!=null&&dx(n,i,c,a))}switch(t){case"input":Ap(n),qb(n,s,!1);break;case"textarea":Ap(n),Xb(n);break;case"option":s.value!=null&&n.setAttribute("value",""+to(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?jc(n,!!s.multiple,i,!1):s.defaultValue!=null&&jc(n,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Ym)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(n&&e.stateNode!=null)$E(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(z(166));if(t=Po(Ch.current),Po(zr.current),Np(e)){if(s=e.stateNode,t=e.memoizedProps,s[jr]=e,(i=s.nodeValue!==t)&&(n=cs,n!==null))switch(n.tag){case 3:Rp(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Rp(s.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[jr]=e,e.stateNode=s}return sn(e),null;case 13:if(Xe(st),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&ls!==null&&e.mode&1&&!(e.flags&128))oE(),sd(),e.flags|=98560,i=!1;else if(i=Np(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[jr]=e}else sd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),i=!1}else Js!==null&&(lv(Js),Js=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||st.current&1?jt===0&&(jt=3):Gx())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return id(),ev(n,e),n===null&&Ah(e.stateNode.containerInfo),sn(e),null;case 10:return Rx(e.type._context),sn(e),null;case 17:return Vn(e.type)&&Km(),sn(e),null;case 19:if(Xe(st),i=e.memoizedState,i===null)return sn(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)_d(i,!1);else{if(jt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=sg(n),a!==null){for(e.flags|=128,_d(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)i=t,n=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return We(st,st.current&1|2),e.child}n=n.sibling}i.tail!==null&&mt()>od&&(e.flags|=128,s=!0,_d(i,!1),e.lanes=4194304)}else{if(!s)if(n=sg(a),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_d(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Qe)return sn(e),null}else 2*mt()-i.renderingStartTime>od&&t!==1073741824&&(e.flags|=128,s=!0,_d(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mt(),e.sibling=null,t=st.current,We(st,s?t&1|2:t&1),e):(sn(e),null);case 22:case 23:return qx(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?is&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function rP(n,e){switch(Cx(e),e.tag){case 1:return Vn(e.type)&&Km(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return id(),Xe($n),Xe(mn),Fx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return jx(e),null;case 13:if(Xe(st),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));sd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Xe(st),null;case 4:return id(),null;case 10:return Rx(e.type._context),null;case 22:case 23:return qx(),null;case 24:return null;default:return null}}var jp=!1,dn=!1,iP=typeof WeakSet=="function"?WeakSet:Set,J=null;function Nc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){ut(n,e,s)}else t.current=null}function tv(n,e,t){try{t()}catch(s){ut(n,e,s)}}var Dw=!1;function aP(n,e){if(Iy=qm,n=XS(),Ex(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var g;h!==t||r!==0&&h.nodeType!==3||(o=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++u===r&&(o=a),p===i&&++d===s&&(c=a),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=o===-1||c===-1?null:{start:o,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(zy={focusedElem:n,selectionRange:t},qm=!1,J=e;J!==null;)if(e=J,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,J=n;else for(;J!==null;){e=J;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:js(e.type,v),S);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(_){ut(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}return m=Dw,Dw=!1,m}function ah(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&tv(e,t,i)}r=r.next}while(r!==s)}}function Zg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function nv(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function VE(n){var e=n.alternate;e!==null&&(n.alternate=null,VE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[jr],delete e[Eh],delete e[Uy],delete e[U3],delete e[$3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function WE(n){return n.tag===5||n.tag===3||n.tag===4}function Iw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||WE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sv(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ym));else if(s!==4&&(n=n.child,n!==null))for(sv(n,e,t),n=n.sibling;n!==null;)sv(n,e,t),n=n.sibling}function rv(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(rv(n,e,t),n=n.sibling;n!==null;)rv(n,e,t),n=n.sibling}var Jt=null,Qs=!1;function Gi(n,e,t){for(t=t.child;t!==null;)qE(n,e,t),t=t.sibling}function qE(n,e,t){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Wg,t)}catch{}switch(t.tag){case 5:dn||Nc(t,e);case 6:var s=Jt,r=Qs;Jt=null,Gi(n,e,t),Jt=s,Qs=r,Jt!==null&&(Qs?(n=Jt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Jt.removeChild(t.stateNode));break;case 18:Jt!==null&&(Qs?(n=Jt,t=t.stateNode,n.nodeType===8?Y0(n.parentNode,t):n.nodeType===1&&Y0(n,t),xh(n)):Y0(Jt,t.stateNode));break;case 4:s=Jt,r=Qs,Jt=t.stateNode.containerInfo,Qs=!0,Gi(n,e,t),Jt=s,Qs=r;break;case 0:case 11:case 14:case 15:if(!dn&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&tv(t,e,a),r=r.next}while(r!==s)}Gi(n,e,t);break;case 1:if(!dn&&(Nc(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(o){ut(t,e,o)}Gi(n,e,t);break;case 21:Gi(n,e,t);break;case 22:t.mode&1?(dn=(s=dn)||t.memoizedState!==null,Gi(n,e,t),dn=s):Gi(n,e,t);break;default:Gi(n,e,t)}}function zw(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new iP),e.forEach(function(s){var r=mP.bind(null,n,s);t.has(s)||(t.add(s),s.then(r,r))})}}function Ms(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Jt=o.stateNode,Qs=!1;break e;case 3:Jt=o.stateNode.containerInfo,Qs=!0;break e;case 4:Jt=o.stateNode.containerInfo,Qs=!0;break e}o=o.return}if(Jt===null)throw Error(z(160));qE(i,a,r),Jt=null,Qs=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){ut(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GE(e,n),e=e.sibling}function GE(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ms(e,n),or(n),s&4){try{ah(3,n,n.return),Zg(3,n)}catch(v){ut(n,n.return,v)}try{ah(5,n,n.return)}catch(v){ut(n,n.return,v)}}break;case 1:Ms(e,n),or(n),s&512&&t!==null&&Nc(t,t.return);break;case 5:if(Ms(e,n),or(n),s&512&&t!==null&&Nc(t,t.return),n.flags&32){var r=n.stateNode;try{mh(r,"")}catch(v){ut(n,n.return,v)}}if(s&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&mS(r,i),Ty(o,a);var u=Ty(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?bS(r,h):d==="dangerouslySetInnerHTML"?vS(r,h):d==="children"?mh(r,h):dx(r,d,h,u)}switch(o){case"input":Sy(r,i);break;case"textarea":gS(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?jc(r,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?jc(r,!!i.multiple,i.defaultValue,!0):jc(r,!!i.multiple,i.multiple?[]:"",!1))}r[Eh]=i}catch(v){ut(n,n.return,v)}}break;case 6:if(Ms(e,n),or(n),s&4){if(n.stateNode===null)throw Error(z(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(v){ut(n,n.return,v)}}break;case 3:if(Ms(e,n),or(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{xh(e.containerInfo)}catch(v){ut(n,n.return,v)}break;case 4:Ms(e,n),or(n);break;case 13:Ms(e,n),or(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Vx=mt())),s&4&&zw(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(dn=(u=dn)||d,Ms(e,n),dn=u):Ms(e,n),or(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(J=n,d=n.child;d!==null;){for(h=J=d;J!==null;){switch(p=J,g=p.child,p.tag){case 0:case 11:case 14:case 15:ah(4,p,p.return);break;case 1:Nc(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){s=p,t=p.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ut(s,t,v)}}break;case 5:Nc(p,p.return);break;case 22:if(p.memoizedState!==null){Bw(h);continue}}g!==null?(g.return=p,J=g):Bw(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=xS("display",a))}catch(v){ut(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ut(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ms(e,n),or(n),s&4&&zw(n);break;case 21:break;default:Ms(e,n),or(n)}}function or(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(WE(t)){var s=t;break e}t=t.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(mh(r,""),s.flags&=-33);var i=Iw(n);rv(n,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,o=Iw(n);sv(n,o,a);break;default:throw Error(z(161))}}catch(c){ut(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function oP(n,e,t){J=n,XE(n)}function XE(n,e,t){for(var s=(n.mode&1)!==0;J!==null;){var r=J,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||jp;if(!a){var o=r.alternate,c=o!==null&&o.memoizedState!==null||dn;o=jp;var u=dn;if(jp=a,(dn=c)&&!u)for(J=r;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?Uw(r):c!==null?(c.return=a,J=c):Uw(r);for(;i!==null;)J=i,XE(i),i=i.sibling;J=r,jp=o,dn=u}Hw(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,J=i):Hw(n)}}function Hw(n){for(;J!==null;){var e=J;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Zg(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!dn)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:js(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ew(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Ew(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}dn||e.flags&512&&nv(e)}catch(p){ut(e,e.return,p)}}if(e===n){J=null;break}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}}function Bw(n){for(;J!==null;){var e=J;if(e===n){J=null;break}var t=e.sibling;if(t!==null){t.return=e.return,J=t;break}J=e.return}}function Uw(n){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Zg(4,e)}catch(c){ut(e,t,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){ut(e,r,c)}}var i=e.return;try{nv(e)}catch(c){ut(e,i,c)}break;case 5:var a=e.return;try{nv(e)}catch(c){ut(e,a,c)}}}catch(c){ut(e,e.return,c)}if(e===n){J=null;break}var o=e.sibling;if(o!==null){o.return=e.return,J=o;break}J=e.return}}var lP=Math.ceil,ag=Bi.ReactCurrentDispatcher,Ux=Bi.ReactCurrentOwner,ks=Bi.ReactCurrentBatchConfig,_e=0,qt=null,At=null,Zt=0,is=0,Mc=co(0),jt=0,Rh=null,Wl=0,e0=0,$x=0,oh=null,Hn=null,Vx=0,od=1/0,Gr=null,og=!1,iv=null,Ya=null,Fp=!1,Ua=null,lg=0,lh=0,av=null,nm=-1,sm=0;function _n(){return _e&6?mt():nm!==-1?nm:nm=mt()}function Ka(n){return n.mode&1?_e&2&&Zt!==0?Zt&-Zt:W3.transition!==null?(sm===0&&(sm=MS()),sm):(n=De,n!==0||(n=window.event,n=n===void 0?16:zS(n.type)),n):1}function sr(n,e,t,s){if(50<lh)throw lh=0,av=null,Error(z(185));rp(n,t,s),(!(_e&2)||n!==qt)&&(n===qt&&(!(_e&2)&&(e0|=t),jt===4&&ta(n,Zt)),Wn(n,s),t===1&&_e===0&&!(e.mode&1)&&(od=mt()+500,Kg&&uo()))}function Wn(n,e){var t=n.callbackNode;WT(n,e);var s=Wm(n,n===qt?Zt:0);if(s===0)t!==null&&Qb(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&Qb(t),e===1)n.tag===0?V3($w.bind(null,n)):rE($w.bind(null,n)),H3(function(){!(_e&6)&&uo()}),t=null;else{switch(LS(s)){case 1:t=gx;break;case 4:t=RS;break;case 16:t=Vm;break;case 536870912:t=NS;break;default:t=Vm}t=n_(t,YE.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function YE(n,e){if(nm=-1,sm=0,_e&6)throw Error(z(327));var t=n.callbackNode;if(zc()&&n.callbackNode!==t)return null;var s=Wm(n,n===qt?Zt:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=cg(n,s);else{e=s;var r=_e;_e|=2;var i=QE();(qt!==n||Zt!==e)&&(Gr=null,od=mt()+500,Il(n,e));do try{dP();break}catch(o){KE(n,o)}while(!0);Px(),ag.current=i,_e=r,At!==null?e=0:(qt=null,Zt=0,e=jt)}if(e!==0){if(e===2&&(r=Ly(n),r!==0&&(s=r,e=ov(n,r))),e===1)throw t=Rh,Il(n,0),ta(n,s),Wn(n,mt()),t;if(e===6)ta(n,s);else{if(r=n.current.alternate,!(s&30)&&!cP(r)&&(e=cg(n,s),e===2&&(i=Ly(n),i!==0&&(s=i,e=ov(n,i))),e===1))throw t=Rh,Il(n,0),ta(n,s),Wn(n,mt()),t;switch(n.finishedWork=r,n.finishedLanes=s,e){case 0:case 1:throw Error(z(345));case 2:xo(n,Hn,Gr);break;case 3:if(ta(n,s),(s&130023424)===s&&(e=Vx+500-mt(),10<e)){if(Wm(n,0)!==0)break;if(r=n.suspendedLanes,(r&s)!==s){_n(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=By(xo.bind(null,n,Hn,Gr),e);break}xo(n,Hn,Gr);break;case 4:if(ta(n,s),(s&4194240)===s)break;for(e=n.eventTimes,r=-1;0<s;){var a=31-nr(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=mt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lP(s/1960))-s,10<s){n.timeoutHandle=By(xo.bind(null,n,Hn,Gr),s);break}xo(n,Hn,Gr);break;case 5:xo(n,Hn,Gr);break;default:throw Error(z(329))}}}return Wn(n,mt()),n.callbackNode===t?YE.bind(null,n):null}function ov(n,e){var t=oh;return n.current.memoizedState.isDehydrated&&(Il(n,e).flags|=256),n=cg(n,e),n!==2&&(e=Hn,Hn=t,e!==null&&lv(e)),n}function lv(n){Hn===null?Hn=n:Hn.push.apply(Hn,n)}function cP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],i=r.getSnapshot;r=r.value;try{if(!rr(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ta(n,e){for(e&=~$x,e&=~e0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-nr(e),s=1<<t;n[t]=-1,e&=~s}}function $w(n){if(_e&6)throw Error(z(327));zc();var e=Wm(n,0);if(!(e&1))return Wn(n,mt()),null;var t=cg(n,e);if(n.tag!==0&&t===2){var s=Ly(n);s!==0&&(e=s,t=ov(n,s))}if(t===1)throw t=Rh,Il(n,0),ta(n,e),Wn(n,mt()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,xo(n,Hn,Gr),Wn(n,mt()),null}function Wx(n,e){var t=_e;_e|=1;try{return n(e)}finally{_e=t,_e===0&&(od=mt()+500,Kg&&uo())}}function ql(n){Ua!==null&&Ua.tag===0&&!(_e&6)&&zc();var e=_e;_e|=1;var t=ks.transition,s=De;try{if(ks.transition=null,De=1,n)return n()}finally{De=s,ks.transition=t,_e=e,!(_e&6)&&uo()}}function qx(){is=Mc.current,Xe(Mc)}function Il(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,z3(t)),At!==null)for(t=At.return;t!==null;){var s=t;switch(Cx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Km();break;case 3:id(),Xe($n),Xe(mn),Fx();break;case 5:jx(s);break;case 4:id();break;case 13:Xe(st);break;case 19:Xe(st);break;case 10:Rx(s.type._context);break;case 22:case 23:qx()}t=t.return}if(qt=n,At=n=Qa(n.current,null),Zt=is=e,jt=0,Rh=null,$x=e0=Wl=0,Hn=oh=null,To!==null){for(e=0;e<To.length;e++)if(t=To[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,i=t.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}t.pending=s}To=null}return n}function KE(n,e){do{var t=At;try{if(Px(),Zp.current=ig,rg){for(var s=rt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}rg=!1}if(Vl=0,Wt=Rt=rt=null,ih=!1,kh=0,Ux.current=null,t===null||t.return===null){jt=1,Rh=e,At=null;break}e:{var i=n,a=t.return,o=t,c=e;if(e=Zt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Rw(a);if(g!==null){g.flags&=-257,Nw(g,a,o,i,e),g.mode&1&&Pw(i,u,e),e=g,c=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(c),e.updateQueue=v}else m.add(c);break e}else{if(!(e&1)){Pw(i,u,e),Gx();break e}c=Error(z(426))}}else if(Qe&&o.mode&1){var S=Rw(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Nw(S,a,o,i,e),kx(ad(c,o));break e}}i=c=ad(c,o),jt!==4&&(jt=2),oh===null?oh=[i]:oh.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=LE(i,c,e);Sw(i,x);break e;case 1:o=c;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ya===null||!Ya.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=jE(i,o,e);Sw(i,_);break e}}i=i.return}while(i!==null)}ZE(t)}catch(C){e=C,At===t&&t!==null&&(At=t=t.return);continue}break}while(!0)}function QE(){var n=ag.current;return ag.current=ig,n===null?ig:n}function Gx(){(jt===0||jt===3||jt===2)&&(jt=4),qt===null||!(Wl&268435455)&&!(e0&268435455)||ta(qt,Zt)}function cg(n,e){var t=_e;_e|=2;var s=QE();(qt!==n||Zt!==e)&&(Gr=null,Il(n,e));do try{uP();break}catch(r){KE(n,r)}while(!0);if(Px(),_e=t,ag.current=s,At!==null)throw Error(z(261));return qt=null,Zt=0,jt}function uP(){for(;At!==null;)JE(At)}function dP(){for(;At!==null&&!OT();)JE(At)}function JE(n){var e=t_(n.alternate,n,is);n.memoizedProps=n.pendingProps,e===null?ZE(n):At=e,Ux.current=null}function ZE(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=rP(t,e),t!==null){t.flags&=32767,At=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jt=6,At=null;return}}else if(t=sP(t,e,is),t!==null){At=t;return}if(e=e.sibling,e!==null){At=e;return}At=e=n}while(e!==null);jt===0&&(jt=5)}function xo(n,e,t){var s=De,r=ks.transition;try{ks.transition=null,De=1,hP(n,e,t,s)}finally{ks.transition=r,De=s}return null}function hP(n,e,t,s){do zc();while(Ua!==null);if(_e&6)throw Error(z(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(qT(n,i),n===qt&&(At=qt=null,Zt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Fp||(Fp=!0,n_(Vm,function(){return zc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=ks.transition,ks.transition=null;var a=De;De=1;var o=_e;_e|=4,Ux.current=null,aP(n,t),GE(t,n),M3(zy),qm=!!Iy,zy=Iy=null,n.current=t,oP(t),DT(),_e=o,De=a,ks.transition=i}else n.current=t;if(Fp&&(Fp=!1,Ua=n,lg=r),i=n.pendingLanes,i===0&&(Ya=null),HT(t.stateNode),Wn(n,mt()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(og)throw og=!1,n=iv,iv=null,n;return lg&1&&n.tag!==0&&zc(),i=n.pendingLanes,i&1?n===av?lh++:(lh=0,av=n):lh=0,uo(),null}function zc(){if(Ua!==null){var n=LS(lg),e=ks.transition,t=De;try{if(ks.transition=null,De=16>n?16:n,Ua===null)var s=!1;else{if(n=Ua,Ua=null,lg=0,_e&6)throw Error(z(331));var r=_e;for(_e|=4,J=n.current;J!==null;){var i=J,a=i.child;if(J.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:ah(8,d,i)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var p=d.sibling,g=d.return;if(VE(d),d===u){J=null;break}if(p!==null){p.return=g,J=p;break}J=g}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}J=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,J=a;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ah(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,J=x;break e}J=i.return}}var w=n.current;for(J=w;J!==null;){a=J;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,J=y;else e:for(a=w;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zg(9,o)}}catch(C){ut(o,o.return,C)}if(o===a){J=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,J=_;break e}J=o.return}}if(_e=r,uo(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Wg,n)}catch{}s=!0}return s}finally{De=t,ks.transition=e}}return!1}function Vw(n,e,t){e=ad(t,e),e=LE(n,e,1),n=Xa(n,e,1),e=_n(),n!==null&&(rp(n,1,e),Wn(n,e))}function ut(n,e,t){if(n.tag===3)Vw(n,n,t);else for(;e!==null;){if(e.tag===3){Vw(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ya===null||!Ya.has(s))){n=ad(t,n),n=jE(e,n,1),e=Xa(e,n,1),n=_n(),e!==null&&(rp(e,1,n),Wn(e,n));break}}e=e.return}}function fP(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=_n(),n.pingedLanes|=n.suspendedLanes&t,qt===n&&(Zt&t)===t&&(jt===4||jt===3&&(Zt&130023424)===Zt&&500>mt()-Vx?Il(n,0):$x|=t),Wn(n,e)}function e_(n,e){e===0&&(n.mode&1?(e=_p,_p<<=1,!(_p&130023424)&&(_p=4194304)):e=1);var t=_n();n=Oi(n,e),n!==null&&(rp(n,e,t),Wn(n,t))}function pP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),e_(n,t)}function mP(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(e),e_(n,t)}var t_;t_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$n.current)Bn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bn=!1,nP(n,e,t);Bn=!!(n.flags&131072)}else Bn=!1,Qe&&e.flags&1048576&&iE(e,Zm,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;tm(n,e),n=e.pendingProps;var r=nd(e,mn.current);Ic(e,t),r=Dx(null,e,s,n,r,t);var i=Ix();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(s)?(i=!0,Qm(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Mx(e),r.updater=Jg,e.stateNode=r,r._reactInternals=e,Xy(e,s,n,t),e=Qy(null,e,s,!0,i,t)):(e.tag=0,Qe&&i&&_x(e),An(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(tm(n,e),n=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=yP(s),n=js(s,n),r){case 0:e=Ky(null,e,s,n,t);break e;case 1:e=jw(null,e,s,n,t);break e;case 11:e=Mw(null,e,s,n,t);break e;case 14:e=Lw(null,e,s,js(s.type,n),t);break e}throw Error(z(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:js(s,r),Ky(n,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:js(s,r),jw(n,e,s,r,t);case 3:e:{if(IE(e),n===null)throw Error(z(387));s=e.pendingProps,i=e.memoizedState,r=i.element,dE(n,e),ng(e,s,null,t);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=ad(Error(z(423)),e),e=Fw(n,e,s,t,r);break e}else if(s!==r){r=ad(Error(z(424)),e),e=Fw(n,e,s,t,r);break e}else for(ls=Ga(e.stateNode.containerInfo.firstChild),cs=e,Qe=!0,Js=null,t=cE(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(sd(),s===r){e=Di(n,e,t);break e}An(n,e,s,t)}e=e.child}return e;case 5:return hE(e),n===null&&Wy(e),s=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,a=r.children,Hy(s,r)?a=null:i!==null&&Hy(s,i)&&(e.flags|=32),DE(n,e),An(n,e,a,t),e.child;case 6:return n===null&&Wy(e),null;case 13:return zE(n,e,t);case 4:return Lx(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=rd(e,null,s,t):An(n,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:js(s,r),Mw(n,e,s,r,t);case 7:return An(n,e,e.pendingProps,t),e.child;case 8:return An(n,e,e.pendingProps.children,t),e.child;case 12:return An(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,We(eg,s._currentValue),s._currentValue=a,i!==null)if(rr(i.value,a)){if(i.children===r.children&&!$n.current){e=Di(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ti(-1,t&-t),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),qy(i.return,t,e),o.lanes|=t;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),qy(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}An(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Ic(e,t),r=Ps(r),s=s(r),e.flags|=1,An(n,e,s,t),e.child;case 14:return s=e.type,r=js(s,e.pendingProps),r=js(s.type,r),Lw(n,e,s,r,t);case 15:return FE(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:js(s,r),tm(n,e),e.tag=1,Vn(s)?(n=!0,Qm(e)):n=!1,Ic(e,t),ME(e,s,r),Xy(e,s,r,t),Qy(null,e,s,!0,n,t);case 19:return HE(n,e,t);case 22:return OE(n,e,t)}throw Error(z(156,e.tag))};function n_(n,e){return PS(n,e)}function gP(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(n,e,t,s){return new gP(n,e,t,s)}function Xx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yP(n){if(typeof n=="function")return Xx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fx)return 11;if(n===px)return 14}return 2}function Qa(n,e){var t=n.alternate;return t===null?(t=Cs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function rm(n,e,t,s,r,i){var a=2;if(s=n,typeof n=="function")Xx(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Ac:return zl(t.children,r,i,e);case hx:a=8,r|=8;break;case vy:return n=Cs(12,t,e,r|2),n.elementType=vy,n.lanes=i,n;case xy:return n=Cs(13,t,e,r),n.elementType=xy,n.lanes=i,n;case by:return n=Cs(19,t,e,r),n.elementType=by,n.lanes=i,n;case hS:return t0(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case uS:a=10;break e;case dS:a=9;break e;case fx:a=11;break e;case px:a=14;break e;case Ji:a=16,s=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=Cs(a,t,e,r),e.elementType=n,e.type=s,e.lanes=i,e}function zl(n,e,t,s){return n=Cs(7,n,s,e),n.lanes=t,n}function t0(n,e,t,s){return n=Cs(22,n,s,e),n.elementType=hS,n.lanes=t,n.stateNode={isHidden:!1},n}function sy(n,e,t){return n=Cs(6,n,null,e),n.lanes=t,n}function ry(n,e,t){return e=Cs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function vP(n,e,t,s,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Yx(n,e,t,s,r,i,a,o,c){return n=new vP(n,e,t,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Cs(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mx(i),n}function xP(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function s_(n){if(!n)return no;n=n._reactInternals;e:{if(sc(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(Vn(t))return sE(n,t,e)}return e}function r_(n,e,t,s,r,i,a,o,c){return n=Yx(t,s,!0,n,r,i,a,o,c),n.context=s_(null),t=n.current,s=_n(),r=Ka(t),i=Ti(s,r),i.callback=e??null,Xa(t,i,r),n.current.lanes=r,rp(n,r,s),Wn(n,s),n}function n0(n,e,t,s){var r=e.current,i=_n(),a=Ka(r);return t=s_(t),e.context===null?e.context=t:e.pendingContext=t,e=Ti(i,a),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=Xa(r,e,a),n!==null&&(sr(n,r,a,i),Jp(n,r,a)),a}function ug(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ww(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Kx(n,e){Ww(n,e),(n=n.alternate)&&Ww(n,e)}function bP(){return null}var i_=typeof reportError=="function"?reportError:function(n){console.error(n)};function Qx(n){this._internalRoot=n}s0.prototype.render=Qx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));n0(n,e,null,null)};s0.prototype.unmount=Qx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ql(function(){n0(null,n,null,null)}),e[Fi]=null}};function s0(n){this._internalRoot=n}s0.prototype.unstable_scheduleHydration=function(n){if(n){var e=OS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ea.length&&e!==0&&e<ea[t].priority;t++);ea.splice(t,0,n),t===0&&IS(n)}};function Jx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function qw(){}function wP(n,e,t,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=ug(a);i.call(u)}}var a=r_(e,s,n,0,null,!1,!1,"",qw);return n._reactRootContainer=a,n[Fi]=a.current,Ah(n.nodeType===8?n.parentNode:n),ql(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var u=ug(c);o.call(u)}}var c=Yx(n,0,!1,null,null,!1,!1,"",qw);return n._reactRootContainer=c,n[Fi]=c.current,Ah(n.nodeType===8?n.parentNode:n),ql(function(){n0(e,c,t,s)}),c}function i0(n,e,t,s,r){var i=t._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var c=ug(a);o.call(c)}}n0(e,a,n,r)}else a=wP(t,e,n,r,s);return ug(a)}jS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=jd(e.pendingLanes);t!==0&&(yx(e,t|1),Wn(e,mt()),!(_e&6)&&(od=mt()+500,uo()))}break;case 13:ql(function(){var s=Oi(n,1);if(s!==null){var r=_n();sr(s,n,1,r)}}),Kx(n,1)}};vx=function(n){if(n.tag===13){var e=Oi(n,134217728);if(e!==null){var t=_n();sr(e,n,134217728,t)}Kx(n,134217728)}};FS=function(n){if(n.tag===13){var e=Ka(n),t=Oi(n,e);if(t!==null){var s=_n();sr(t,n,e,s)}Kx(n,e)}};OS=function(){return De};DS=function(n,e){var t=De;try{return De=n,e()}finally{De=t}};Ry=function(n,e,t){switch(e){case"input":if(Sy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var r=Yg(s);if(!r)throw Error(z(90));pS(s),Sy(s,r)}}}break;case"textarea":gS(n,t);break;case"select":e=t.value,e!=null&&jc(n,!!t.multiple,e,!1)}};SS=Wx;ES=ql;var AP={usingClientEntryPoint:!1,Events:[ap,Cc,Yg,wS,AS,Wx]},Cd={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SP={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=kS(n),n===null?null:n.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{Wg=Op.inject(SP),Ir=Op}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AP;hs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jx(e))throw Error(z(200));return xP(n,e,null,t)};hs.createRoot=function(n,e){if(!Jx(n))throw Error(z(299));var t=!1,s="",r=i_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Yx(n,1,!1,null,null,t,!1,s,r),n[Fi]=e.current,Ah(n.nodeType===8?n.parentNode:n),new Qx(e)};hs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=kS(e),n=n===null?null:n.stateNode,n};hs.flushSync=function(n){return ql(n)};hs.hydrate=function(n,e,t){if(!r0(e))throw Error(z(200));return i0(null,n,e,!0,t)};hs.hydrateRoot=function(n,e,t){if(!Jx(n))throw Error(z(405));var s=t!=null&&t.hydratedSources||null,r=!1,i="",a=i_;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=r_(e,null,n,1,t??null,r,!1,i,a),n[Fi]=e.current,Ah(n),s)for(n=0;n<s.length;n++)t=s[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new s0(e)};hs.render=function(n,e,t){if(!r0(e))throw Error(z(200));return i0(null,n,e,!1,t)};hs.unmountComponentAtNode=function(n){if(!r0(n))throw Error(z(40));return n._reactRootContainer?(ql(function(){i0(null,null,n,!1,function(){n._reactRootContainer=null,n[Fi]=null})}),!0):!1};hs.unstable_batchedUpdates=Wx;hs.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!r0(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return i0(n,e,t,!1,s)};hs.version="18.3.1-next-f1338f8080-20240426";function a_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a_)}catch(n){console.error(n)}}a_(),aS.exports=hs;var EP=aS.exports,Gw=EP;gy.createRoot=Gw.createRoot,gy.hydrateRoot=Gw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nh(){return Nh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Nh.apply(this,arguments)}var $a;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})($a||($a={}));const Xw="popstate";function _P(n){n===void 0&&(n={});function e(s,r){let{pathname:i,search:a,hash:o}=s.location;return cv("",{pathname:i,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:dg(r)}return kP(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Zx(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CP(){return Math.random().toString(36).substr(2,8)}function Yw(n,e){return{usr:n.state,key:n.key,idx:e}}function cv(n,e,t,s){return t===void 0&&(t=null),Nh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pd(e):e,{state:t,key:e&&e.key||s||CP()})}function dg(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function pd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function kP(n,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,o=$a.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Nh({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=$a.Pop;let S=d(),x=S==null?null:S-u;u=S,c&&c({action:o,location:v.location,delta:x})}function p(S,x){o=$a.Push;let w=cv(v.location,S,x);u=d()+1;let y=Yw(w,u),_=v.createHref(w);try{a.pushState(y,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(_)}i&&c&&c({action:o,location:v.location,delta:1})}function g(S,x){o=$a.Replace;let w=cv(v.location,S,x);u=d();let y=Yw(w,u),_=v.createHref(w);a.replaceState(y,"",_),i&&c&&c({action:o,location:v.location,delta:0})}function m(S){let x=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof S=="string"?S:dg(S);return w=w.replace(/ $/,"%20"),gt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return o},get location(){return n(r,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Xw,h),c=S,()=>{r.removeEventListener(Xw,h),c=null}},createHref(S){return e(r,S)},createURL:m,encodeLocation(S){let x=m(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(S){return a.go(S)}};return v}var Kw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Kw||(Kw={}));function TP(n,e,t){return t===void 0&&(t="/"),PP(n,e,t)}function PP(n,e,t,s){let r=typeof e=="string"?pd(e):e,i=eb(r.pathname||"/",t);if(i==null)return null;let a=o_(n);RP(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=UP(i);o=zP(a[c],u)}return o}function o_(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Ja([s,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),o_(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:DP(u,i.index),routesMeta:d})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,a);else for(let c of l_(i.path))r(i,a,c)}),e}function l_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=l_(s.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&o.push(...a),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function RP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IP(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const NP=/^:[\w-]+$/,MP=3,LP=2,jP=1,FP=10,OP=-2,Qw=n=>n==="*";function DP(n,e){let t=n.split("/"),s=t.length;return t.some(Qw)&&(s+=OP),e&&(s+=LP),t.filter(r=>!Qw(r)).reduce((r,i)=>r+(NP.test(i)?MP:i===""?jP:FP),s)}function IP(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function zP(n,e,t){let{routesMeta:s}=n,r={},i="/",a=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=HP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Ja([i,h.pathname]),pathnameBase:GP(Ja([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ja([i,h.pathnameBase]))}return a}function HP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=BP(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=o[h]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[h];return g&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:n}}function BP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Zx(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function UP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zx(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function eb(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}const $P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VP=n=>$P.test(n);function WP(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?pd(n):n,i;if(t)if(VP(t))i=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Zx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?i=Jw(t.substring(1),"/"):i=Jw(t,e)}else i=e;return{pathname:i,search:XP(s),hash:YP(r)}}function Jw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function iy(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tb(n,e){let t=qP(n);return e?t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function nb(n,e,t,s){s===void 0&&(s=!1);let r;typeof n=="string"?r=pd(n):(r=Nh({},n),gt(!r.pathname||!r.pathname.includes("?"),iy("?","pathname","search",r)),gt(!r.pathname||!r.pathname.includes("#"),iy("#","pathname","hash",r)),gt(!r.search||!r.search.includes("#"),iy("#","search","hash",r)));let i=n===""||r.pathname==="",a=i?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}o=h>=0?e[h]:"/"}let c=WP(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ja=n=>n.join("/").replace(/\/\/+/g,"/"),GP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,YP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function KP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const c_=["post","put","patch","delete"];new Set(c_);const QP=["get",...c_];new Set(QP);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Mh.apply(this,arguments)}const sb=P.createContext(null),JP=P.createContext(null),ho=P.createContext(null),a0=P.createContext(null),Ui=P.createContext({outlet:null,matches:[],isDataRoute:!1}),u_=P.createContext(null);function ZP(n,e){let{relative:t}=e===void 0?{}:e;md()||gt(!1);let{basename:s,navigator:r}=P.useContext(ho),{hash:i,pathname:a,search:o}=h_(n,{relative:t}),c=a;return s!=="/"&&(c=a==="/"?s:Ja([s,a])),r.createHref({pathname:c,search:o,hash:i})}function md(){return P.useContext(a0)!=null}function lp(){return md()||gt(!1),P.useContext(a0).location}function d_(n){P.useContext(ho).static||P.useLayoutEffect(n)}function rc(){let{isDataRoute:n}=P.useContext(Ui);return n?fR():eR()}function eR(){md()||gt(!1);let n=P.useContext(sb),{basename:e,future:t,navigator:s}=P.useContext(ho),{matches:r}=P.useContext(Ui),{pathname:i}=lp(),a=JSON.stringify(tb(r,t.v7_relativeSplatPath)),o=P.useRef(!1);return d_(()=>{o.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let h=nb(u,JSON.parse(a),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ja([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,i,n])}function tR(){let{matches:n}=P.useContext(Ui),e=n[n.length-1];return e?e.params:{}}function h_(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=P.useContext(ho),{matches:r}=P.useContext(Ui),{pathname:i}=lp(),a=JSON.stringify(tb(r,s.v7_relativeSplatPath));return P.useMemo(()=>nb(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function nR(n,e){return sR(n,e)}function sR(n,e,t,s){md()||gt(!1);let{navigator:r}=P.useContext(ho),{matches:i}=P.useContext(Ui),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=lp(),d;if(e){var h;let S=typeof e=="string"?pd(e):e;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||gt(!1),d=S}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let m=TP(n,{pathname:g}),v=lR(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Ja([c,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Ja([c,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,t,s);return e&&v?P.createElement(a0.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$a.Pop}},v):v}function rR(){let n=hR(),e=KP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:r},t):null,null)}const iR=P.createElement(rR,null);class aR extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(Ui.Provider,{value:this.props.routeContext},P.createElement(u_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oR(n){let{routeContext:e,match:t,children:s}=n,r=P.useContext(sb);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Ui.Provider,{value:e},s)}function lR(n,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||gt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=t,m=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let g,m=!1,v=null,S=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||iR,c&&(u<0&&p===0?(pR("route-fallback"),m=!0,S=null):u===p&&(m=!0,S=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),w=()=>{let y;return g?y=v:m?y=S:h.route.Component?y=P.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,P.createElement(oR,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:y})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?P.createElement(aR,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var f_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(f_||{}),p_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(p_||{});function cR(n){let e=P.useContext(sb);return e||gt(!1),e}function uR(n){let e=P.useContext(JP);return e||gt(!1),e}function dR(n){let e=P.useContext(Ui);return e||gt(!1),e}function m_(n){let e=dR(),t=e.matches[e.matches.length-1];return t.route.id||gt(!1),t.route.id}function hR(){var n;let e=P.useContext(u_),t=uR(),s=m_();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function fR(){let{router:n}=cR(f_.UseNavigateStable),e=m_(p_.UseNavigateStable),t=P.useRef(!1);return d_(()=>{t.current=!0}),P.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Mh({fromRouteId:e},i)))},[n,e])}const Zw={};function pR(n,e,t){Zw[n]||(Zw[n]=!0)}function mR(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function gR(n){let{to:e,replace:t,state:s,relative:r}=n;md()||gt(!1);let{future:i,static:a}=P.useContext(ho),{matches:o}=P.useContext(Ui),{pathname:c}=lp(),u=rc(),d=nb(e,tb(o,i.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(d);return P.useEffect(()=>u(JSON.parse(h),{replace:t,state:s,relative:r}),[u,h,r,t,s]),null}function ur(n){gt(!1)}function yR(n){let{basename:e="/",children:t=null,location:s,navigationType:r=$a.Pop,navigator:i,static:a=!1,future:o}=n;md()&&gt(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:i,static:a,future:Mh({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof s=="string"&&(s=pd(s));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:m="default"}=s,v=P.useMemo(()=>{let S=eb(d,c);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:m},navigationType:r}},[c,d,h,p,g,m,r]);return v==null?null:P.createElement(ho.Provider,{value:u},P.createElement(a0.Provider,{children:t,value:v}))}function vR(n){let{children:e,location:t}=n;return nR(uv(e),t)}new Promise(()=>{});function uv(n,e){e===void 0&&(e=[]);let t=[];return P.Children.forEach(n,(s,r)=>{if(!P.isValidElement(s))return;let i=[...e,r];if(s.type===P.Fragment){t.push.apply(t,uv(s.props.children,i));return}s.type!==ur&&gt(!1),!s.props.index||!s.props.children||gt(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=uv(s.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},dv.apply(this,arguments)}function xR(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function bR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wR(n,e){return n.button===0&&(!e||e==="_self")&&!bR(n)}const AR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SR="6";try{window.__reactRouterVersion=SR}catch{}const ER="startTransition",e2=fT[ER];function _R(n){let{basename:e,children:t,future:s,window:r}=n,i=P.useRef();i.current==null&&(i.current=_P({window:r,v5Compat:!0}));let a=i.current,[o,c]=P.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=P.useCallback(h=>{u&&e2?e2(()=>c(h)):c(h)},[c,u]);return P.useLayoutEffect(()=>a.listen(d),[a,d]),P.useEffect(()=>mR(s),[s]),P.createElement(yR,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:s})}const CR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=P.forwardRef(function(e,t){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=xR(e,AR),{basename:g}=P.useContext(ho),m,v=!1;if(typeof u=="string"&&kR.test(u)&&(m=u,CR))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),C=eb(_.pathname,g);_.origin===y.origin&&C!=null?u=C+_.search+_.hash:v=!0}catch{}let S=ZP(u,{relative:r}),x=TR(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:h});function w(y){s&&s(y),y.defaultPrevented||x(y)}return P.createElement("a",dv({},p,{href:m||S,onClick:v||i?s:w,ref:t,target:c}))});var t2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(t2||(t2={}));var n2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(n2||(n2={}));function TR(n,e){let{target:t,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=rc(),u=lp(),d=h_(n,{relative:a});return P.useCallback(h=>{if(wR(h,t)){h.preventDefault();let p=s!==void 0?s:dg(u)===dg(d);c(n,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,s,r,t,n,i,a,o])}var gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},PR={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},ia,rx,FA,RR=(FA=class{constructor(){E(this,ia,PR);E(this,rx,!1)}setTimeoutProvider(n){b(this,ia,n)}setTimeout(n,e){return l(this,ia).setTimeout(n,e)}clearTimeout(n){l(this,ia).clearTimeout(n)}setInterval(n,e){return l(this,ia).setInterval(n,e)}clearInterval(n){l(this,ia).clearInterval(n)}},ia=new WeakMap,rx=new WeakMap,FA),Ro=new RR;function NR(n){setTimeout(n,0)}var Gl=typeof window>"u"||"Deno"in globalThis;function Sn(){}function MR(n,e){return typeof n=="function"?n(e):n}function hv(n){return typeof n=="number"&&n>=0&&n!==1/0}function g_(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Za(n,e){return typeof n=="function"?n(e):n}function ws(n,e){return typeof n=="function"?n(e):n}function s2(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:o}=n;if(a){if(s){if(e.queryHash!==rb(a,e.options))return!1}else if(!Lh(e.queryKey,a))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||i&&!i(e))}function r2(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(Xl(e.options.mutationKey)!==Xl(i))return!1}else if(!Lh(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function rb(n,e){return((e==null?void 0:e.queryKeyHashFn)||Xl)(n)}function Xl(n){return JSON.stringify(n,(e,t)=>fv(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function Lh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Lh(n[t],e[t])):!1}var LR=Object.prototype.hasOwnProperty;function y_(n,e){if(n===e)return n;const t=i2(n)&&i2(e);if(!t&&!(fv(n)&&fv(e)))return e;const r=(t?n:Object.keys(n)).length,i=t?e:Object.keys(e),a=i.length,o=t?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=t?u:i[u],h=n[d],p=e[d];if(h===p){o[d]=h,(t?u<r:LR.call(n,d))&&c++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){o[d]=p;continue}const g=y_(h,p);o[d]=g,g===h&&c++}return r===a&&c===r?n:o}function hg(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function i2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function fv(n){if(!a2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!a2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function a2(n){return Object.prototype.toString.call(n)==="[object Object]"}function jR(n){return new Promise(e=>{Ro.setTimeout(e,n)})}function pv(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?y_(n,e):e}function FR(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function OR(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var ib=Symbol();function v_(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===ib?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function x_(n,e){return typeof n=="function"?n(...e):!!n}var Lo,aa,Wc,OA,DR=(OA=class extends gd{constructor(){super();E(this,Lo);E(this,aa);E(this,Wc);b(this,Wc,e=>{if(!Gl&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){l(this,aa)||this.setEventListener(l(this,Wc))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,aa))==null||e.call(this),b(this,aa,void 0))}setEventListener(e){var t;b(this,Wc,e),(t=l(this,aa))==null||t.call(this),b(this,aa,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){l(this,Lo)!==e&&(b(this,Lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof l(this,Lo)=="boolean"?l(this,Lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Lo=new WeakMap,aa=new WeakMap,Wc=new WeakMap,OA),ab=new DR;function mv(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}var IR=NR;function zR(){let n=[],e=0,t=o=>{o()},s=o=>{o()},r=IR;const i=o=>{e?n.push(o):r(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&r(()=>{s(()=>{o.forEach(c=>{t(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{r=o}}}var Nt=zR(),qc,oa,Gc,DA,HR=(DA=class extends gd{constructor(){super();E(this,qc,!0);E(this,oa);E(this,Gc);b(this,Gc,e=>{if(!Gl&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){l(this,oa)||this.setEventListener(l(this,Gc))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,oa))==null||e.call(this),b(this,oa,void 0))}setEventListener(e){var t;b(this,Gc,e),(t=l(this,oa))==null||t.call(this),b(this,oa,e(this.setOnline.bind(this)))}setOnline(e){l(this,qc)!==e&&(b(this,qc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return l(this,qc)}},qc=new WeakMap,oa=new WeakMap,Gc=new WeakMap,DA),fg=new HR;function BR(n){return Math.min(1e3*2**n,3e4)}function b_(n){return(n??"online")==="online"?fg.isOnline():!0}var gv=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function w_(n){let e=!1,t=0,s;const r=mv(),i=()=>r.status!=="pending",a=v=>{var S;if(!i()){const x=new gv(v);p(x),(S=n.onCancel)==null||S.call(n,x)}},o=()=>{e=!0},c=()=>{e=!1},u=()=>ab.isFocused()&&(n.networkMode==="always"||fg.isOnline())&&n.canRun(),d=()=>b_(n.networkMode)&&n.canRun(),h=v=>{i()||(s==null||s(),r.resolve(v))},p=v=>{i()||(s==null||s(),r.reject(v))},g=()=>new Promise(v=>{var S;s=x=>{(i()||u())&&v(x)},(S=n.onPause)==null||S.call(n)}).then(()=>{var v;s=void 0,i()||(v=n.onContinue)==null||v.call(n)}),m=()=>{if(i())return;let v;const S=t===0?n.initialPromise:void 0;try{v=S??n.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(h).catch(x=>{var k;if(i())return;const w=n.retry??(Gl?0:3),y=n.retryDelay??BR,_=typeof y=="function"?y(t,x):y,C=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,x);if(e||!C){p(x);return}t++,(k=n.onFail)==null||k.call(n,t,x),jR(_).then(()=>u()?void 0:g()).then(()=>{e?p(x):m()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(s==null||s(),r),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?m():g().then(m),r)}}var jo,IA,A_=(IA=class{constructor(){E(this,jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hv(this.gcTime)&&b(this,jo,Ro.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Gl?1/0:5*60*1e3))}clearGcTimeout(){l(this,jo)&&(Ro.clearTimeout(l(this,jo)),b(this,jo,void 0))}},jo=new WeakMap,IA),Fo,Xc,ms,Oo,zt,Oh,Do,Os,Wr,zA,UR=(zA=class extends A_{constructor(e){super();E(this,Os);E(this,Fo);E(this,Xc);E(this,ms);E(this,Oo);E(this,zt);E(this,Oh);E(this,Do);b(this,Do,!1),b(this,Oh,e.defaultOptions),this.setOptions(e.options),this.observers=[],b(this,Oo,e.client),b(this,ms,l(this,Oo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,Fo,l2(this.options)),this.state=e.state??l(this,Fo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,zt))==null?void 0:e.promise}setOptions(e){if(this.options={...l(this,Oh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=l2(this.options);t.data!==void 0&&(this.setState(o2(t.data,t.dataUpdatedAt)),b(this,Fo,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,ms).remove(this)}setData(e,t){const s=pv(this.state.data,e,this.options);return A(this,Os,Wr).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){A(this,Os,Wr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=l(this,zt))==null?void 0:s.promise;return(r=l(this,zt))==null||r.cancel(e),t?t.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,Fo))}isActive(){return this.observers.some(e=>ws(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ib||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Za(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!g_(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,zt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,zt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,ms).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(l(this,zt)&&(l(this,Do)?l(this,zt).cancel({revert:!0}):l(this,zt).cancelRetry()),this.scheduleGc()),l(this,ms).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||A(this,Os,Wr).call(this,{type:"invalidate"})}async fetch(e,t){var c,u,d,h,p,g,m,v,S,x,w,y;if(this.state.fetchStatus!=="idle"&&((c=l(this,zt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(l(this,zt))return l(this,zt).continueRetry(),l(this,zt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,r=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(b(this,Do,!0),s.signal)})},i=()=>{const _=v_(this.options,t),k=(()=>{const R={client:l(this,Oo),queryKey:this.queryKey,meta:this.meta};return r(R),R})();return b(this,Do,!1),this.options.persister?this.options.persister(_,k,this):_(k)},o=(()=>{const _={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:l(this,Oo),state:this.state,fetchFn:i};return r(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),b(this,Xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&A(this,Os,Wr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),b(this,zt,w_({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof gv&&_.revert&&this.setState({...l(this,Xc),fetchStatus:"idle"}),s.abort()},onFail:(_,C)=>{A(this,Os,Wr).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{A(this,Os,Wr).call(this,{type:"pause"})},onContinue:()=>{A(this,Os,Wr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await l(this,zt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(g=(p=l(this,ms).config).onSuccess)==null||g.call(p,_,this),(v=(m=l(this,ms).config).onSettled)==null||v.call(m,_,this.state.error,this),_}catch(_){if(_ instanceof gv){if(_.silent)return l(this,zt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw A(this,Os,Wr).call(this,{type:"error",error:_}),(x=(S=l(this,ms).config).onError)==null||x.call(S,_,this),(y=(w=l(this,ms).config).onSettled)==null||y.call(w,this.state.data,_,this),_}finally{this.scheduleGc()}}},Fo=new WeakMap,Xc=new WeakMap,ms=new WeakMap,Oo=new WeakMap,zt=new WeakMap,Oh=new WeakMap,Do=new WeakMap,Os=new WeakSet,Wr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...S_(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,...o2(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return b(this,Xc,e.manual?r:void 0),r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),l(this,ms).notify({query:this,type:"updated",action:e})})},zA);function S_(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b_(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function o2(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function l2(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ln,Ae,Dh,xn,Io,Yc,Qr,la,Ih,Kc,Qc,zo,Ho,ca,Jc,Ne,Od,yv,vv,xv,bv,wv,Av,Sv,E_,HA,$R=(HA=class extends gd{constructor(e,t){super();E(this,Ne);E(this,Ln);E(this,Ae);E(this,Dh);E(this,xn);E(this,Io);E(this,Yc);E(this,Qr);E(this,la);E(this,Ih);E(this,Kc);E(this,Qc);E(this,zo);E(this,Ho);E(this,ca);E(this,Jc,new Set);this.options=t,b(this,Ln,e),b(this,la,null),b(this,Qr,mv()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,Ae).addObserver(this),c2(l(this,Ae),this.options)?A(this,Ne,Od).call(this):this.updateResult(),A(this,Ne,bv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ev(l(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ev(l(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,A(this,Ne,wv).call(this),A(this,Ne,Av).call(this),l(this,Ae).removeObserver(this)}setOptions(e){const t=this.options,s=l(this,Ae);if(this.options=l(this,Ln).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,l(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");A(this,Ne,Sv).call(this),l(this,Ae).setOptions(this.options),t._defaulted&&!hg(this.options,t)&&l(this,Ln).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,Ae),observer:this});const r=this.hasListeners();r&&u2(l(this,Ae),s,this.options,t)&&A(this,Ne,Od).call(this),this.updateResult(),r&&(l(this,Ae)!==s||ws(this.options.enabled,l(this,Ae))!==ws(t.enabled,l(this,Ae))||Za(this.options.staleTime,l(this,Ae))!==Za(t.staleTime,l(this,Ae)))&&A(this,Ne,yv).call(this);const i=A(this,Ne,vv).call(this);r&&(l(this,Ae)!==s||ws(this.options.enabled,l(this,Ae))!==ws(t.enabled,l(this,Ae))||i!==l(this,ca))&&A(this,Ne,xv).call(this,i)}getOptimisticResult(e){const t=l(this,Ln).getQueryCache().build(l(this,Ln),e),s=this.createResult(t,e);return WR(this,s)&&(b(this,xn,s),b(this,Yc,this.options),b(this,Io,l(this,Ae).state)),s}getCurrentResult(){return l(this,xn)}trackResult(e,t){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),t==null||t(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&l(this,Qr).status==="pending"&&l(this,Qr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(e){l(this,Jc).add(e)}getCurrentQuery(){return l(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=l(this,Ln).defaultQueryOptions(e),s=l(this,Ln).getQueryCache().build(l(this,Ln),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return A(this,Ne,Od).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,xn)))}createResult(e,t){var O;const s=l(this,Ae),r=this.options,i=l(this,xn),a=l(this,Io),o=l(this,Yc),u=e!==s?e.state:l(this,Dh),{state:d}=e;let h={...d},p=!1,g;if(t._optimisticResults){const j=this.hasListeners(),I=!j&&c2(e,t),B=j&&u2(e,s,t,r);(I||B)&&(h={...h,...S_(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:S}=h;g=h.data;let x=!1;if(t.placeholderData!==void 0&&g===void 0&&S==="pending"){let j;i!=null&&i.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData)?(j=i.data,x=!0):j=typeof t.placeholderData=="function"?t.placeholderData((O=l(this,Qc))==null?void 0:O.state.data,l(this,Qc)):t.placeholderData,j!==void 0&&(S="success",g=pv(i==null?void 0:i.data,j,t),p=!0)}if(t.select&&g!==void 0&&!x)if(i&&g===(a==null?void 0:a.data)&&t.select===l(this,Ih))g=l(this,Kc);else try{b(this,Ih,t.select),g=t.select(g),g=pv(i==null?void 0:i.data,g,t),b(this,Kc,g),b(this,la,null)}catch(j){b(this,la,j)}l(this,la)&&(m=l(this,la),g=l(this,Kc),v=Date.now(),S="error");const w=h.fetchStatus==="fetching",y=S==="pending",_=S==="error",C=y&&w,k=g!==void 0,N={status:S,fetchStatus:h.fetchStatus,isPending:y,isSuccess:S==="success",isError:_,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:_&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&k,isStale:ob(e,t),refetch:this.refetch,promise:l(this,Qr),isEnabled:ws(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=H=>{N.status==="error"?H.reject(N.error):N.data!==void 0&&H.resolve(N.data)},I=()=>{const H=b(this,Qr,N.promise=mv());j(H)},B=l(this,Qr);switch(B.status){case"pending":e.queryHash===s.queryHash&&j(B);break;case"fulfilled":(N.status==="error"||N.data!==B.value)&&I();break;case"rejected":(N.status!=="error"||N.error!==B.reason)&&I();break}}return N}updateResult(){const e=l(this,xn),t=this.createResult(l(this,Ae),this.options);if(b(this,Io,l(this,Ae).state),b(this,Yc,this.options),l(this,Io).data!==void 0&&b(this,Qc,l(this,Ae)),hg(t,e))return;b(this,xn,t);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!l(this,Jc).size)return!0;const a=new Set(i??l(this,Jc));return this.options.throwOnError&&a.add("error"),Object.keys(l(this,xn)).some(o=>{const c=o;return l(this,xn)[c]!==e[c]&&a.has(c)})};A(this,Ne,E_).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&A(this,Ne,bv).call(this)}},Ln=new WeakMap,Ae=new WeakMap,Dh=new WeakMap,xn=new WeakMap,Io=new WeakMap,Yc=new WeakMap,Qr=new WeakMap,la=new WeakMap,Ih=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,zo=new WeakMap,Ho=new WeakMap,ca=new WeakMap,Jc=new WeakMap,Ne=new WeakSet,Od=function(e){A(this,Ne,Sv).call(this);let t=l(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Sn)),t},yv=function(){A(this,Ne,wv).call(this);const e=Za(this.options.staleTime,l(this,Ae));if(Gl||l(this,xn).isStale||!hv(e))return;const s=g_(l(this,xn).dataUpdatedAt,e)+1;b(this,zo,Ro.setTimeout(()=>{l(this,xn).isStale||this.updateResult()},s))},vv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,Ae)):this.options.refetchInterval)??!1},xv=function(e){A(this,Ne,Av).call(this),b(this,ca,e),!(Gl||ws(this.options.enabled,l(this,Ae))===!1||!hv(l(this,ca))||l(this,ca)===0)&&b(this,Ho,Ro.setInterval(()=>{(this.options.refetchIntervalInBackground||ab.isFocused())&&A(this,Ne,Od).call(this)},l(this,ca)))},bv=function(){A(this,Ne,yv).call(this),A(this,Ne,xv).call(this,A(this,Ne,vv).call(this))},wv=function(){l(this,zo)&&(Ro.clearTimeout(l(this,zo)),b(this,zo,void 0))},Av=function(){l(this,Ho)&&(Ro.clearInterval(l(this,Ho)),b(this,Ho,void 0))},Sv=function(){const e=l(this,Ln).getQueryCache().build(l(this,Ln),this.options);if(e===l(this,Ae))return;const t=l(this,Ae);b(this,Ae,e),b(this,Dh,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},E_=function(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(l(this,xn))}),l(this,Ln).getQueryCache().notify({query:l(this,Ae),type:"observerResultsUpdated"})})},HA);function VR(n,e){return ws(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function c2(n,e){return VR(n,e)||n.state.data!==void 0&&Ev(n,e,e.refetchOnMount)}function Ev(n,e,t){if(ws(e.enabled,n)!==!1&&Za(e.staleTime,n)!=="static"){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&ob(n,e)}return!1}function u2(n,e,t,s){return(n!==e||ws(s.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&ob(n,t)}function ob(n,e){return ws(e.enabled,n)!==!1&&n.isStaleByTime(Za(e.staleTime,n))}function WR(n,e){return!hg(n.getCurrentResult(),e)}function d2(n){return{onFetch:(e,t)=>{var d,h,p,g,m;const s=e.options,r=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const S=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=v_(e.options,e.fetchOptions),w=async(y,_,C)=>{if(v)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const R=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};return S(I),I})(),N=await x(R),{maxPages:O}=e.options,j=C?OR:FR;return{pages:j(y.pages,N,O),pageParams:j(y.pageParams,_,O)}};if(r&&i.length){const y=r==="backward",_=y?qR:h2,C={pages:i,pageParams:a},k=_(s,C);o=await w(C,k,y)}else{const y=n??i.length;do{const _=c===0?a[0]??s.initialPageParam:h2(s,o);if(c>0&&_==null)break;o=await w(o,_),c++}while(c<y)}return o};e.options.persister?e.fetchFn=()=>{var v,S;return(S=(v=e.options).persister)==null?void 0:S.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function h2(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function qR(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var zh,fr,bn,Bo,pr,Yi,BA,GR=(BA=class extends A_{constructor(e){super();E(this,pr);E(this,zh);E(this,fr);E(this,bn);E(this,Bo);b(this,zh,e.client),this.mutationId=e.mutationId,b(this,bn,e.mutationCache),b(this,fr,[]),this.state=e.state||__(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,fr).includes(e)||(l(this,fr).push(e),this.clearGcTimeout(),l(this,bn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,fr,l(this,fr).filter(t=>t!==e)),this.scheduleGc(),l(this,bn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,fr).length||(this.state.status==="pending"?this.scheduleGc():l(this,bn).remove(this))}continue(){var e;return((e=l(this,Bo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,c,u,d,h,p,g,m,v,S,x,w,y,_,C,k,R,N,O;const t=()=>{A(this,pr,Yi).call(this,{type:"continue"})},s={client:l(this,zh),meta:this.options.meta,mutationKey:this.options.mutationKey};b(this,Bo,w_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(j,I)=>{A(this,pr,Yi).call(this,{type:"failed",failureCount:j,error:I})},onPause:()=>{A(this,pr,Yi).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,bn).canRun(this)}));const r=this.state.status==="pending",i=!l(this,Bo).canStart();try{if(r)t();else{A(this,pr,Yi).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=l(this,bn).config).onMutate)==null?void 0:o.call(a,e,this,s));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,s));I!==this.state.context&&A(this,pr,Yi).call(this,{type:"pending",context:I,variables:e,isPaused:i})}const j=await l(this,Bo).start();return await((h=(d=l(this,bn).config).onSuccess)==null?void 0:h.call(d,j,e,this.state.context,this,s)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,j,e,this.state.context,s)),await((v=(m=l(this,bn).config).onSettled)==null?void 0:v.call(m,j,null,this.state.variables,this.state.context,this,s)),await((x=(S=this.options).onSettled)==null?void 0:x.call(S,j,null,e,this.state.context,s)),A(this,pr,Yi).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(w=l(this,bn).config).onError)==null?void 0:y.call(w,j,e,this.state.context,this,s)),await((C=(_=this.options).onError)==null?void 0:C.call(_,j,e,this.state.context,s)),await((R=(k=l(this,bn).config).onSettled)==null?void 0:R.call(k,void 0,j,this.state.variables,this.state.context,this,s)),await((O=(N=this.options).onSettled)==null?void 0:O.call(N,void 0,j,e,this.state.context,s)),j}finally{A(this,pr,Yi).call(this,{type:"error",error:j})}}finally{l(this,bn).runNext(this)}}},zh=new WeakMap,fr=new WeakMap,bn=new WeakMap,Bo=new WeakMap,pr=new WeakSet,Yi=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Nt.batch(()=>{l(this,fr).forEach(s=>{s.onMutationUpdate(e)}),l(this,bn).notify({mutation:this,type:"updated",action:e})})},BA);function __(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jr,Ds,Hh,UA,XR=(UA=class extends gd{constructor(e={}){super();E(this,Jr);E(this,Ds);E(this,Hh);this.config=e,b(this,Jr,new Set),b(this,Ds,new Map),b(this,Hh,0)}build(e,t,s){const r=new GR({client:e,mutationCache:this,mutationId:++Ot(this,Hh)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){l(this,Jr).add(e);const t=Dp(e);if(typeof t=="string"){const s=l(this,Ds).get(t);s?s.push(e):l(this,Ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,Jr).delete(e)){const t=Dp(e);if(typeof t=="string"){const s=l(this,Ds).get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&l(this,Ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Dp(e);if(typeof t=="string"){const s=l(this,Ds).get(t),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const t=Dp(e);if(typeof t=="string"){const r=(s=l(this,Ds).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{l(this,Jr).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,Jr).clear(),l(this,Ds).clear()})}getAll(){return Array.from(l(this,Jr))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>r2(t,s))}findAll(e={}){return this.getAll().filter(t=>r2(e,t))}notify(e){Nt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Nt.batch(()=>Promise.all(e.map(t=>t.continue().catch(Sn))))}},Jr=new WeakMap,Ds=new WeakMap,Hh=new WeakMap,UA);function Dp(n){var e;return(e=n.options.scope)==null?void 0:e.id}var Zr,ua,jn,ei,Ni,im,_v,$A,YR=($A=class extends gd{constructor(t,s){super();E(this,Ni);E(this,Zr);E(this,ua);E(this,jn);E(this,ei);b(this,Zr,t),this.setOptions(s),this.bindMethods(),A(this,Ni,im).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=l(this,Zr).defaultMutationOptions(t),hg(this.options,s)||l(this,Zr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,jn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Xl(s.mutationKey)!==Xl(this.options.mutationKey)?this.reset():((r=l(this,jn))==null?void 0:r.state.status)==="pending"&&l(this,jn).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=l(this,jn))==null||t.removeObserver(this)}onMutationUpdate(t){A(this,Ni,im).call(this),A(this,Ni,_v).call(this,t)}getCurrentResult(){return l(this,ua)}reset(){var t;(t=l(this,jn))==null||t.removeObserver(this),b(this,jn,void 0),A(this,Ni,im).call(this),A(this,Ni,_v).call(this)}mutate(t,s){var r;return b(this,ei,s),(r=l(this,jn))==null||r.removeObserver(this),b(this,jn,l(this,Zr).getMutationCache().build(l(this,Zr),this.options)),l(this,jn).addObserver(this),l(this,jn).execute(t)}},Zr=new WeakMap,ua=new WeakMap,jn=new WeakMap,ei=new WeakMap,Ni=new WeakSet,im=function(){var s;const t=((s=l(this,jn))==null?void 0:s.state)??__();b(this,ua,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},_v=function(t){Nt.batch(()=>{var s,r,i,a,o,c,u,d;if(l(this,ei)&&this.hasListeners()){const h=l(this,ua).variables,p=l(this,ua).context,g={client:l(this,Zr),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((r=(s=l(this,ei)).onSuccess)==null||r.call(s,t.data,h,p,g),(a=(i=l(this,ei)).onSettled)==null||a.call(i,t.data,null,h,p,g)):(t==null?void 0:t.type)==="error"&&((c=(o=l(this,ei)).onError)==null||c.call(o,t.error,h,p,g),(d=(u=l(this,ei)).onSettled)==null||d.call(u,void 0,t.error,h,p,g))}this.listeners.forEach(h=>{h(l(this,ua))})})},$A),mr,VA,KR=(VA=class extends gd{constructor(e={}){super();E(this,mr);this.config=e,b(this,mr,new Map)}build(e,t,s){const r=t.queryKey,i=t.queryHash??rb(r,t);let a=this.get(i);return a||(a=new UR({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){l(this,mr).has(e.queryHash)||(l(this,mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=l(this,mr).get(e.queryHash);t&&(e.destroy(),t===e&&l(this,mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,mr).get(e)}getAll(){return[...l(this,mr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>s2(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>s2(e,s)):t}notify(e){Nt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mr=new WeakMap,VA),at,da,ha,Zc,eu,fa,tu,nu,WA,QR=(WA=class{constructor(n={}){E(this,at);E(this,da);E(this,ha);E(this,Zc);E(this,eu);E(this,fa);E(this,tu);E(this,nu);b(this,at,n.queryCache||new KR),b(this,da,n.mutationCache||new XR),b(this,ha,n.defaultOptions||{}),b(this,Zc,new Map),b(this,eu,new Map),b(this,fa,0)}mount(){Ot(this,fa)._++,l(this,fa)===1&&(b(this,tu,ab.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,at).onFocus())})),b(this,nu,fg.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,at).onOnline())})))}unmount(){var n,e;Ot(this,fa)._--,l(this,fa)===0&&((n=l(this,tu))==null||n.call(this),b(this,tu,void 0),(e=l(this,nu))==null||e.call(this),b(this,nu,void 0))}isFetching(n){return l(this,at).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,da).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,at).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=l(this,at).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Za(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return l(this,at).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=l(this,at).get(s.queryHash),i=r==null?void 0:r.state.data,a=MR(e,i);if(a!==void 0)return l(this,at).build(this,s).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return Nt.batch(()=>l(this,at).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,at).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=l(this,at);Nt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=l(this,at);return Nt.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=Nt.batch(()=>l(this,at).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(Sn).catch(Sn)}invalidateQueries(n,e={}){return Nt.batch(()=>(l(this,at).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Nt.batch(()=>l(this,at).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,t);return t.throwOnError||(i=i.catch(Sn)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Sn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=l(this,at).build(this,e);return t.isStaleByTime(Za(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Sn).catch(Sn)}fetchInfiniteQuery(n){return n.behavior=d2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Sn).catch(Sn)}ensureInfiniteQueryData(n){return n.behavior=d2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return fg.isOnline()?l(this,da).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,at)}getMutationCache(){return l(this,da)}getDefaultOptions(){return l(this,ha)}setDefaultOptions(n){b(this,ha,n)}setQueryDefaults(n,e){l(this,Zc).set(Xl(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...l(this,Zc).values()],t={};return e.forEach(s=>{Lh(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){l(this,eu).set(Xl(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...l(this,eu).values()],t={};return e.forEach(s=>{Lh(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...l(this,ha).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=rb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ib&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,ha).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,at).clear(),l(this,da).clear()}},at=new WeakMap,da=new WeakMap,ha=new WeakMap,Zc=new WeakMap,eu=new WeakMap,fa=new WeakMap,tu=new WeakMap,nu=new WeakMap,WA),C_=P.createContext(void 0),o0=n=>{const e=P.useContext(C_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},JR=({client:n,children:e})=>(P.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),f.jsx(C_.Provider,{value:n,children:e})),k_=P.createContext(!1),ZR=()=>P.useContext(k_);k_.Provider;function eN(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var tN=P.createContext(eN()),nN=()=>P.useContext(tN),sN=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},rN=n=>{P.useEffect(()=>{n.clearReset()},[n])},iN=({result:n,errorResetBoundary:e,throwOnError:t,query:s,suspense:r})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&(r&&n.data===void 0||x_(t,[n.error,s])),aN=n=>{if(n.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),s=n.staleTime;n.staleTime=typeof s=="function"?(...r)=>t(s(...r)):t(s),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},oN=(n,e)=>n.isLoading&&n.isFetching&&!e,lN=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,f2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function cN(n,e,t){var h,p,g,m,v;const s=ZR(),r=nN(),i=o0(),a=i.defaultQueryOptions(n);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,a),a._optimisticResults=s?"isRestoring":"optimistic",aN(a),sN(a,r),rN(r);const o=!i.getQueryCache().get(a.queryHash),[c]=P.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!s&&n.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(S=>{const x=d?c.subscribe(Nt.batchCalls(S)):Sn;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(a)},[a,c]),lN(a,u))throw f2(a,c,r);if(iN({result:u,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((m=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||m.call(g,a,u),a.experimental_prefetchInRender&&!Gl&&oN(u,s)){const S=o?f2(a,c,r):(v=i.getQueryCache().get(a.queryHash))==null?void 0:v.promise;S==null||S.catch(Sn).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Pi(n,e){return cN(n,$R)}function Cv(n,e){const t=o0(),[s]=P.useState(()=>new YR(t,n));P.useEffect(()=>{s.setOptions(n)},[s,n]);const r=P.useSyncExternalStore(P.useCallback(a=>s.subscribe(Nt.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=P.useCallback((a,o)=>{s.mutate(a,o).catch(Sn)},[s]);if(r.error&&x_(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}let uN={data:""},dN=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||uN},hN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fN=/\/\*[^]*?\*\/|  +/g,p2=/\n+/g,na=(n,e)=>{let t="",s="",r="";for(let i in n){let a=n[i];i[0]=="@"?i[1]=="i"?t=i+" "+a+";":s+=i[1]=="f"?na(a,i):i+"{"+na(a,i[1]=="k"?"":e)+"}":typeof a=="object"?s+=na(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=na.p?na.p(i,a):i+":"+a+";")}return t+(e&&r?e+"{"+r+"}":r)+s},Br={},T_=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+T_(n[t]);return e}return n},pN=(n,e,t,s,r)=>{let i=T_(n),a=Br[i]||(Br[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Br[a]){let c=i!==n?n:(u=>{let d,h,p=[{}];for(;d=hN.exec(u.replace(fN,""));)d[4]?p.shift():d[3]?(h=d[3].replace(p2," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(p2," ").trim();return p[0]})(n);Br[a]=na(r?{["@keyframes "+a]:c}:c,t?"":"."+a)}let o=t&&Br.g?Br.g:null;return t&&(Br.g=Br[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Br[a],e,s,o),a},mN=(n,e,t)=>n.reduce((s,r,i)=>{let a=e[i];if(a&&a.call){let o=a(t),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":na(o,""):o===!1?"":o}return s+r+(a??"")},"");function l0(n){let e=this||{},t=n.call?n(e.p):n;return pN(t.unshift?t.raw?mN(t,[].slice.call(arguments,1),e.p):t.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):t,dN(e.target),e.g,e.o,e.k)}let P_,kv,Tv;l0.bind({g:1});let Ii=l0.bind({k:1});function gN(n,e,t,s){na.p=e,P_=n,kv=t,Tv=s}function fo(n,e){let t=this||{};return function(){let s=arguments;function r(i,a){let o=Object.assign({},i),c=o.className||r.className;t.p=Object.assign({theme:kv&&kv()},o),t.o=/ *go\d+/.test(c),o.className=l0.apply(t,s)+(c?" "+c:"");let u=n;return n[0]&&(u=o.as||n,delete o.as),Tv&&u[0]&&Tv(o),P_(u,o)}return r}}var yN=n=>typeof n=="function",pg=(n,e)=>yN(n)?n(e):n,vN=(()=>{let n=0;return()=>(++n).toString()})(),R_=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),xN=20,lb="default",N_=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return N_(n,{type:n.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},am=[],M_={toasts:[],pausedAt:void 0,settings:{toastLimit:xN}},Dr={},L_=(n,e=lb)=>{Dr[e]=N_(Dr[e]||M_,n),am.forEach(([t,s])=>{t===e&&s(Dr[e])})},j_=n=>Object.keys(Dr).forEach(e=>L_(n,e)),bN=n=>Object.keys(Dr).find(e=>Dr[e].toasts.some(t=>t.id===n)),c0=(n=lb)=>e=>{L_(e,n)},wN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AN=(n={},e=lb)=>{let[t,s]=P.useState(Dr[e]||M_),r=P.useRef(Dr[e]);P.useEffect(()=>(r.current!==Dr[e]&&s(Dr[e]),am.push([e,s]),()=>{let a=am.findIndex(([o])=>o===e);a>-1&&am.splice(a,1)}),[e]);let i=t.toasts.map(a=>{var o,c,u;return{...n,...n[a.type],...a,removeDelay:a.removeDelay||((o=n[a.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:a.duration||((c=n[a.type])==null?void 0:c.duration)||(n==null?void 0:n.duration)||wN[a.type],style:{...n.style,...(u=n[a.type])==null?void 0:u.style,...a.style}}});return{...t,toasts:i}},SN=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||vN()}),cp=n=>(e,t)=>{let s=SN(e,n,t);return c0(s.toasterId||bN(s.id))({type:2,toast:s}),s.id},Mt=(n,e)=>cp("blank")(n,e);Mt.error=cp("error");Mt.success=cp("success");Mt.loading=cp("loading");Mt.custom=cp("custom");Mt.dismiss=(n,e)=>{let t={type:3,toastId:n};e?c0(e)(t):j_(t)};Mt.dismissAll=n=>Mt.dismiss(void 0,n);Mt.remove=(n,e)=>{let t={type:4,toastId:n};e?c0(e)(t):j_(t)};Mt.removeAll=n=>Mt.remove(void 0,n);Mt.promise=(n,e,t)=>{let s=Mt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let i=e.success?pg(e.success,r):void 0;return i?Mt.success(i,{id:s,...t,...t==null?void 0:t.success}):Mt.dismiss(s),r}).catch(r=>{let i=e.error?pg(e.error,r):void 0;i?Mt.error(i,{id:s,...t,...t==null?void 0:t.error}):Mt.dismiss(s)}),n};var EN=1e3,_N=(n,e="default")=>{let{toasts:t,pausedAt:s}=AN(n,e),r=P.useRef(new Map).current,i=P.useCallback((h,p=EN)=>{if(r.has(h))return;let g=setTimeout(()=>{r.delete(h),a({type:4,toastId:h})},p);r.set(h,g)},[]);P.useEffect(()=>{if(s)return;let h=Date.now(),p=t.map(g=>{if(g.duration===1/0)return;let m=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(m<0){g.visible&&Mt.dismiss(g.id);return}return setTimeout(()=>Mt.dismiss(g.id,e),m)});return()=>{p.forEach(g=>g&&clearTimeout(g))}},[t,s,e]);let a=P.useCallback(c0(e),[e]),o=P.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=P.useCallback((h,p)=>{a({type:1,toast:{id:h,height:p}})},[a]),u=P.useCallback(()=>{s&&a({type:6,time:Date.now()})},[s,a]),d=P.useCallback((h,p)=>{let{reverseOrder:g=!1,gutter:m=8,defaultPosition:v}=p||{},S=t.filter(y=>(y.position||v)===(h.position||v)&&y.height),x=S.findIndex(y=>y.id===h.id),w=S.filter((y,_)=>_<x&&y.visible).length;return S.filter(y=>y.visible).slice(...g?[w+1]:[0,w]).reduce((y,_)=>y+(_.height||0)+m,0)},[t]);return P.useEffect(()=>{t.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let p=r.get(h.id);p&&(clearTimeout(p),r.delete(h.id))}})},[t,i]),{toasts:t,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},CN=Ii`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kN=Ii`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TN=Ii`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,PN=fo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RN=Ii`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NN=fo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${RN} 1s linear infinite;
`,MN=Ii`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,LN=Ii`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jN=fo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${LN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FN=fo("div")`
  position: absolute;
`,ON=fo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,DN=Ii`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IN=fo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${DN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zN=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?P.createElement(IN,null,e):e:t==="blank"?null:P.createElement(ON,null,P.createElement(NN,{...s}),t!=="loading"&&P.createElement(FN,null,t==="error"?P.createElement(PN,{...s}):P.createElement(jN,{...s})))},HN=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,BN=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,UN="0%{opacity:0;} 100%{opacity:1;}",$N="0%{opacity:1;} 100%{opacity:0;}",VN=fo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,WN=fo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qN=(n,e)=>{let t=n.includes("top")?1:-1,[s,r]=R_()?[UN,$N]:[HN(t),BN(t)];return{animation:e?`${Ii(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ii(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},GN=P.memo(({toast:n,position:e,style:t,children:s})=>{let r=n.height?qN(n.position||e||"top-center",n.visible):{opacity:0},i=P.createElement(zN,{toast:n}),a=P.createElement(WN,{...n.ariaProps},pg(n.message,n));return P.createElement(VN,{className:n.className,style:{...r,...t,...n.style}},typeof s=="function"?s({icon:i,message:a}):P.createElement(P.Fragment,null,i,a))});gN(P.createElement);var XN=({id:n,className:e,style:t,onHeightUpdate:s,children:r})=>{let i=P.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;s(n,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return P.createElement("div",{ref:i,className:e,style:t},r)},YN=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:R_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...r}},KN=l0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ip=16,QN=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:r,toasterId:i,containerStyle:a,containerClassName:o})=>{let{toasts:c,handlers:u}=_N(t,i);return P.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Ip,left:Ip,right:Ip,bottom:Ip,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,p=u.calculateOffset(d,{reverseOrder:n,gutter:s,defaultPosition:e}),g=YN(h,p);return P.createElement(XN,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?KN:"",style:g},d.type==="custom"?pg(d.message,d):r?r(d):P.createElement(GN,{toast:d,position:h}))}))},Ve=Mt;function F_(n,e){return function(){return n.apply(e,arguments)}}const{toString:JN}=Object.prototype,{getPrototypeOf:cb}=Object,{iterator:u0,toStringTag:O_}=Symbol,d0=(n=>e=>{const t=JN.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ir=n=>(n=n.toLowerCase(),e=>d0(e)===n),h0=n=>e=>typeof e===n,{isArray:yd}=Array,ld=h0("undefined");function up(n){return n!==null&&!ld(n)&&n.constructor!==null&&!ld(n.constructor)&&qn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const D_=ir("ArrayBuffer");function ZN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&D_(n.buffer),e}const e6=h0("string"),qn=h0("function"),I_=h0("number"),dp=n=>n!==null&&typeof n=="object",t6=n=>n===!0||n===!1,om=n=>{if(d0(n)!=="object")return!1;const e=cb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(O_ in n)&&!(u0 in n)},n6=n=>{if(!dp(n)||up(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},s6=ir("Date"),r6=ir("File"),i6=ir("Blob"),a6=ir("FileList"),o6=n=>dp(n)&&qn(n.pipe),l6=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||qn(n.append)&&((e=d0(n))==="formdata"||e==="object"&&qn(n.toString)&&n.toString()==="[object FormData]"))},c6=ir("URLSearchParams"),[u6,d6,h6,f6]=["ReadableStream","Request","Response","Headers"].map(ir),p6=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,r;if(typeof n!="object"&&(n=[n]),yd(n))for(s=0,r=n.length;s<r;s++)e.call(null,n[s],s,n);else{if(up(n))return;const i=t?Object.getOwnPropertyNames(n):Object.keys(n),a=i.length;let o;for(s=0;s<a;s++)o=i[s],e.call(null,n[o],o,n)}}function z_(n,e){if(up(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,r;for(;s-- >0;)if(r=t[s],e===r.toLowerCase())return r;return null}const No=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H_=n=>!ld(n)&&n!==No;function Pv(){const{caseless:n,skipUndefined:e}=H_(this)&&this||{},t={},s=(r,i)=>{const a=n&&z_(t,i)||i;om(t[a])&&om(r)?t[a]=Pv(t[a],r):om(r)?t[a]=Pv({},r):yd(r)?t[a]=r.slice():(!e||!ld(r))&&(t[a]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hp(arguments[r],s);return t}const m6=(n,e,t,{allOwnKeys:s}={})=>(hp(e,(r,i)=>{t&&qn(r)?n[i]=F_(r,t):n[i]=r},{allOwnKeys:s}),n),g6=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),y6=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},v6=(n,e,t,s)=>{let r,i,a;const o={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),i=r.length;i-- >0;)a=r[i],(!s||s(a,n,e))&&!o[a]&&(e[a]=n[a],o[a]=!0);n=t!==!1&&cb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},x6=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},b6=n=>{if(!n)return null;if(yd(n))return n;let e=n.length;if(!I_(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},w6=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&cb(Uint8Array)),A6=(n,e)=>{const s=(n&&n[u0]).call(n);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(n,i[0],i[1])}},S6=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},E6=ir("HTMLFormElement"),_6=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),m2=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),C6=ir("RegExp"),B_=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};hp(t,(r,i)=>{let a;(a=e(r,i,n))!==!1&&(s[i]=a||r)}),Object.defineProperties(n,s)},k6=n=>{B_(n,(e,t)=>{if(qn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(qn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},T6=(n,e)=>{const t={},s=r=>{r.forEach(i=>{t[i]=!0})};return yd(n)?s(n):s(String(n).split(e)),t},P6=()=>{},R6=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function N6(n){return!!(n&&qn(n.append)&&n[O_]==="FormData"&&n[u0])}const M6=n=>{const e=new Array(10),t=(s,r)=>{if(dp(s)){if(e.indexOf(s)>=0)return;if(up(s))return s;if(!("toJSON"in s)){e[r]=s;const i=yd(s)?[]:{};return hp(s,(a,o)=>{const c=t(a,r+1);!ld(c)&&(i[o]=c)}),e[r]=void 0,i}}return s};return t(n,0)},L6=ir("AsyncFunction"),j6=n=>n&&(dp(n)||qn(n))&&qn(n.then)&&qn(n.catch),U_=((n,e)=>n?setImmediate:e?((t,s)=>(No.addEventListener("message",({source:r,data:i})=>{r===No&&i===t&&s.length&&s.shift()()},!1),r=>{s.push(r),No.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",qn(No.postMessage)),F6=typeof queueMicrotask<"u"?queueMicrotask.bind(No):typeof process<"u"&&process.nextTick||U_,O6=n=>n!=null&&qn(n[u0]),L={isArray:yd,isArrayBuffer:D_,isBuffer:up,isFormData:l6,isArrayBufferView:ZN,isString:e6,isNumber:I_,isBoolean:t6,isObject:dp,isPlainObject:om,isEmptyObject:n6,isReadableStream:u6,isRequest:d6,isResponse:h6,isHeaders:f6,isUndefined:ld,isDate:s6,isFile:r6,isBlob:i6,isRegExp:C6,isFunction:qn,isStream:o6,isURLSearchParams:c6,isTypedArray:w6,isFileList:a6,forEach:hp,merge:Pv,extend:m6,trim:p6,stripBOM:g6,inherits:y6,toFlatObject:v6,kindOf:d0,kindOfTest:ir,endsWith:x6,toArray:b6,forEachEntry:A6,matchAll:S6,isHTMLForm:E6,hasOwnProperty:m2,hasOwnProp:m2,reduceDescriptors:B_,freezeMethods:k6,toObjectSet:T6,toCamelCase:_6,noop:P6,toFiniteNumber:R6,findKey:z_,global:No,isContextDefined:H_,isSpecCompliantForm:N6,toJSONObject:M6,isAsyncFn:L6,isThenable:j6,setImmediate:U_,asap:F6,isIterable:O6};function ue(n,e,t,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}L.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const $_=ue.prototype,V_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{V_[n]={value:n}});Object.defineProperties(ue,V_);Object.defineProperty($_,"isAxiosError",{value:!0});ue.from=(n,e,t,s,r,i)=>{const a=Object.create($_);L.toFlatObject(n,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=n&&n.message?n.message:"Error",c=e==null&&n?n.code:e;return ue.call(a,o,c,t,s,r),n&&a.cause==null&&Object.defineProperty(a,"cause",{value:n,configurable:!0}),a.name=n&&n.name||"Error",i&&Object.assign(a,i),a};const D6=null;function Rv(n){return L.isPlainObject(n)||L.isArray(n)}function W_(n){return L.endsWith(n,"[]")?n.slice(0,-2):n}function g2(n,e,t){return n?n.concat(e).map(function(r,i){return r=W_(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function I6(n){return L.isArray(n)&&!n.some(Rv)}const z6=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function f0(n,e,t){if(!L.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=L.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!L.isUndefined(S[v])});const s=t.metaTokens,r=t.visitor||d,i=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(r))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(L.isDate(m))return m.toISOString();if(L.isBoolean(m))return m.toString();if(!c&&L.isBlob(m))throw new ue("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(m)||L.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,S){let x=m;if(m&&!S&&typeof m=="object"){if(L.endsWith(v,"{}"))v=s?v:v.slice(0,-2),m=JSON.stringify(m);else if(L.isArray(m)&&I6(m)||(L.isFileList(m)||L.endsWith(v,"[]"))&&(x=L.toArray(m)))return v=W_(v),x.forEach(function(y,_){!(L.isUndefined(y)||y===null)&&e.append(a===!0?g2([v],_,i):a===null?v:v+"[]",u(y))}),!1}return Rv(m)?!0:(e.append(g2(S,v,i),u(m)),!1)}const h=[],p=Object.assign(z6,{defaultVisitor:d,convertValue:u,isVisitable:Rv});function g(m,v){if(!L.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),L.forEach(m,function(x,w){(!(L.isUndefined(x)||x===null)&&r.call(e,x,L.isString(w)?w.trim():w,v,p))===!0&&g(x,v?v.concat(w):[w])}),h.pop()}}if(!L.isObject(n))throw new TypeError("data must be an object");return g(n),e}function y2(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function ub(n,e){this._pairs=[],n&&f0(n,this,e)}const q_=ub.prototype;q_.append=function(e,t){this._pairs.push([e,t])};q_.toString=function(e){const t=e?function(s){return e.call(this,s,y2)}:y2;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function H6(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function G_(n,e,t){if(!e)return n;const s=t&&t.encode||H6;L.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let i;if(r?i=r(e,t):i=L.isURLSearchParams(e)?e.toString():new ub(e,t).toString(s),i){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class v2{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(s){s!==null&&e(s)})}}const X_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B6=typeof URLSearchParams<"u"?URLSearchParams:ub,U6=typeof FormData<"u"?FormData:null,$6=typeof Blob<"u"?Blob:null,V6={isBrowser:!0,classes:{URLSearchParams:B6,FormData:U6,Blob:$6},protocols:["http","https","file","blob","url","data"]},db=typeof window<"u"&&typeof document<"u",Nv=typeof navigator=="object"&&navigator||void 0,W6=db&&(!Nv||["ReactNative","NativeScript","NS"].indexOf(Nv.product)<0),q6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",G6=db&&window.location.href||"http://localhost",X6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:db,hasStandardBrowserEnv:W6,hasStandardBrowserWebWorkerEnv:q6,navigator:Nv,origin:G6},Symbol.toStringTag,{value:"Module"})),hn={...X6,...V6};function Y6(n,e){return f0(n,new hn.classes.URLSearchParams,{visitor:function(t,s,r,i){return hn.isNode&&L.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function K6(n){return L.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Q6(n){const e={},t=Object.keys(n);let s;const r=t.length;let i;for(s=0;s<r;s++)i=t[s],e[i]=n[i];return e}function Y_(n){function e(t,s,r,i){let a=t[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=t.length;return a=!a&&L.isArray(r)?r.length:a,c?(L.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!o):((!r[a]||!L.isObject(r[a]))&&(r[a]=[]),e(t,s,r[a],i)&&L.isArray(r[a])&&(r[a]=Q6(r[a])),!o)}if(L.isFormData(n)&&L.isFunction(n.entries)){const t={};return L.forEachEntry(n,(s,r)=>{e(K6(s),r,t,0)}),t}return null}function J6(n,e,t){if(L.isString(n))try{return(e||JSON.parse)(n),L.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const fp={transitional:X_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return r?JSON.stringify(Y_(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Y6(e,this.formSerializer).toString();if((o=L.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return f0(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),J6(e)):e}],transformResponse:[function(e){const t=this.transitional||fp.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(s&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?ue.from(o,ue.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],n=>{fp.headers[n]={}});const Z6=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eM=n=>{const e={};let t,s,r;return n&&n.split(`
`).forEach(function(a){r=a.indexOf(":"),t=a.substring(0,r).trim().toLowerCase(),s=a.substring(r+1).trim(),!(!t||e[t]&&Z6[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},x2=Symbol("internals");function kd(n){return n&&String(n).trim().toLowerCase()}function lm(n){return n===!1||n==null?n:L.isArray(n)?n.map(lm):String(n)}function tM(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const nM=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ay(n,e,t,s,r){if(L.isFunction(s))return s.call(this,e,t);if(r&&(e=t),!!L.isString(e)){if(L.isString(s))return e.indexOf(s)!==-1;if(L.isRegExp(s))return s.test(e)}}function sM(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function rM(n,e){const t=L.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(r,i,a){return this[s].call(this,e,r,i,a)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function i(o,c,u){const d=kd(c);if(!d)throw new Error("header name must be a non-empty string");const h=L.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||c]=lm(o))}const a=(o,c)=>L.forEach(o,(u,d)=>i(u,d,c));if(L.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(L.isString(e)&&(e=e.trim())&&!nM(e))a(eM(e),t);else if(L.isObject(e)&&L.isIterable(e)){let o={},c,u;for(const d of e){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?L.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(o,t)}else e!=null&&i(t,e,s);return this}get(e,t){if(e=kd(e),e){const s=L.findKey(this,e);if(s){const r=this[s];if(!t)return r;if(t===!0)return tM(r);if(L.isFunction(t))return t.call(this,r,s);if(L.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kd(e),e){const s=L.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ay(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let r=!1;function i(a){if(a=kd(a),a){const o=L.findKey(s,a);o&&(!t||ay(s,s[o],o,t))&&(delete s[o],r=!0)}}return L.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const i=t[s];(!e||ay(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,s={};return L.forEach(this,(r,i)=>{const a=L.findKey(s,i);if(a){t[a]=lm(r),delete t[i];return}const o=e?sM(i):String(i).trim();o!==i&&delete t[i],t[o]=lm(r),s[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return L.forEach(this,(s,r)=>{s!=null&&s!==!1&&(t[r]=e&&L.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[x2]=this[x2]={accessors:{}}).accessors,r=this.prototype;function i(a){const o=kd(a);s[o]||(rM(r,a),s[o]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Gn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});L.freezeMethods(Gn);function oy(n,e){const t=this||fp,s=e||t,r=Gn.from(s.headers);let i=s.data;return L.forEach(n,function(o){i=o.call(t,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function K_(n){return!!(n&&n.__CANCEL__)}function vd(n,e,t){ue.call(this,n??"canceled",ue.ERR_CANCELED,e,t),this.name="CanceledError"}L.inherits(vd,ue,{__CANCEL__:!0});function Q_(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new ue("Request failed with status code "+t.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function iM(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function aM(n,e){n=n||10;const t=new Array(n),s=new Array(n);let r=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=s[i];a||(a=u),t[r]=c,s[r]=u;let h=i,p=0;for(;h!==r;)p+=t[h++],h=h%n;if(r=(r+1)%n,r===i&&(i=(i+1)%n),u-a<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function oM(n,e){let t=0,s=1e3/e,r,i;const a=(u,d=Date.now())=>{t=d,r=null,i&&(clearTimeout(i),i=null),n(...u)};return[(...u)=>{const d=Date.now(),h=d-t;h>=s?a(u,d):(r=u,i||(i=setTimeout(()=>{i=null,a(r)},s-h)))},()=>r&&a(r)]}const mg=(n,e,t=3)=>{let s=0;const r=aM(50,250);return oM(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-s,u=r(c),d=a<=o;s=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(h)},t)},b2=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},w2=n=>(...e)=>L.asap(()=>n(...e)),lM=hn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,hn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,cM=hn.hasStandardBrowserEnv?{write(n,e,t,s,r,i,a){if(typeof document>"u")return;const o=[`${n}=${encodeURIComponent(e)}`];L.isNumber(t)&&o.push(`expires=${new Date(t).toUTCString()}`),L.isString(s)&&o.push(`path=${s}`),L.isString(r)&&o.push(`domain=${r}`),i===!0&&o.push("secure"),L.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function uM(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function dM(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function J_(n,e,t){let s=!uM(e);return n&&(s||t==!1)?dM(n,e):e}const A2=n=>n instanceof Gn?{...n}:n;function Yl(n,e){e=e||{};const t={};function s(u,d,h,p){return L.isPlainObject(u)&&L.isPlainObject(d)?L.merge.call({caseless:p},u,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function r(u,d,h,p){if(L.isUndefined(d)){if(!L.isUndefined(u))return s(void 0,u,h,p)}else return s(u,d,h,p)}function i(u,d){if(!L.isUndefined(d))return s(void 0,d)}function a(u,d){if(L.isUndefined(d)){if(!L.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function o(u,d,h){if(h in e)return s(u,d);if(h in n)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>r(A2(u),A2(d),h,!0)};return L.forEach(Object.keys({...n,...e}),function(d){const h=c[d]||r,p=h(n[d],e[d],d);L.isUndefined(p)&&h!==o||(t[d]=p)}),t}const Z_=n=>{const e=Yl({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:a,auth:o}=e;if(e.headers=a=Gn.from(a),e.url=G_(J_(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),L.isFormData(t)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(L.isFunction(t.getHeaders)){const c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(hn.hasStandardBrowserEnv&&(s&&L.isFunction(s)&&(s=s(e)),s||s!==!1&&lM(e.url))){const c=r&&i&&cM.read(i);c&&a.set(r,c)}return e},hM=typeof XMLHttpRequest<"u",fM=hM&&function(n){return new Promise(function(t,s){const r=Z_(n);let i=r.data;const a=Gn.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=r,d,h,p,g,m;function v(){g&&g(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function x(){if(!S)return;const y=Gn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:y,config:n,request:S};Q_(function(R){t(R),v()},function(R){s(R),v()},C),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(s(new ue("Request aborted",ue.ECONNABORTED,n,S)),S=null)},S.onerror=function(_){const C=_&&_.message?_.message:"Network Error",k=new ue(C,ue.ERR_NETWORK,n,S);k.event=_||null,s(k),S=null},S.ontimeout=function(){let _=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const C=r.transitional||X_;r.timeoutErrorMessage&&(_=r.timeoutErrorMessage),s(new ue(_,C.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,n,S)),S=null},i===void 0&&a.setContentType(null),"setRequestHeader"in S&&L.forEach(a.toJSON(),function(_,C){S.setRequestHeader(C,_)}),L.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),o&&o!=="json"&&(S.responseType=r.responseType),u&&([p,m]=mg(u,!0),S.addEventListener("progress",p)),c&&S.upload&&([h,g]=mg(c),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=y=>{S&&(s(!y||y.type?new vd(null,n,S):y),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=iM(r.url);if(w&&hn.protocols.indexOf(w)===-1){s(new ue("Unsupported protocol "+w+":",ue.ERR_BAD_REQUEST,n));return}S.send(i||null)})},pM=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,r;const i=function(u){if(!r){r=!0,o();const d=u instanceof Error?u:this.reason;s.abort(d instanceof ue?d:new vd(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new ue(`timeout ${e} of ms exceeded`,ue.ETIMEDOUT))},e);const o=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),n=null)};n.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>L.asap(o),c}},mM=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,r;for(;s<t;)r=s+e,yield n.slice(s,r),s=r},gM=async function*(n,e){for await(const t of yM(n))yield*mM(t,e)},yM=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},S2=(n,e,t,s)=>{const r=gM(n,e);let i=0,a,o=c=>{a||(a=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){o(),c.close();return}let h=d.byteLength;if(t){let p=i+=h;t(p)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},E2=64*1024,{isFunction:zp}=L,vM=(({Request:n,Response:e})=>({Request:n,Response:e}))(L.global),{ReadableStream:_2,TextEncoder:C2}=L.global,k2=(n,...e)=>{try{return!!n(...e)}catch{return!1}},xM=n=>{n=L.merge.call({skipUndefined:!0},vM,n);const{fetch:e,Request:t,Response:s}=n,r=e?zp(e):typeof fetch=="function",i=zp(t),a=zp(s);if(!r)return!1;const o=r&&zp(_2),c=r&&(typeof C2=="function"?(m=>v=>m.encode(v))(new C2):async m=>new Uint8Array(await new t(m).arrayBuffer())),u=i&&o&&k2(()=>{let m=!1;const v=new t(hn.origin,{body:new _2,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),d=a&&o&&k2(()=>L.isReadableStream(new s("").body)),h={stream:d&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(v,S)=>{let x=v&&v[m];if(x)return x.call(v);throw new ue(`Response type '${m}' is not supported`,ue.ERR_NOT_SUPPORT,S)})});const p=async m=>{if(m==null)return 0;if(L.isBlob(m))return m.size;if(L.isSpecCompliantForm(m))return(await new t(hn.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(L.isArrayBufferView(m)||L.isArrayBuffer(m))return m.byteLength;if(L.isURLSearchParams(m)&&(m=m+""),L.isString(m))return(await c(m)).byteLength},g=async(m,v)=>{const S=L.toFiniteNumber(m.getContentLength());return S??p(v)};return async m=>{let{url:v,method:S,data:x,signal:w,cancelToken:y,timeout:_,onDownloadProgress:C,onUploadProgress:k,responseType:R,headers:N,withCredentials:O="same-origin",fetchOptions:j}=Z_(m),I=e||fetch;R=R?(R+"").toLowerCase():"text";let B=pM([w,y&&y.toAbortSignal()],_),H=null;const $=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let Z;try{if(k&&u&&S!=="get"&&S!=="head"&&(Z=await g(N,x))!==0){let ie=new t(v,{method:"POST",body:x,duplex:"half"}),ae;if(L.isFormData(x)&&(ae=ie.headers.get("content-type"))&&N.setContentType(ae),ie.body){const[ve,Me]=b2(Z,mg(w2(k)));x=S2(ie.body,E2,ve,Me)}}L.isString(O)||(O=O?"include":"omit");const X=i&&"credentials"in t.prototype,V={...j,signal:B,method:S.toUpperCase(),headers:N.normalize().toJSON(),body:x,duplex:"half",credentials:X?O:void 0};H=i&&new t(v,V);let F=await(i?I(H,j):I(v,V));const Q=d&&(R==="stream"||R==="response");if(d&&(C||Q&&$)){const ie={};["status","statusText","headers"].forEach(ht=>{ie[ht]=F[ht]});const ae=L.toFiniteNumber(F.headers.get("content-length")),[ve,Me]=C&&b2(ae,mg(w2(C),!0))||[];F=new s(S2(F.body,E2,ve,()=>{Me&&Me(),$&&$()}),ie)}R=R||"text";let ee=await h[L.findKey(h,R)||"text"](F,m);return!Q&&$&&$(),await new Promise((ie,ae)=>{Q_(ie,ae,{data:ee,headers:Gn.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:H})})}catch(X){throw $&&$(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,m,H),{cause:X.cause||X}):ue.from(X,X&&X.code,m,H)}}},bM=new Map,eC=n=>{let e=n&&n.env||{};const{fetch:t,Request:s,Response:r}=e,i=[s,r,t];let a=i.length,o=a,c,u,d=bM;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:xM(e)),d=u;return u};eC();const hb={http:D6,xhr:fM,fetch:{get:eC}};L.forEach(hb,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const T2=n=>`- ${n}`,wM=n=>L.isFunction(n)||n===null||n===!1;function AM(n,e){n=L.isArray(n)?n:[n];const{length:t}=n;let s,r;const i={};for(let a=0;a<t;a++){s=n[a];let o;if(r=s,!wM(s)&&(r=hb[(o=String(s)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${o}'`);if(r&&(L.isFunction(r)||(r=r.get(e))))break;i[o||"#"+a]=r}if(!r){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(T2).join(`
`):" "+T2(a[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const tC={getAdapter:AM,adapters:hb};function ly(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vd(null,n)}function P2(n){return ly(n),n.headers=Gn.from(n.headers),n.data=oy.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),tC.getAdapter(n.adapter||fp.adapter,n)(n).then(function(s){return ly(n),s.data=oy.call(n,n.transformResponse,s),s.headers=Gn.from(s.headers),s},function(s){return K_(s)||(ly(n),s&&s.response&&(s.response.data=oy.call(n,n.transformResponse,s.response),s.response.headers=Gn.from(s.response.headers))),Promise.reject(s)})}const nC="1.13.2",p0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{p0[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const R2={};p0.transitional=function(e,t,s){function r(i,a){return"[Axios v"+nC+"] Transitional option '"+i+"'"+a+(s?". "+s:"")}return(i,a,o)=>{if(e===!1)throw new ue(r(a," has been removed"+(t?" in "+t:"")),ue.ERR_DEPRECATED);return t&&!R2[a]&&(R2[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,o):!0}};p0.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function SM(n,e,t){if(typeof n!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let r=s.length;for(;r-- >0;){const i=s[r],a=e[i];if(a){const o=n[i],c=o===void 0||a(o,i,n);if(c!==!0)throw new ue("option "+i+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const cm={assertOptions:SM,validators:p0},lr=cm.validators;let Hl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new v2,response:new v2}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Yl(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:i}=t;s!==void 0&&cm.assertOptions(s,{silentJSONParsing:lr.transitional(lr.boolean),forcedJSONParsing:lr.transitional(lr.boolean),clarifyTimeoutError:lr.transitional(lr.boolean)},!1),r!=null&&(L.isFunction(r)?t.paramsSerializer={serialize:r}:cm.assertOptions(r,{encode:lr.function,serialize:lr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cm.assertOptions(t,{baseUrl:lr.spelling("baseURL"),withXsrfToken:lr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&L.merge(i.common,i[t.method]);i&&L.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),t.headers=Gn.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!c){const m=[P2.bind(this),void 0];for(m.unshift(...o),m.push(...u),p=m.length,d=Promise.resolve(t);h<p;)d=d.then(m[h++],m[h++]);return d}p=o.length;let g=t;for(;h<p;){const m=o[h++],v=o[h++];try{g=m(g)}catch(S){v.call(this,S);break}}try{d=P2.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Yl(this.defaults,e);const t=J_(e.baseURL,e.url,e.allowAbsoluteUrls);return G_(t,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){Hl.prototype[e]=function(t,s){return this.request(Yl(s||{},{method:e,url:t,data:(s||{}).data}))}});L.forEach(["post","put","patch"],function(e){function t(s){return function(i,a,o){return this.request(Yl(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Hl.prototype[e]=t(),Hl.prototype[e+"Form"]=t(!0)});let EM=class sC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const a=new Promise(o=>{s.subscribe(o),i=o}).then(r);return a.cancel=function(){s.unsubscribe(i)},a},e(function(i,a,o){s.reason||(s.reason=new vd(i,a,o),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sC(function(r){e=r}),cancel:e}}};function _M(n){return function(t){return n.apply(null,t)}}function CM(n){return L.isObject(n)&&n.isAxiosError===!0}const Mv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mv).forEach(([n,e])=>{Mv[e]=n});function rC(n){const e=new Hl(n),t=F_(Hl.prototype.request,e);return L.extend(t,Hl.prototype,e,{allOwnKeys:!0}),L.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return rC(Yl(n,r))},t}const dt=rC(fp);dt.Axios=Hl;dt.CanceledError=vd;dt.CancelToken=EM;dt.isCancel=K_;dt.VERSION=nC;dt.toFormData=f0;dt.AxiosError=ue;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=_M;dt.isAxiosError=CM;dt.mergeConfig=Yl;dt.AxiosHeaders=Gn;dt.formToJSON=n=>Y_(L.isHTMLForm(n)?new FormData(n):n);dt.getAdapter=tC.getAdapter;dt.HttpStatusCode=Mv;dt.default=dt;const{Axios:pI,AxiosError:mI,CanceledError:gI,isCancel:yI,CancelToken:vI,VERSION:xI,all:bI,Cancel:wI,isAxiosError:AI,spread:SI,toFormData:EI,AxiosHeaders:_I,HttpStatusCode:CI,formToJSON:kI,getAdapter:TI,mergeConfig:PI}=dt,iC="/api",Ee=dt.create({baseURL:iC,headers:{"Content-Type":"application/json"}});Ee.interceptors.request.use(n=>{const e=localStorage.getItem("access_token");return e&&(n.headers.Authorization=`Bearer ${e}`),n},n=>Promise.reject(n));Ee.interceptors.response.use(n=>n,async n=>{var t;const e=n.config;if(((t=n.response)==null?void 0:t.status)===401&&!e._retry){e._retry=!0;try{const s=localStorage.getItem("refresh_token");if(!s)throw new Error("No refresh token");const r=await dt.post(`${iC}/auth/token/refresh/`,{refresh:s}),{access:i}=r.data;return localStorage.setItem("access_token",i),e.headers.Authorization=`Bearer ${i}`,Ee(e)}catch(s){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(s)}}return Promise.reject(n)});const Dd={login:async n=>{const e=await Ee.post("/token/",n),t=await Ee.get("/users/me/",{headers:{Authorization:`Bearer ${e.data.access}`}});return{access:e.data.access,refresh:e.data.refresh,user:t.data}},register:async n=>(await Ee.post("/auth/register/",n),await Dd.login({username:n.username,password:n.password})),getCurrentUser:async()=>(await Ee.get("/users/me/")).data,refreshToken:async n=>(await Ee.post("/token/refresh/",{refresh:n})).data,logout:async()=>Promise.resolve()},aC=P.createContext(void 0),kM=({children:n})=>{const[e,t]=P.useState(null),[s,r]=P.useState(!0);P.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{const d=await Dd.getCurrentUser();t(d)}catch{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}r(!1)})()},[]);const i=async c=>{var u,d;try{const h=await Dd.login(c);localStorage.setItem("access_token",h.access),localStorage.setItem("refresh_token",h.refresh),t(h.user),Ve.success("Connexion russie")}catch(h){throw Ve.error(((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.detail)||"Erreur de connexion"),h}},a=async c=>{var u,d;try{const h=await Dd.register(c);localStorage.setItem("access_token",h.access),localStorage.setItem("refresh_token",h.refresh),t(h.user),Ve.success("Inscription russie")}catch(h){throw Ve.error(((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.detail)||"Erreur d'inscription"),h}},o=()=>{Dd.logout().catch(()=>{}),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),t(null),Ve.success("Dconnexion russie")};return f.jsx(aC.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:s,login:i,register:a,logout:o},children:n})},po=()=>{const n=P.useContext(aC);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},oC=P.createContext({theme:"light",toggleTheme:()=>{}}),TM=()=>P.useContext(oC),PM=({children:n})=>{const[e,t]=P.useState(()=>{const r=localStorage.getItem("theme");return r==="dark"||r==="light"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});P.useEffect(()=>{const r=document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const s=()=>{t(r=>r==="light"?"dark":"light")};return f.jsx(oC.Provider,{value:{theme:e,toggleTheme:s},children:n})};var lC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N2=ct.createContext&&ct.createContext(lC),RM=["attr","size","title"];function NM(n,e){if(n==null)return{};var t=MM(n,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function MM(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function gg(){return gg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},gg.apply(this,arguments)}function M2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function yg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(t),!0).forEach(function(s){LM(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M2(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function LM(n,e,t){return e=jM(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jM(n){var e=FM(n,"string");return typeof e=="symbol"?e:e+""}function FM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cC(n){return n&&n.map((e,t)=>ct.createElement(e.tag,yg({key:t},e.attr),cC(e.child)))}function fe(n){return e=>ct.createElement(OM,gg({attr:yg({},n.attr)},e),cC(n.child))}function OM(n){var e=t=>{var{attr:s,size:r,title:i}=n,a=NM(n,RM),o=r||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),ct.createElement("svg",gg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,a,{className:c,style:yg(yg({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&ct.createElement("title",null,i),n.children)};return N2!==void 0?ct.createElement(N2.Consumer,null,t=>e(t)):e(lC)}function DM(n){return fe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function L2(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function IM(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Hr(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function zM(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function j2(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function HM(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function F2(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function BM(n){return fe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function UM(n){return fe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}function $M(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function VM(n){return fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"},child:[]}]})(n)}function Lv(n){return fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(n)}function uC(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function WM(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(n)}function qM(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function GM(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function eo(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function dC(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function O2(n){return fe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function XM(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function D2(n){return fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function cd(n){return fe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function YM(n){return fe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function KM(n){return fe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(n)}function QM(n){return fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(n)}function JM(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function jv(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function ZM(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(n)}function eL(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function Fv(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function tL(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function nL(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function vg(n){return fe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function sL(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(n)}function I2(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function rL(n){return fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function hC(n){return fe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function iL(n){return fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function m0(n){return fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function um(n){return fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const aL=()=>{const{user:n,isAuthenticated:e,logout:t}=po(),{theme:s,toggleTheme:r}=TM(),[i,a]=P.useState(!1);return f.jsx("header",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-gray-100 dark:border-gray-700",children:f.jsxs("nav",{className:"container mx-auto px-4 py-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Pe,{to:"/",className:"flex items-center space-x-2 text-2xl font-bold",children:[f.jsx("span",{className:"bg-primary-600 text-white p-2 rounded-xl",children:f.jsx(Hr,{className:"text-lg"})}),f.jsx("span",{className:"gradient-text hidden sm:inline",children:"Banque d'preuves"}),f.jsx("span",{className:"gradient-text sm:hidden",children:"IMSP"})]}),f.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[f.jsx(Pe,{to:"/epreuves",className:"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/30",children:"preuves"}),e&&f.jsxs(Pe,{to:"/upload",className:"flex items-center space-x-1.5 btn-accent text-sm",children:[f.jsx(Lv,{}),f.jsx("span",{children:"Upload"})]}),e&&(n==null?void 0:n.is_staff)&&f.jsxs(Pe,{to:"/admin-panel",className:"flex items-center space-x-1.5 text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/30",children:[f.jsx(uC,{className:"text-sm"}),f.jsx("span",{children:"Admin"})]}),f.jsx("button",{onClick:r,className:"p-2.5 rounded-xl text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:s==="light"?"Mode sombre":"Mode clair",children:s==="light"?f.jsx(ZM,{}):f.jsx(sL,{className:"text-yellow-400"})}),e?f.jsxs(f.Fragment,{children:[f.jsxs(Pe,{to:"/profile",className:"flex items-center space-x-1.5 text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/30",children:[f.jsx(m0,{className:"text-sm"}),f.jsx("span",{children:n==null?void 0:n.username})]}),f.jsxs("button",{onClick:t,className:"flex items-center space-x-1.5 text-gray-500 hover:text-red-500 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/30",children:[f.jsx(nL,{className:"text-sm"}),f.jsx("span",{children:"Dconnexion"})]})]}):f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs(Pe,{to:"/login",className:"flex items-center space-x-1.5 btn-secondary text-sm",children:[f.jsx(tL,{}),f.jsx("span",{children:"Connexion"})]}),f.jsxs(Pe,{to:"/register",className:"flex items-center space-x-1.5 btn-primary text-sm",children:[f.jsx(iL,{}),f.jsx("span",{children:"S'inscrire"})]})]})]}),f.jsx("button",{className:"md:hidden text-2xl text-gray-600 p-2",onClick:()=>a(!i),children:i?f.jsx(hC,{}):f.jsx(IM,{})})]}),i&&f.jsxs("div",{className:"md:hidden mt-4 space-y-1 pb-3 border-t border-gray-100 dark:border-gray-700 pt-3",children:[f.jsx(Pe,{to:"/epreuves",className:"block py-2.5 px-3 text-gray-700 dark:text-gray-300 hover:text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/30 rounded-lg font-medium",onClick:()=>a(!1),children:"preuves"}),f.jsx("button",{onClick:()=>{r(),a(!1)},className:"block w-full text-left py-2.5 px-3 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg font-medium",children:s==="light"?" Mode sombre":" Mode clair"}),e&&f.jsx(Pe,{to:"/upload",className:"block py-2.5 px-3 text-accent-600 font-medium hover:bg-accent-50 rounded-lg",onClick:()=>a(!1),children:" Upload une preuve"}),e&&(n==null?void 0:n.is_staff)&&f.jsx(Pe,{to:"/admin-panel",className:"block py-2.5 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-lg font-medium",onClick:()=>a(!1),children:" Panneau Admin"}),e?f.jsxs(f.Fragment,{children:[f.jsxs(Pe,{to:"/profile",className:"block py-2.5 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-lg",onClick:()=>a(!1),children:["Profil (",n==null?void 0:n.username,")"]}),f.jsx("button",{onClick:()=>{t(),a(!1)},className:"block w-full text-left py-2.5 px-3 text-red-500 hover:bg-red-50 rounded-lg font-medium",children:"Dconnexion"})]}):f.jsxs("div",{className:"space-y-1 pt-2",children:[f.jsx(Pe,{to:"/login",className:"block py-2.5 px-3 text-gray-700 hover:text-primary-600 hover:bg-primary-50 rounded-lg font-medium",onClick:()=>a(!1),children:"Connexion"}),f.jsx(Pe,{to:"/register",className:"block py-2.5 px-3 text-primary-600 font-semibold hover:bg-primary-50 rounded-lg",onClick:()=>a(!1),children:"S'inscrire"})]})]})]})})},oL=()=>f.jsx("footer",{className:"bg-gray-900 text-white mt-16",children:f.jsxs("div",{className:"container mx-auto px-4 py-10",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-2 text-xl font-bold mb-3",children:[f.jsx(Hr,{className:"text-primary-400"}),f.jsx("span",{children:"Banque d'preuves IMSP"})]}),f.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Plateforme collaborative de partage d'preuves acadmiques avec systme de recommandation intelligent pour les tudiants de l'IMSP."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold mb-3 text-gray-200",children:"Navigation"}),f.jsxs("ul",{className:"space-y-2 text-sm",children:[f.jsx("li",{children:f.jsx(Pe,{to:"/epreuves",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"preuves"})}),f.jsx("li",{children:f.jsx(Pe,{to:"/register",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"S'inscrire"})}),f.jsx("li",{children:f.jsx(Pe,{to:"/login",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Connexion"})}),f.jsx("li",{children:f.jsx("a",{href:"/api/docs/",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"API Documentation"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold mb-3 text-gray-200",children:"Contact"}),f.jsxs("ul",{className:"space-y-2 text-sm",children:[f.jsxs("li",{className:"flex items-center space-x-2 text-gray-400",children:[f.jsx(dC,{className:"text-xs"}),f.jsx("span",{children:"contact@imsp.uac.bj"})]}),f.jsxs("li",{className:"flex items-center space-x-2 text-gray-400",children:[f.jsx(DM,{className:"text-xs"}),f.jsx("a",{href:"https://github.com/rachidiID/Banque_epreuve",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-400 transition-colors",children:"GitHub"})]})]})]})]}),f.jsx("div",{className:"border-t border-gray-800 mt-8 pt-6 text-center text-gray-500 text-sm",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," Banque d'preuves IMSP  Fait avec"," ",f.jsx(JM,{className:"inline text-red-400 text-xs"})," pour l'IMSP"]})})]})}),lL=({children:n})=>f.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[f.jsx(aL,{}),f.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:n}),f.jsx(oL,{})]}),Hp=({children:n})=>{const{isAuthenticated:e,isLoading:t}=po();return t?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e?f.jsx(f.Fragment,{children:n}):f.jsx(gR,{to:"/login",replace:!0})},Bl={getEpreuves:async(n={})=>(await Ee.get("/epreuves/",{params:n})).data,getEpreuve:async n=>(await Ee.get(`/epreuves/${n}/`)).data,createEpreuve:async n=>(await Ee.post("/epreuves/",n,{headers:{"Content-Type":"multipart/form-data"}})).data,uploadEpreuve:async n=>(await Ee.post("/epreuves/upload/",n,{headers:{"Content-Type":"multipart/form-data"}})).data,updateEpreuve:async(n,e)=>(await Ee.patch(`/epreuves/${n}/`,e)).data,deleteEpreuve:async n=>{await Ee.delete(`/epreuves/${n}/`)},downloadEpreuve:async n=>{try{const t=(await Ee.get(`/epreuves/${n}/download/`)).data;if(t.url)window.open(t.url,"_blank");else throw new Error("local-file")}catch(e){try{const t=await Ee.get(`/epreuves/${n}/`),s=t.data.fichier_url||t.data.preview_url;if(s&&s.startsWith("http")){window.open(s,"_blank");return}}catch{}throw console.error("Erreur tlchargement:",e),e}},previewEpreuve:async n=>{const e=await Ee.get(`/epreuves/${n}/`);return e.data.preview_url||e.data.fichier_url||""},recordView:async n=>{await Ee.post(`/epreuves/${n}/view/`)},getSimilarEpreuves:async n=>{var e;try{const t=await Ee.get("/recommendations/similar/",{params:{epreuve_id:n,top_k:10}});return(e=t.data)!=null&&e.similar_items&&Array.isArray(t.data.similar_items)?t.data.similar_items.map(s=>s.epreuve).filter(s=>s&&s.id):Array.isArray(t.data)?t.data.filter(s=>s&&s.id):[]}catch(t){return console.error("Error fetching similar epreuves:",t),[]}}};function z2(n){return{id:n.epreuve_id,titre:n.titre,matiere:n.matiere,niveau:n.niveau,type_epreuve:n.type_epreuve,annee_academique:n.annee_academique,professeur:n.professeur,nb_vues:n.nb_vues||0,nb_telechargements:n.nb_telechargements||0,note_moyenne_pertinence:n.note_moyenne_pertinence??void 0,description:null,fichier_pdf:null,created_at:"",updated_at:""}}const cL={getRecommendations:async(n=10)=>{try{return(await Ee.get("/recommendations/personalized/",{params:{top_k:n}})).data.recommendations.map(z2).filter(t=>t&&t.id)}catch(e){return console.error("Error fetching recommendations:",e),[]}},getSimilarEpreuves:async(n,e=10)=>{try{return(await Ee.get("/recommendations/similar/",{params:{epreuve_id:n,top_k:e}})).data.similar_epreuves.map(z2).filter(s=>s&&s.id)}catch(t){return console.error("Error fetching similar epreuves:",t),[]}}},uL=()=>{const{isAuthenticated:n,user:e}=po(),{data:t}=Pi({queryKey:["epreuves","recent"],queryFn:()=>Bl.getEpreuves({ordering:"-created_at",page:1})}),{data:s}=Pi({queryKey:["recommendations",e==null?void 0:e.id],queryFn:()=>cL.getRecommendations(6),enabled:n});return f.jsxs("div",{className:"space-y-16",children:[f.jsxs("section",{className:"relative text-center py-20 bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 text-white rounded-3xl overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 opacity-10",children:[f.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),f.jsx("div",{className:"absolute bottom-10 right-20 w-48 h-48 bg-accent-400 rounded-full blur-3xl"})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4 leading-tight",children:["Banque d'preuves",f.jsx("br",{}),f.jsx("span",{className:"text-accent-300",children:"IMSP"})]}),f.jsx("p",{className:"text-lg md:text-xl mb-8 text-primary-100 max-w-2xl mx-auto",children:"Partagez, dcouvrez et prparez-vous avec des preuves acadmiques. Recommandations intelligentes personnalises."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs(Pe,{to:"/epreuves",className:"bg-white text-primary-700 px-8 py-3 rounded-xl font-bold hover:bg-gray-100 inline-flex items-center space-x-2 transition-all shadow-lg hover:shadow-xl",children:[f.jsx(Fv,{}),f.jsx("span",{children:"Explorer les preuves"})]}),!n&&f.jsxs(Pe,{to:"/register",className:"bg-accent-500 text-white px-8 py-3 rounded-xl font-bold hover:bg-accent-600 inline-flex items-center space-x-2 transition-all shadow-lg hover:shadow-xl",children:[f.jsx(um,{}),f.jsx("span",{children:"Crer un compte"})]})]})]})]}),f.jsx("section",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:Hr,label:"preuves",value:(t==null?void 0:t.count)||"",color:"primary"},{icon:vg,label:"IA Recommandation",value:"Actif",color:"accent"},{icon:um,label:"Communaut",value:"IMSP",color:"success"},{icon:eo,label:"Tlchargements",value:"",color:"primary"}].map((r,i)=>f.jsxs("div",{className:"card text-center py-4",children:[f.jsx(r.icon,{className:`text-2xl text-${r.color}-500 mx-auto mb-2`}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",children:r.value}),f.jsx("div",{className:"text-sm text-gray-500",children:r.label})]},i))}),f.jsxs("section",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"card-hover text-center group",children:[f.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-primary-200 transition-colors",children:f.jsx(Hr,{className:"text-2xl text-primary-600"})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bibliothque complte"}),f.jsx("p",{className:"text-gray-500",children:"Accdez  une vaste collection d'preuves couvrant toutes les matires et niveaux de l'IMSP"})]}),f.jsxs("div",{className:"card-hover text-center group",children:[f.jsx("div",{className:"w-16 h-16 bg-accent-100 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-accent-200 transition-colors",children:f.jsx(vg,{className:"text-2xl text-accent-600"})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Recommandations IA"}),f.jsx("p",{className:"text-gray-500",children:"Notre systme intelligent vous suggre les preuves les plus pertinentes selon votre profil"})]}),f.jsxs("div",{className:"card-hover text-center group",children:[f.jsx("div",{className:"w-16 h-16 bg-success-100 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-green-200 transition-colors",children:f.jsx(um,{className:"text-2xl text-success-600"})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Communaut active"}),f.jsx("p",{className:"text-gray-500",children:"Partagez vos connaissances, valuez et commentez les preuves avec d'autres tudiants"})]})]}),n&&s&&s.length>0&&f.jsxs("section",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:f.jsx("span",{className:"gradient-text",children:"Recommand pour vous"})}),f.jsxs(Pe,{to:"/epreuves",className:"text-primary-600 hover:text-primary-700 flex items-center space-x-1 font-medium text-sm",children:[f.jsx("span",{children:"Voir tout"}),f.jsx(L2,{className:"text-xs"})]})]}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.filter(r=>r&&r.id).map(r=>f.jsxs(Pe,{to:`/epreuves/${r.id}`,className:"card-hover",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsx("span",{className:"badge-primary",children:r.niveau}),f.jsx("span",{className:"badge-accent",children:r.type_epreuve})]}),f.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-800",children:r.titre}),f.jsx("p",{className:"text-gray-500 text-sm mb-3",children:r.matiere}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[f.jsx("span",{children:r.annee_academique}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("span",{className:"flex items-center space-x-1",children:[f.jsx(cd,{}),f.jsx("span",{children:r.nb_vues})]}),f.jsxs("span",{className:"flex items-center space-x-1",children:[f.jsx(eo,{}),f.jsx("span",{children:r.nb_telechargements})]})]})]})]},r.id))})]}),f.jsxs("section",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"preuves rcentes"}),f.jsxs(Pe,{to:"/epreuves",className:"text-primary-600 hover:text-primary-700 flex items-center space-x-1 font-medium text-sm",children:[f.jsx("span",{children:"Voir tout"}),f.jsx(L2,{className:"text-xs"})]})]}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-5",children:t==null?void 0:t.results.filter(r=>r&&r.id).slice(0,8).map(r=>f.jsxs(Pe,{to:`/epreuves/${r.id}`,className:"card-hover",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"badge-primary text-xs",children:r.niveau}),f.jsx("span",{className:"text-xs text-gray-400",children:r.type_epreuve})]}),f.jsx("h3",{className:"font-semibold mb-1 text-gray-800 text-sm leading-tight",children:r.titre}),f.jsx("p",{className:"text-xs text-gray-500 mb-2",children:r.matiere}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[f.jsx("span",{children:r.annee_academique}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("span",{className:"flex items-center space-x-0.5",children:[f.jsx(cd,{className:"text-[10px]"}),f.jsx("span",{children:r.nb_vues})]}),f.jsxs("span",{className:"flex items-center space-x-0.5",children:[f.jsx(eo,{className:"text-[10px]"}),f.jsx("span",{children:r.nb_telechargements})]})]})]})]},r.id))}),f.jsx("div",{className:"text-center mt-10",children:f.jsxs(Pe,{to:"/epreuves",className:"btn-primary inline-flex items-center space-x-2",children:[f.jsx(Fv,{}),f.jsx("span",{children:"Voir toutes les preuves"})]})})]})]})};var pp=n=>n.type==="checkbox",Mo=n=>n instanceof Date,zn=n=>n==null;const fC=n=>typeof n=="object";var St=n=>!zn(n)&&!Array.isArray(n)&&fC(n)&&!Mo(n),dL=n=>St(n)&&n.target?pp(n.target)?n.target.checked:n.target.value:n,hL=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,fL=(n,e)=>n.has(hL(e)),pL=n=>{const e=n.constructor&&n.constructor.prototype;return St(e)&&e.hasOwnProperty("isPrototypeOf")},fb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function It(n){let e;const t=Array.isArray(n),s=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(fb&&(n instanceof Blob||s))&&(t||St(n)))if(e=t?[]:Object.create(Object.getPrototypeOf(n)),!t&&!pL(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=It(n[r]));else return n;return e}var g0=n=>/^\w*$/.test(n),pt=n=>n===void 0,pb=n=>Array.isArray(n)?n.filter(Boolean):[],mb=n=>pb(n.replace(/["|']|\]/g,"").split(/\.|\[/)),te=(n,e,t)=>{if(!e||!St(n))return t;const s=(g0(e)?[e]:mb(e)).reduce((r,i)=>zn(r)?r:r[i],n);return pt(s)||s===n?pt(n[e])?t:n[e]:s},hr=n=>typeof n=="boolean",Ke=(n,e,t)=>{let s=-1;const r=g0(e)?[e]:mb(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let c=t;if(s!==a){const u=n[o];c=St(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;n[o]=c,n=n[o]}};const H2={BLUR:"blur",FOCUS_OUT:"focusout"},Zs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mL=ct.createContext(null);mL.displayName="HookFormContext";var gL=(n,e,t,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in n)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Zs.all&&(e._proxyFormState[a]=!s||Zs.all),n[a]}});return r};const yL=typeof window<"u"?ct.useLayoutEffect:ct.useEffect;var os=n=>typeof n=="string",vL=(n,e,t,s,r)=>os(n)?(s&&e.watch.add(n),te(t,n,r)):Array.isArray(n)?n.map(i=>(s&&e.watch.add(i),te(t,i))):(s&&(e.watchAll=!0),t),Ov=n=>zn(n)||!fC(n);function sa(n,e,t=new WeakSet){if(Ov(n)||Ov(e))return Object.is(n,e);if(Mo(n)&&Mo(e))return n.getTime()===e.getTime();const s=Object.keys(n),r=Object.keys(e);if(s.length!==r.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const i of s){const a=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Mo(a)&&Mo(o)||St(a)&&St(o)||Array.isArray(a)&&Array.isArray(o)?!sa(a,o,t):!Object.is(a,o))return!1}}return!0}var xL=(n,e,t,s,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[s]:r||!0}}:{},ch=n=>Array.isArray(n)?n:[n],B2=()=>{let n=[];return{get observers(){return n},next:r=>{for(const i of n)i.next&&i.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(i=>i!==r)}}),unsubscribe:()=>{n=[]}}};function pC(n,e){const t={};for(const s in n)if(n.hasOwnProperty(s)){const r=n[s],i=e[s];if(r&&St(r)&&i){const a=pC(r,i);St(a)&&(t[s]=a)}else n[s]&&(t[s]=i)}return t}var wn=n=>St(n)&&!Object.keys(n).length,gb=n=>n.type==="file",er=n=>typeof n=="function",xg=n=>{if(!fb)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mC=n=>n.type==="select-multiple",yb=n=>n.type==="radio",bL=n=>yb(n)||pp(n),cy=n=>xg(n)&&n.isConnected;function wL(n,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)n=pt(n)?s++:n[e[s++]];return n}function AL(n){for(const e in n)if(n.hasOwnProperty(e)&&!pt(n[e]))return!1;return!0}function bt(n,e){const t=Array.isArray(e)?e:g0(e)?[e]:mb(e),s=t.length===1?n:wL(n,t),r=t.length-1,i=t[r];return s&&delete s[i],r!==0&&(St(s)&&wn(s)||Array.isArray(s)&&AL(s))&&bt(n,t.slice(0,-1)),n}var SL=n=>{for(const e in n)if(er(n[e]))return!0;return!1};function gC(n){return Array.isArray(n)||St(n)&&!SL(n)}function Dv(n,e={}){for(const t in n){const s=n[t];gC(s)?(e[t]=Array.isArray(s)?[]:{},Dv(s,e[t])):pt(s)||(e[t]=!0)}return e}function hc(n,e,t){t||(t=Dv(e));for(const s in n){const r=n[s];if(gC(r))pt(e)||Ov(t[s])?t[s]=Dv(r,Array.isArray(r)?[]:{}):hc(r,zn(e)?{}:e[s],t[s]);else{const i=e[s];t[s]=!sa(r,i)}}return t}const U2={value:!1,isValid:!1},$2={value:!0,isValid:!0};var yC=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!pt(n[0].attributes.value)?pt(n[0].value)||n[0].value===""?$2:{value:n[0].value,isValid:!0}:$2:U2}return U2},vC=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>pt(n)?n:e?n===""?NaN:n&&+n:t&&os(n)?new Date(n):s?s(n):n;const V2={isValid:!1,value:null};var xC=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,V2):V2;function W2(n){const e=n.ref;return gb(e)?e.files:yb(e)?xC(n.refs).value:mC(e)?[...e.selectedOptions].map(({value:t})=>t):pp(e)?yC(n.refs).value:vC(pt(e.value)?n.ref.value:e.value,n)}var EL=(n,e,t,s)=>{const r={};for(const i of n){const a=te(e,i);a&&Ke(r,i,a._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:s}},bg=n=>n instanceof RegExp,Td=n=>pt(n)?n:bg(n)?n.source:St(n)?bg(n.value)?n.value.source:n.value:n,q2=n=>({isOnSubmit:!n||n===Zs.onSubmit,isOnBlur:n===Zs.onBlur,isOnChange:n===Zs.onChange,isOnAll:n===Zs.all,isOnTouch:n===Zs.onTouched});const G2="AsyncFunction";var _L=n=>!!n&&!!n.validate&&!!(er(n.validate)&&n.validate.constructor.name===G2||St(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===G2)),CL=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),X2=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(s=>n.startsWith(s)&&/^\.\w+/.test(n.slice(s.length))));const uh=(n,e,t,s)=>{for(const r of t||Object.keys(n)){const i=te(n,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(uh(o,e))break}else if(St(o)&&uh(o,e))break}}};function Y2(n,e,t){const s=te(n,t);if(s||g0(t))return{error:s,name:t};const r=t.split(".");for(;r.length;){const i=r.join("."),a=te(e,i),o=te(n,i);if(a&&!Array.isArray(a)&&t!==i)return{name:t};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:t}}var kL=(n,e,t,s)=>{t(n);const{name:r,...i}=n;return wn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||Zs.all))},TL=(n,e,t)=>!n||!e||n===e||ch(n).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),PL=(n,e,t,s,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?s.isOnBlur:r.isOnBlur)?!n:(t?s.isOnChange:r.isOnChange)?n:!0,RL=(n,e)=>!pb(te(n,e)).length&&bt(n,e),NL=(n,e,t)=>{const s=ch(te(n,t));return Ke(s,"root",e[t]),Ke(n,t,s),n};function K2(n,e,t="validate"){if(os(n)||Array.isArray(n)&&n.every(os)||hr(n)&&!n)return{type:t,message:os(n)?n:"",ref:e}}var uc=n=>St(n)&&!bg(n)?n:{value:n,message:""},Q2=async(n,e,t,s,r,i)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:g,validate:m,name:v,valueAsNumber:S,mount:x}=n._f,w=te(t,v);if(!x||e.has(v))return{};const y=o?o[0]:a,_=B=>{r&&y.reportValidity&&(y.setCustomValidity(hr(B)?"":B||""),y.reportValidity())},C={},k=yb(a),R=pp(a),N=k||R,O=(S||gb(a))&&pt(a.value)&&pt(w)||xg(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,j=xL.bind(null,v,s,C),I=(B,H,$,Z=Ur.maxLength,X=Ur.minLength)=>{const V=B?H:$;C[v]={type:B?Z:X,message:V,ref:a,...j(B?Z:X,V)}};if(i?!Array.isArray(w)||!w.length:c&&(!N&&(O||zn(w))||hr(w)&&!w||R&&!yC(o).isValid||k&&!xC(o).isValid)){const{value:B,message:H}=os(c)?{value:!!c,message:c}:uc(c);if(B&&(C[v]={type:Ur.required,message:H,ref:y,...j(Ur.required,H)},!s))return _(H),C}if(!O&&(!zn(h)||!zn(p))){let B,H;const $=uc(p),Z=uc(h);if(!zn(w)&&!isNaN(w)){const X=a.valueAsNumber||w&&+w;zn($.value)||(B=X>$.value),zn(Z.value)||(H=X<Z.value)}else{const X=a.valueAsDate||new Date(w),V=ee=>new Date(new Date().toDateString()+" "+ee),F=a.type=="time",Q=a.type=="week";os($.value)&&w&&(B=F?V(w)>V($.value):Q?w>$.value:X>new Date($.value)),os(Z.value)&&w&&(H=F?V(w)<V(Z.value):Q?w<Z.value:X<new Date(Z.value))}if((B||H)&&(I(!!B,$.message,Z.message,Ur.max,Ur.min),!s))return _(C[v].message),C}if((u||d)&&!O&&(os(w)||i&&Array.isArray(w))){const B=uc(u),H=uc(d),$=!zn(B.value)&&w.length>+B.value,Z=!zn(H.value)&&w.length<+H.value;if(($||Z)&&(I($,B.message,H.message),!s))return _(C[v].message),C}if(g&&!O&&os(w)){const{value:B,message:H}=uc(g);if(bg(B)&&!w.match(B)&&(C[v]={type:Ur.pattern,message:H,ref:a,...j(Ur.pattern,H)},!s))return _(H),C}if(m){if(er(m)){const B=await m(w,t),H=K2(B,y);if(H&&(C[v]={...H,...j(Ur.validate,H.message)},!s))return _(H.message),C}else if(St(m)){let B={};for(const H in m){if(!wn(B)&&!s)break;const $=K2(await m[H](w,t),y,H);$&&(B={...$,...j(H,$.message)},_($.message),s&&(C[v]=B))}if(!wn(B)&&(C[v]={ref:y,...B},!s))return C}}return _(!0),C};const ML={mode:Zs.onSubmit,reValidateMode:Zs.onChange,shouldFocusError:!0};function LL(n={}){let e={...ML,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:er(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=St(e.defaultValues)||St(e.values)?It(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:It(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:B2(),state:B2()},g=e.criteriaMode===Zs.all,m=T=>M=>{clearTimeout(u),u=setTimeout(T,M)},v=async T=>{if(!e.disabled&&(d.isValid||h.isValid||T)){const M=e.resolver?wn((await R()).errors):await O(s,!0);M!==t.isValid&&p.state.next({isValid:M})}},S=(T,M)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((T||Array.from(o.mount)).forEach(D=>{D&&(M?Ke(t.validatingFields,D,M):bt(t.validatingFields,D))}),p.state.next({validatingFields:t.validatingFields,isValidating:!wn(t.validatingFields)}))},x=(T,M=[],D,Y,W=!0,U=!0)=>{if(Y&&D&&!e.disabled){if(a.action=!0,U&&Array.isArray(te(s,T))){const se=D(te(s,T),Y.argA,Y.argB);W&&Ke(s,T,se)}if(U&&Array.isArray(te(t.errors,T))){const se=D(te(t.errors,T),Y.argA,Y.argB);W&&Ke(t.errors,T,se),RL(t.errors,T)}if((d.touchedFields||h.touchedFields)&&U&&Array.isArray(te(t.touchedFields,T))){const se=D(te(t.touchedFields,T),Y.argA,Y.argB);W&&Ke(t.touchedFields,T,se)}(d.dirtyFields||h.dirtyFields)&&(t.dirtyFields=hc(r,i)),p.state.next({name:T,isDirty:I(T,M),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Ke(i,T,M)},w=(T,M)=>{Ke(t.errors,T,M),p.state.next({errors:t.errors})},y=T=>{t.errors=T,p.state.next({errors:t.errors,isValid:!1})},_=(T,M,D,Y)=>{const W=te(s,T);if(W){const U=te(i,T,pt(D)?te(r,T):D);pt(U)||Y&&Y.defaultChecked||M?Ke(i,T,M?U:W2(W._f)):$(T,U),a.mount&&!a.action&&v()}},C=(T,M,D,Y,W)=>{let U=!1,se=!1;const be={name:T};if(!e.disabled){if(!D||Y){(d.isDirty||h.isDirty)&&(se=t.isDirty,t.isDirty=be.isDirty=I(),U=se!==be.isDirty);const ke=sa(te(r,T),M);se=!!te(t.dirtyFields,T),ke?bt(t.dirtyFields,T):Ke(t.dirtyFields,T,!0),be.dirtyFields=t.dirtyFields,U=U||(d.dirtyFields||h.dirtyFields)&&se!==!ke}if(D){const ke=te(t.touchedFields,T);ke||(Ke(t.touchedFields,T,D),be.touchedFields=t.touchedFields,U=U||(d.touchedFields||h.touchedFields)&&ke!==D)}U&&W&&p.state.next(be)}return U?be:{}},k=(T,M,D,Y)=>{const W=te(t.errors,T),U=(d.isValid||h.isValid)&&hr(M)&&t.isValid!==M;if(e.delayError&&D?(c=m(()=>w(T,D)),c(e.delayError)):(clearTimeout(u),c=null,D?Ke(t.errors,T,D):bt(t.errors,T)),(D?!sa(W,D):W)||!wn(Y)||U){const se={...Y,...U&&hr(M)?{isValid:M}:{},errors:t.errors,name:T};t={...t,...se},p.state.next(se)}},R=async T=>{S(T,!0);const M=await e.resolver(i,e.context,EL(T||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return S(T),M},N=async T=>{const{errors:M}=await R(T);if(T)for(const D of T){const Y=te(M,D);Y?Ke(t.errors,D,Y):bt(t.errors,D)}else t.errors=M;return M},O=async(T,M,D={valid:!0})=>{for(const Y in T){const W=T[Y];if(W){const{_f:U,...se}=W;if(U){const be=o.array.has(U.name),ke=W._f&&_L(W._f);ke&&d.validatingFields&&S([U.name],!0);const Gt=await Q2(W,o.disabled,i,g,e.shouldUseNativeValidation&&!M,be);if(ke&&d.validatingFields&&S([U.name]),Gt[U.name]&&(D.valid=!1,M))break;!M&&(te(Gt,U.name)?be?NL(t.errors,Gt,U.name):Ke(t.errors,U.name,Gt[U.name]):bt(t.errors,U.name))}!wn(se)&&await O(se,M,D)}}return D.valid},j=()=>{for(const T of o.unMount){const M=te(s,T);M&&(M._f.refs?M._f.refs.every(D=>!cy(D)):!cy(M._f.ref))&&me(T)}o.unMount=new Set},I=(T,M)=>!e.disabled&&(T&&M&&Ke(i,T,M),!sa(ee(),r)),B=(T,M,D)=>vL(T,o,{...a.mount?i:pt(M)?r:os(T)?{[T]:M}:M},D,M),H=T=>pb(te(a.mount?i:r,T,e.shouldUnregister?te(r,T,[]):[])),$=(T,M,D={})=>{const Y=te(s,T);let W=M;if(Y){const U=Y._f;U&&(!U.disabled&&Ke(i,T,vC(M,U)),W=xg(U.ref)&&zn(M)?"":M,mC(U.ref)?[...U.ref.options].forEach(se=>se.selected=W.includes(se.value)):U.refs?pp(U.ref)?U.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(W)?se.checked=!!W.find(be=>be===se.value):se.checked=W===se.value||!!W)}):U.refs.forEach(se=>se.checked=se.value===W):gb(U.ref)?U.ref.value="":(U.ref.value=W,U.ref.type||p.state.next({name:T,values:It(i)})))}(D.shouldDirty||D.shouldTouch)&&C(T,W,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&Q(T)},Z=(T,M,D)=>{for(const Y in M){if(!M.hasOwnProperty(Y))return;const W=M[Y],U=T+"."+Y,se=te(s,U);(o.array.has(T)||St(W)||se&&!se._f)&&!Mo(W)?Z(U,W,D):$(U,W,D)}},X=(T,M,D={})=>{const Y=te(s,T),W=o.array.has(T),U=It(M);Ke(i,T,U),W?(p.array.next({name:T,values:It(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&D.shouldDirty&&p.state.next({name:T,dirtyFields:hc(r,i),isDirty:I(T,U)})):Y&&!Y._f&&!zn(U)?Z(T,U,D):$(T,U,D),X2(T,o)&&p.state.next({...t,name:T}),p.state.next({name:a.mount?T:void 0,values:It(i)})},V=async T=>{a.mount=!0;const M=T.target;let D=M.name,Y=!0;const W=te(s,D),U=ke=>{Y=Number.isNaN(ke)||Mo(ke)&&isNaN(ke.getTime())||sa(ke,te(i,D,ke))},se=q2(e.mode),be=q2(e.reValidateMode);if(W){let ke,Gt;const Wi=M.type?W2(W._f):dL(T),qi=T.type===H2.BLUR||T.type===H2.FOCUS_OUT,qk=!CL(W._f)&&!e.resolver&&!te(t.errors,D)&&!W._f.deps||PL(qi,te(t.touchedFields,D),t.isSubmitted,be,se),R0=X2(D,o,qi);Ke(i,D,Wi),qi?(!M||!M.readOnly)&&(W._f.onBlur&&W._f.onBlur(T),c&&c(0)):W._f.onChange&&W._f.onChange(T);const N0=C(D,Wi,qi),Gk=!wn(N0)||R0;if(!qi&&p.state.next({name:D,type:T.type,values:It(i)}),qk)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?qi&&v():qi||v()),Gk&&p.state.next({name:D,...R0?{}:N0});if(!qi&&R0&&p.state.next({...t}),e.resolver){const{errors:Ob}=await R([D]);if(U(Wi),Y){const Xk=Y2(t.errors,s,D),Db=Y2(Ob,s,Xk.name||D);ke=Db.error,D=Db.name,Gt=wn(Ob)}}else S([D],!0),ke=(await Q2(W,o.disabled,i,g,e.shouldUseNativeValidation))[D],S([D]),U(Wi),Y&&(ke?Gt=!1:(d.isValid||h.isValid)&&(Gt=await O(s,!0)));Y&&(W._f.deps&&(!Array.isArray(W._f.deps)||W._f.deps.length>0)&&Q(W._f.deps),k(D,Gt,ke,N0))}},F=(T,M)=>{if(te(t.errors,M)&&T.focus)return T.focus(),1},Q=async(T,M={})=>{let D,Y;const W=ch(T);if(e.resolver){const U=await N(pt(T)?T:W);D=wn(U),Y=T?!W.some(se=>te(U,se)):D}else T?(Y=(await Promise.all(W.map(async U=>{const se=te(s,U);return await O(se&&se._f?{[U]:se}:se)}))).every(Boolean),!(!Y&&!t.isValid)&&v()):Y=D=await O(s);return p.state.next({...!os(T)||(d.isValid||h.isValid)&&D!==t.isValid?{}:{name:T},...e.resolver||!T?{isValid:D}:{},errors:t.errors}),M.shouldFocus&&!Y&&uh(s,F,T?W:o.mount),Y},ee=(T,M)=>{let D={...a.mount?i:r};return M&&(D=pC(M.dirtyFields?t.dirtyFields:t.touchedFields,D)),pt(T)?D:os(T)?te(D,T):T.map(Y=>te(D,Y))},ie=(T,M)=>({invalid:!!te((M||t).errors,T),isDirty:!!te((M||t).dirtyFields,T),error:te((M||t).errors,T),isValidating:!!te(t.validatingFields,T),isTouched:!!te((M||t).touchedFields,T)}),ae=T=>{T&&ch(T).forEach(M=>bt(t.errors,M)),p.state.next({errors:T?t.errors:{}})},ve=(T,M,D)=>{const Y=(te(s,T,{_f:{}})._f||{}).ref,W=te(t.errors,T)||{},{ref:U,message:se,type:be,...ke}=W;Ke(t.errors,T,{...ke,...M,ref:Y}),p.state.next({name:T,errors:t.errors,isValid:!1}),D&&D.shouldFocus&&Y&&Y.focus&&Y.focus()},Me=(T,M)=>er(T)?p.state.subscribe({next:D=>"values"in D&&T(B(void 0,M),D)}):B(T,M,!0),ht=T=>p.state.subscribe({next:M=>{TL(T.name,M.name,T.exact)&&kL(M,T.formState||d,Vi,T.reRenderRoot)&&T.callback({values:{...i},...t,...M,defaultValues:r})}}).unsubscribe,Ce=T=>(a.mount=!0,h={...h,...T.formState},ht({...T,formState:h})),me=(T,M={})=>{for(const D of T?ch(T):o.mount)o.mount.delete(D),o.array.delete(D),M.keepValue||(bt(s,D),bt(i,D)),!M.keepError&&bt(t.errors,D),!M.keepDirty&&bt(t.dirtyFields,D),!M.keepTouched&&bt(t.touchedFields,D),!M.keepIsValidating&&bt(t.validatingFields,D),!e.shouldUnregister&&!M.keepDefaultValue&&bt(r,D);p.state.next({values:It(i)}),p.state.next({...t,...M.keepDirty?{isDirty:I()}:{}}),!M.keepIsValid&&v()},Xn=({disabled:T,name:M})=>{(hr(T)&&a.mount||T||o.disabled.has(M))&&(T?o.disabled.add(M):o.disabled.delete(M))},gn=(T,M={})=>{let D=te(s,T);const Y=hr(M.disabled)||hr(e.disabled);return Ke(s,T,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:T}},name:T,mount:!0,...M}}),o.mount.add(T),D?Xn({disabled:hr(M.disabled)?M.disabled:e.disabled,name:T}):_(T,!0,M.value),{...Y?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Td(M.min),max:Td(M.max),minLength:Td(M.minLength),maxLength:Td(M.maxLength),pattern:Td(M.pattern)}:{},name:T,onChange:V,onBlur:V,ref:W=>{if(W){gn(T,M),D=te(s,T);const U=pt(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,se=bL(U),be=D._f.refs||[];if(se?be.find(ke=>ke===U):U===D._f.ref)return;Ke(s,T,{_f:{...D._f,...se?{refs:[...be.filter(cy),U,...Array.isArray(te(r,T))?[{}]:[]],ref:{type:U.type,name:T}}:{ref:U}}}),_(T,!1,void 0,U)}else D=te(s,T,{}),D._f&&(D._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(fL(o.array,T)&&a.action)&&o.unMount.add(T)}}},Ie=()=>e.shouldFocusError&&uh(s,F,o.mount),go=T=>{hr(T)&&(p.state.next({disabled:T}),uh(s,(M,D)=>{const Y=te(s,D);Y&&(M.disabled=Y._f.disabled||T,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(W=>{W.disabled=Y._f.disabled||T}))},0,!1))},$i=(T,M)=>async D=>{let Y;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let W=It(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:U,values:se}=await R();t.errors=U,W=It(se)}else await O(s);if(o.disabled.size)for(const U of o.disabled)bt(W,U);if(bt(t.errors,"root"),wn(t.errors)){p.state.next({errors:{}});try{await T(W,D)}catch(U){Y=U}}else M&&await M({...t.errors},D),Ie(),setTimeout(Ie);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(t.errors)&&!Y,submitCount:t.submitCount+1,errors:t.errors}),Y)throw Y},ze=(T,M={})=>{te(s,T)&&(pt(M.defaultValue)?X(T,It(te(r,T))):(X(T,M.defaultValue),Ke(r,T,It(M.defaultValue))),M.keepTouched||bt(t.touchedFields,T),M.keepDirty||(bt(t.dirtyFields,T),t.isDirty=M.defaultValue?I(T,It(te(r,T))):I()),M.keepError||(bt(t.errors,T),d.isValid&&v()),p.state.next({...t}))},Je=(T,M={})=>{const D=T?It(T):r,Y=It(D),W=wn(T),U=W?r:Y;if(M.keepDefaultValues||(r=D),!M.keepValues){if(M.keepDirtyValues){const se=new Set([...o.mount,...Object.keys(hc(r,i))]);for(const be of Array.from(se))te(t.dirtyFields,be)?Ke(U,be,te(i,be)):X(be,te(U,be))}else{if(fb&&pt(T))for(const se of o.mount){const be=te(s,se);if(be&&be._f){const ke=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(xg(ke)){const Gt=ke.closest("form");if(Gt){Gt.reset();break}}}}if(M.keepFieldsRef)for(const se of o.mount)X(se,te(U,se));else s={}}i=e.shouldUnregister?M.keepDefaultValues?It(r):{}:It(U),p.array.next({values:{...U}}),p.state.next({values:{...U}})}o={mount:M.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!e.shouldUnregister&&!wn(U),a.watch=!!e.shouldUnregister,a.action=!1,M.keepErrors||(t.errors={}),p.state.next({submitCount:M.keepSubmitCount?t.submitCount:0,isDirty:W?!1:M.keepDirty?t.isDirty:!!(M.keepDefaultValues&&!sa(T,r)),isSubmitted:M.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:W?{}:M.keepDirtyValues?M.keepDefaultValues&&i?hc(r,i):t.dirtyFields:M.keepDefaultValues&&T?hc(r,T):M.keepDirty?t.dirtyFields:{},touchedFields:M.keepTouched?t.touchedFields:{},errors:M.keepErrors?t.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},_t=(T,M)=>Je(er(T)?T(i):T,M),vt=(T,M={})=>{const D=te(s,T),Y=D&&D._f;if(Y){const W=Y.refs?Y.refs[0]:Y.ref;W.focus&&(W.focus(),M.shouldSelect&&er(W.select)&&W.select())}},Vi=T=>{t={...t,...T}},xp={control:{register:gn,unregister:me,getFieldState:ie,handleSubmit:$i,setError:ve,_subscribe:ht,_runSchema:R,_focusError:Ie,_getWatch:B,_getDirty:I,_setValid:v,_setFieldArray:x,_setDisabledField:Xn,_setErrors:y,_getFieldArray:H,_reset:Je,_resetDefaultValues:()=>er(e.defaultValues)&&e.defaultValues().then(T=>{_t(T,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:go,_subjects:p,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(T){a=T},get _defaultValues(){return r},get _names(){return o},set _names(T){o=T},get _formState(){return t},get _options(){return e},set _options(T){e={...e,...T}}},subscribe:Ce,trigger:Q,register:gn,handleSubmit:$i,watch:Me,setValue:X,getValues:ee,reset:_t,resetField:ze,clearErrors:ae,unregister:me,setError:ve,setFocus:vt,getFieldState:ie};return{...xp,formControl:xp}}function vb(n={}){const e=ct.useRef(void 0),t=ct.useRef(void 0),[s,r]=ct.useState({isDirty:!1,isValidating:!1,isLoading:er(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:er(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:s},n.defaultValues&&!er(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:a,...o}=LL(n);e.current={...o,formState:s}}const i=e.current.control;return i._options=n,yL(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ct.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),ct.useEffect(()=>{n.mode&&(i._options.mode=n.mode),n.reValidateMode&&(i._options.reValidateMode=n.reValidateMode)},[i,n.mode,n.reValidateMode]),ct.useEffect(()=>{n.errors&&(i._setErrors(n.errors),i._focusError())},[i,n.errors]),ct.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,n.shouldUnregister]),ct.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),ct.useEffect(()=>{var a;n.values&&!sa(n.values,t.current)?(i._reset(n.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),t.current=n.values,r(o=>({...o}))):i._resetDefaultValues()},[i,n.values]),ct.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=gL(s,i),e.current}const jL=()=>{const n=rc(),{login:e}=po(),[t,s]=P.useState(!1),{register:r,handleSubmit:i,formState:{errors:a}}=vb(),o=async c=>{s(!0);try{await e(c),n("/")}catch(u){console.error("Login error:",u)}finally{s(!1)}};return f.jsx("div",{className:"min-h-[70vh] flex items-center justify-center",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Hr,{className:"text-2xl text-white"})}),f.jsx("h1",{className:"text-3xl font-extrabold gradient-text",children:"Connexion"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Accdez  votre banque d'preuves"})]}),f.jsxs("div",{className:"card",children:[f.jsxs("form",{onSubmit:i(o),className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Nom d'utilisateur"}),f.jsxs("div",{className:"relative",children:[f.jsx(m0,{className:"absolute left-3.5 top-3.5 text-gray-400 text-sm"}),f.jsx("input",{type:"text",...r("username",{required:"Nom d'utilisateur requis"}),className:"input-field pl-10",placeholder:"etudiant1"})]}),a.username&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.username.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx(jv,{className:"absolute left-3.5 top-3.5 text-gray-400 text-sm"}),f.jsx("input",{type:"password",...r("password",{required:"Mot de passe requis",minLength:{value:6,message:"Minimum 6 caractres"}}),className:"input-field pl-10",placeholder:""})]}),a.password&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password.message})]}),f.jsx("button",{type:"submit",disabled:t,className:"w-full btn-primary py-3 text-base disabled:opacity-50",children:t?f.jsxs("span",{className:"inline-flex items-center space-x-2",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{children:"Connexion..."})]}):"Se connecter"})]}),f.jsx("div",{className:"mt-6 text-center text-sm",children:f.jsxs("p",{className:"text-gray-500",children:["Pas encore de compte ?"," ",f.jsx(Pe,{to:"/register",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"S'inscrire"})]})})]})]})})},FL=()=>{const n=rc(),{register:e}=po(),[t,s]=P.useState(!1),[r,i]=P.useState(!1),[a,o]=P.useState(!1),{register:c,handleSubmit:u,watch:d,formState:{errors:h}}=vb(),p=d("password"),g=async m=>{s(!0);try{await e(m),n("/")}catch(v){console.error("Register error:",v)}finally{s(!1)}};return f.jsx("div",{className:"min-h-[70vh] flex items-center justify-center py-8",children:f.jsxs("div",{className:"w-full max-w-lg",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx(QM,{className:"text-2xl text-white"})}),f.jsx("h1",{className:"text-3xl font-extrabold gradient-text",children:"Crer un compte"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Rejoignez la communaut IMSP"})]}),f.jsxs("div",{className:"card",children:[f.jsxs("form",{onSubmit:u(g),className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Prnom"}),f.jsx("input",{type:"text",...c("first_name",{required:"Prnom requis"}),className:"input-field",placeholder:"Jean"}),h.first_name&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.first_name.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Nom"}),f.jsx("input",{type:"text",...c("last_name",{required:"Nom requis"}),className:"input-field",placeholder:"Dupont"}),h.last_name&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.last_name.message})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Nom d'utilisateur"}),f.jsxs("div",{className:"relative",children:[f.jsx(m0,{className:"absolute left-3.5 top-3.5 text-gray-400 text-sm"}),f.jsx("input",{type:"text",...c("username",{required:"Nom d'utilisateur requis",minLength:{value:3,message:"Minimum 3 caractres"}}),className:"input-field pl-10",placeholder:"jean.dupont"})]}),h.username&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.username.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(dC,{className:"absolute left-3.5 top-3.5 text-gray-400 text-sm"}),f.jsx("input",{type:"email",...c("email",{required:"Email requis",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email invalide"}}),className:"input-field pl-10",placeholder:"jean@imsp.bj"})]}),h.email&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email.message})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Niveau"}),f.jsxs("select",{...c("niveau"),className:"input-field",children:[f.jsx("option",{value:"",children:"Slectionner"}),f.jsx("option",{value:"L1",children:"Licence 1"}),f.jsx("option",{value:"L2",children:"Licence 2"}),f.jsx("option",{value:"L3",children:"Licence 3"}),f.jsx("option",{value:"M1",children:"Master 1"}),f.jsx("option",{value:"M2",children:"Master 2"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Filire"}),f.jsxs("select",{...c("filiere"),className:"input-field",children:[f.jsx("option",{value:"",children:"Slectionner"}),f.jsx("option",{value:"MATH",children:"Mathmatiques"}),f.jsx("option",{value:"INFO",children:"Informatique"}),f.jsx("option",{value:"PHYSIQUE",children:"Physique"}),f.jsx("option",{value:"CHIMIE",children:"Chimie"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx(jv,{className:"absolute left-3.5 top-3.5 text-gray-400 text-sm"}),f.jsx("input",{type:r?"text":"password",...c("password",{required:"Mot de passe requis",minLength:{value:8,message:"Minimum 8 caractres"}}),className:"input-field pl-10 pr-10",placeholder:""}),f.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",tabIndex:-1,children:r?f.jsx(D2,{}):f.jsx(cd,{})})]}),h.password&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1.5",children:"Confirmer le mot de passe"}),f.jsxs("div",{className:"relative",children:[f.jsx(jv,{className:"absolute left-3.5 top-3.5 text-gray-400 text-sm"}),f.jsx("input",{type:a?"text":"password",...c("password_confirm",{required:"Confirmation requise",validate:m=>m===p||"Les mots de passe ne correspondent pas"}),className:"input-field pl-10 pr-10",placeholder:""}),f.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",tabIndex:-1,children:a?f.jsx(D2,{}):f.jsx(cd,{})})]}),h.password_confirm&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password_confirm.message})]}),f.jsx("button",{type:"submit",disabled:t,className:"w-full btn-primary py-3 text-base mt-2 disabled:opacity-50",children:t?f.jsxs("span",{className:"inline-flex items-center space-x-2",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{children:"Cration du compte..."})]}):"S'inscrire"})]}),f.jsx("div",{className:"mt-6 text-center text-sm",children:f.jsxs("p",{className:"text-gray-500",children:["Dj un compte ?"," ",f.jsx(Pe,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Se connecter"})]})})]})]})})},OL=()=>{const{user:n}=po(),{data:e}=Pi({queryKey:["recent-epreuves"],queryFn:()=>Bl.getEpreuves({page:1,ordering:"-created_at"})});return n?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-primary-100 flex items-center justify-center",children:f.jsx(m0,{className:"text-4xl text-primary-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:n.username}),f.jsx("p",{className:"text-gray-600",children:n.email})]})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Niveau"}),f.jsx("div",{className:"text-xl font-bold",children:n.niveau?DL(n.niveau):"Non dfini"})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Filire"}),f.jsx("div",{className:"text-xl font-bold",children:n.filiere?IL(n.filiere):"Non dfinie"})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Membre depuis"}),f.jsx("div",{className:"text-xl font-bold",children:new Date(n.date_joined||Date.now()).toLocaleDateString("fr-FR",{year:"numeric",month:"long"})})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Mes statistiques"}),f.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[f.jsx(Hr,{className:"text-3xl text-blue-600 mx-auto mb-2"}),f.jsx("div",{className:"text-2xl font-bold",children:"-"}),f.jsx("div",{className:"text-sm text-gray-600",children:"preuves consultes"})]}),f.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[f.jsx(eo,{className:"text-3xl text-green-600 mx-auto mb-2"}),f.jsx("div",{className:"text-2xl font-bold",children:"-"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Tlchargements"})]}),f.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[f.jsx(cd,{className:"text-3xl text-purple-600 mx-auto mb-2"}),f.jsx("div",{className:"text-2xl font-bold",children:"-"}),f.jsx("div",{className:"text-sm text-gray-600",children:"valuations donnes"})]}),f.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[f.jsx(Hr,{className:"text-3xl text-orange-600 mx-auto mb-2"}),f.jsx("div",{className:"text-2xl font-bold",children:"-"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Commentaires"})]})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"preuves disponibles"}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e==null?void 0:e.results.slice(0,6).map(t=>f.jsxs(Pe,{to:`/epreuves/${t.id}`,className:"card hover:shadow-lg transition-shadow",children:[f.jsx("h3",{className:"font-bold mb-2",children:t.titre}),f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.matiere}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[f.jsx("span",{children:t.niveau}),f.jsx("span",{children:t.annee_academique})]}),f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 mt-2",children:[f.jsxs("span",{children:[" ",t.nb_vues]}),f.jsxs("span",{children:[" ",t.nb_telechargements]})]})]},t.id))}),f.jsx("div",{className:"text-center mt-6",children:f.jsx(Pe,{to:"/epreuves",className:"btn-primary",children:"Voir toutes les preuves"})})]})]}):f.jsx("div",{className:"text-center py-12",children:"Chargement..."})};function DL(n){return{L1:"Licence 1",L2:"Licence 2",L3:"Licence 3",M1:"Master 1",M2:"Master 2"}[n]||n}function IL(n){return{MATH:"Mathmatiques",INFO:"Informatique",PHYSIQUE:"Physique",CHIMIE:"Chimie"}[n]||n}const zL=()=>{const[n,e]=P.useState(1),[t,s]=P.useState(""),[r,i]=P.useState({matiere:"",niveau:"",type_epreuve:"",annee_academique:"",ordering:"-created_at"}),{data:a,isLoading:o}=Pi({queryKey:["epreuves",n,t,r],queryFn:()=>Bl.getEpreuves({page:n,search:t,...Object.fromEntries(Object.entries(r).filter(([u,d])=>d!==""))})}),c=(u,d)=>{i(h=>({...h,[u]:d})),e(1)};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:"text-4xl font-bold",children:"Bibliothque d'preuves"}),f.jsx("div",{className:"card",children:f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-6 gap-4",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Fv,{className:"absolute left-3 top-3 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Rechercher...",value:t,onChange:u=>{s(u.target.value),e(1)},className:"input-field pl-10"})]})}),f.jsx("input",{type:"text",placeholder:"Matire...",value:r.matiere,onChange:u=>c("matiere",u.target.value),className:"input-field"}),f.jsxs("select",{value:r.niveau,onChange:u=>c("niveau",u.target.value),className:"input-field",children:[f.jsx("option",{value:"",children:"Tous les niveaux"}),f.jsx("option",{value:"L1",children:"Licence 1"}),f.jsx("option",{value:"L2",children:"Licence 2"}),f.jsx("option",{value:"L3",children:"Licence 3"}),f.jsx("option",{value:"M1",children:"Master 1"}),f.jsx("option",{value:"M2",children:"Master 2"})]}),f.jsxs("select",{value:r.type_epreuve,onChange:u=>c("type_epreuve",u.target.value),className:"input-field",children:[f.jsx("option",{value:"",children:"Tous les types"}),f.jsx("option",{value:"PARTIEL",children:"Partiel"}),f.jsx("option",{value:"EXAMEN",children:"Examen"}),f.jsx("option",{value:"TD",children:"TD"}),f.jsx("option",{value:"RATTRAPAGE",children:"Rattrapage"}),f.jsx("option",{value:"CC",children:"Contrle Continu"})]}),f.jsxs("select",{value:r.ordering,onChange:u=>c("ordering",u.target.value),className:"input-field",children:[f.jsx("option",{value:"-created_at",children:"Plus rcents"}),f.jsx("option",{value:"created_at",children:"Plus anciens"}),f.jsx("option",{value:"-nb_vues",children:"Plus vus"}),f.jsx("option",{value:"-nb_telechargements",children:"Plus tlchargs"})]})]})}),o?f.jsx("div",{className:"text-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"})}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("p",{className:"text-gray-600",children:[(a==null?void 0:a.count)||0," preuve(s) trouve(s)"]})}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a==null?void 0:a.results.map(u=>f.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[f.jsx(Pe,{to:`/epreuves/${u.id}`,children:f.jsx("h3",{className:"font-bold text-lg mb-2 hover:text-primary-600",children:u.titre})}),f.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:u.description}),f.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-2",children:[f.jsx("span",{className:"font-semibold",children:u.matiere}),f.jsx("span",{children:u.type_epreuve})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[f.jsx("span",{children:u.niveau}),f.jsx("span",{children:u.annee_academique})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[f.jsxs("span",{children:[" ",u.nb_vues]}),f.jsxs("span",{children:[" ",u.nb_telechargements]})]}),f.jsx(Pe,{to:`/epreuves/${u.id}`,className:"text-primary-600 hover:text-primary-700 text-sm font-semibold",children:"Voir dtails"})]})]},u.id))}),a&&a.count>10&&f.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[f.jsx("button",{onClick:()=>e(u=>Math.max(1,u-1)),disabled:!a.previous,className:"btn-secondary disabled:opacity-50",children:"Prcdent"}),f.jsxs("span",{className:"text-gray-600",children:["Page ",n," sur ",Math.ceil(a.count/10)]}),f.jsx("button",{onClick:()=>e(u=>u+1),disabled:!a.next,className:"btn-secondary disabled:opacity-50",children:"Suivant"})]})]})]})},J2={getCommentaires:async n=>{try{const e=await Ee.get("/commentaires/",{params:{epreuve:n}});return Array.isArray(e.data)?e.data:e.data&&typeof e.data=="object"&&"results"in e.data?e.data.results||[]:[]}catch(e){return console.error("Error fetching commentaires:",e),[]}},createCommentaire:async(n,e)=>(await Ee.post("/commentaires/",{...e,epreuve:n})).data,updateCommentaire:async(n,e)=>(await Ee.patch(`/commentaires/${n}/`,{contenu:e})).data,deleteCommentaire:async n=>{await Ee.delete(`/commentaires/${n}/`)}},HL={createOrUpdateEvaluation:async(n,e)=>(await Ee.post("/evaluations/",{...e,epreuve:n})).data,getUserEvaluation:async n=>{try{const e=await Ee.get("/evaluations/",{params:{epreuve:n}});return e.data.length>0?e.data[0]:null}catch{return null}},getEvaluationStats:async n=>{try{return(await Ee.get("/evaluations/",{params:{epreuve:n}})).data}catch{return{count:0,avg_difficulte:0,avg_pertinence:0}}}},bC=6048e5,BL=864e5,Z2=Symbol.for("constructDateFrom");function so(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Z2 in n?n[Z2](e):n instanceof Date?new n.constructor(e):new Date(e)}function ar(n,e){return so(e||n,n)}let UL={};function y0(){return UL}function jh(n,e){var o,c,u,d;const t=y0(),s=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=ar(n,e==null?void 0:e.in),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function wg(n,e){return jh(n,{...e,weekStartsOn:1})}function wC(n,e){const t=ar(n,e==null?void 0:e.in),s=t.getFullYear(),r=so(t,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=wg(r),a=so(t,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const o=wg(a);return t.getTime()>=i.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function eA(n){const e=ar(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function $L(n,...e){const t=so.bind(null,e.find(s=>typeof s=="object"));return e.map(t)}function tA(n,e){const t=ar(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function VL(n,e,t){const[s,r]=$L(t==null?void 0:t.in,n,e),i=tA(s),a=tA(r),o=+i-eA(i),c=+a-eA(a);return Math.round((o-c)/BL)}function WL(n,e){const t=wC(n,e),s=so(n,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),wg(s)}function qL(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function GL(n){return!(!qL(n)&&typeof n!="number"||isNaN(+ar(n)))}function XL(n,e){const t=ar(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const YL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KL=(n,e,t)=>{let s;const r=YL[n];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Hc(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const QL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ej={date:Hc({formats:QL,defaultWidth:"full"}),time:Hc({formats:JL,defaultWidth:"full"}),dateTime:Hc({formats:ZL,defaultWidth:"full"})},tj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nj=(n,e,t,s)=>tj[n];function Fr(n){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let r;if(s==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;r=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;r=n.values[o]||n.values[a]}const i=n.argumentCallback?n.argumentCallback(e):e;return r[i]}}const sj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ij={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cj=(n,e)=>{const t=Number(n),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},uj={ordinalNumber:cj,era:Fr({values:sj,defaultWidth:"wide"}),quarter:Fr({values:rj,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Fr({values:ij,defaultWidth:"wide"}),day:Fr({values:aj,defaultWidth:"wide"}),dayPeriod:Fr({values:oj,defaultWidth:"wide",formattingValues:lj,defaultFormattingWidth:"wide"})};function Or(n){return(e,t={})=>{const s=t.width,r=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],i=e.match(r);if(!i)return null;const a=i[0],o=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(o)?hj(o,h=>h.test(a)):dj(o,h=>h.test(a));let u;u=n.valueCallback?n.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function dj(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function hj(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function AC(n){return(e,t={})=>{const s=e.match(n.matchPattern);if(!s)return null;const r=s[0],i=e.match(n.parsePattern);if(!i)return null;let a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const fj=/^(\d+)(th|st|nd|rd)?/i,pj=/\d+/i,mj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gj={any:[/^b/i,/^(a|c)/i]},yj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vj={any:[/1/i,/2/i,/3/i,/4/i]},xj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Aj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ej={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_j={ordinalNumber:AC({matchPattern:fj,parsePattern:pj,valueCallback:n=>parseInt(n,10)}),era:Or({matchPatterns:mj,defaultMatchWidth:"wide",parsePatterns:gj,defaultParseWidth:"any"}),quarter:Or({matchPatterns:yj,defaultMatchWidth:"wide",parsePatterns:vj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Or({matchPatterns:xj,defaultMatchWidth:"wide",parsePatterns:bj,defaultParseWidth:"any"}),day:Or({matchPatterns:wj,defaultMatchWidth:"wide",parsePatterns:Aj,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:Sj,defaultMatchWidth:"any",parsePatterns:Ej,defaultParseWidth:"any"})},Cj={code:"en-US",formatDistance:KL,formatLong:ej,formatRelative:nj,localize:uj,match:_j,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kj(n,e){const t=ar(n,e==null?void 0:e.in);return VL(t,XL(t))+1}function Tj(n,e){const t=ar(n,e==null?void 0:e.in),s=+wg(t)-+WL(t);return Math.round(s/bC)+1}function SC(n,e){var d,h,p,g;const t=ar(n,e==null?void 0:e.in),s=t.getFullYear(),r=y0(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=so((e==null?void 0:e.in)||n,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const o=jh(a,e),c=so((e==null?void 0:e.in)||n,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=jh(c,e);return+t>=+o?s+1:+t>=+u?s:s-1}function Pj(n,e){var o,c,u,d;const t=y0(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=SC(n,e),i=so((e==null?void 0:e.in)||n,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),jh(i,e)}function Rj(n,e){const t=ar(n,e==null?void 0:e.in),s=+jh(t,e)-+Pj(t,e);return Math.round(s/bC)+1}function Fe(n,e){const t=n<0?"-":"",s=Math.abs(n).toString().padStart(e,"0");return t+s}const Xi={y(n,e){const t=n.getFullYear(),s=t>0?t:1-t;return Fe(e==="yy"?s%100:s,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Fe(t+1,2)},d(n,e){return Fe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Fe(n.getHours()%12||12,e.length)},H(n,e){return Fe(n.getHours(),e.length)},m(n,e){return Fe(n.getMinutes(),e.length)},s(n,e){return Fe(n.getSeconds(),e.length)},S(n,e){const t=e.length,s=n.getMilliseconds(),r=Math.trunc(s*Math.pow(10,t-3));return Fe(r,e.length)}},dc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nA={G:function(n,e,t){const s=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const s=n.getFullYear(),r=s>0?s:1-s;return t.ordinalNumber(r,{unit:"year"})}return Xi.y(n,e)},Y:function(n,e,t,s){const r=SC(n,s),i=r>0?r:1-r;if(e==="YY"){const a=i%100;return Fe(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):Fe(i,e.length)},R:function(n,e){const t=wC(n);return Fe(t,e.length)},u:function(n,e){const t=n.getFullYear();return Fe(t,e.length)},Q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Fe(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Fe(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,e,t){const s=n.getMonth();switch(e){case"M":case"MM":return Xi.M(n,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(n,e,t){const s=n.getMonth();switch(e){case"L":return String(s+1);case"LL":return Fe(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(n,e,t,s){const r=Rj(n,s);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},I:function(n,e,t){const s=Tj(n);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Xi.d(n,e)},D:function(n,e,t){const s=kj(n);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):Fe(s,e.length)},E:function(n,e,t){const s=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(n,e,t,s){const r=n.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,s){const r=n.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fe(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){const s=n.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return Fe(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(n,e,t){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){const s=n.getHours();let r;switch(s===12?r=dc.noon:s===0?r=dc.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){const s=n.getHours();let r;switch(s>=17?r=dc.evening:s>=12?r=dc.afternoon:s>=4?r=dc.morning:r=dc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let s=n.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Xi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Xi.H(n,e)},K:function(n,e,t){const s=n.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):Fe(s,e.length)},k:function(n,e,t){let s=n.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):Fe(s,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Xi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Xi.s(n,e)},S:function(n,e){return Xi.S(n,e)},X:function(n,e,t){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return rA(s);case"XXXX":case"XX":return bo(s);case"XXXXX":case"XXX":default:return bo(s,":")}},x:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"x":return rA(s);case"xxxx":case"xx":return bo(s);case"xxxxx":case"xxx":default:return bo(s,":")}},O:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sA(s,":");case"OOOO":default:return"GMT"+bo(s,":")}},z:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sA(s,":");case"zzzz":default:return"GMT"+bo(s,":")}},t:function(n,e,t){const s=Math.trunc(+n/1e3);return Fe(s,e.length)},T:function(n,e,t){return Fe(+n,e.length)}};function sA(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),r=Math.trunc(s/60),i=s%60;return i===0?t+String(r):t+String(r)+e+Fe(i,2)}function rA(n,e){return n%60===0?(n>0?"-":"+")+Fe(Math.abs(n)/60,2):bo(n,e)}function bo(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),r=Fe(Math.trunc(s/60),2),i=Fe(s%60,2);return t+r+e+i}const iA=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Nj=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],s=t[1],r=t[2];if(!r)return iA(n,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",iA(s,e)).replace("{{time}}",EC(r,e))},Mj={p:EC,P:Nj},Lj=/^D+$/,jj=/^Y+$/,Fj=["D","DD","YY","YYYY"];function Oj(n){return Lj.test(n)}function Dj(n){return jj.test(n)}function Ij(n,e,t){const s=zj(n,e,t);if(console.warn(s),Fj.includes(n))throw new RangeError(s)}function zj(n,e,t){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uj=/^'([^]*?)'?$/,$j=/''/g,Vj=/[a-zA-Z]/;function Wj(n,e,t){var d,h,p,g,m,v,S,x;const s=y0(),r=(t==null?void 0:t.locale)??s.locale??Cj,i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((x=(S=s.locale)==null?void 0:S.options)==null?void 0:x.weekStartsOn)??0,o=ar(n,t==null?void 0:t.in);if(!GL(o))throw new RangeError("Invalid time value");let c=e.match(Bj).map(w=>{const y=w[0];if(y==="p"||y==="P"){const _=Mj[y];return _(w,r.formatLong)}return w}).join("").match(Hj).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:qj(w)};if(nA[y])return{isToken:!0,value:w};if(y.match(Vj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});r.localize.preprocessor&&(c=r.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return c.map(w=>{if(!w.isToken)return w.value;const y=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Dj(y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Oj(y))&&Ij(y,e,String(n));const _=nA[y[0]];return _(o,y,r.localize,u)}).join("")}function qj(n){const e=n.match(Uj);return e?e[1].replace($j,"'"):n}const Gj={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},Xj=(n,e,t)=>{let s;const r=Gj[n];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dans "+s:"il y a "+s:s},Yj={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Kj={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Qj={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jj={date:Hc({formats:Yj,defaultWidth:"full"}),time:Hc({formats:Kj,defaultWidth:"full"}),dateTime:Hc({formats:Qj,defaultWidth:"full"})},Zj={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},eF=(n,e,t,s)=>Zj[n],tF={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},nF={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},sF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},rF={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},iF={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},aF=(n,e)=>{const t=Number(n),s=e==null?void 0:e.unit;if(t===0)return"0";const r=["year","week","hour","minute","second"];let i;return t===1?i=s&&r.includes(s)?"re":"er":i="me",t+i},oF=["MMM","MMMM"],lF={preprocessor:(n,e)=>n.getDate()===1||!e.some(s=>s.isToken&&oF.includes(s.value))?e:e.map(s=>s.isToken&&s.value==="do"?{isToken:!0,value:"d"}:s),ordinalNumber:aF,era:Fr({values:tF,defaultWidth:"wide"}),quarter:Fr({values:nF,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Fr({values:sF,defaultWidth:"wide"}),day:Fr({values:rF,defaultWidth:"wide"}),dayPeriod:Fr({values:iF,defaultWidth:"wide"})},cF=/^(\d+)(ime|re|me|er|e)?/i,uF=/\d+/i,dF={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},hF={any:[/^av/i,/^ap/i]},fF={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},pF={any:[/1/i,/2/i,/3/i,/4/i]},mF={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},gF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},yF={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},vF={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},xF={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},bF={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},wF={ordinalNumber:AC({matchPattern:cF,parsePattern:uF,valueCallback:n=>parseInt(n)}),era:Or({matchPatterns:dF,defaultMatchWidth:"wide",parsePatterns:hF,defaultParseWidth:"any"}),quarter:Or({matchPatterns:fF,defaultMatchWidth:"wide",parsePatterns:pF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Or({matchPatterns:mF,defaultMatchWidth:"wide",parsePatterns:gF,defaultParseWidth:"any"}),day:Or({matchPatterns:yF,defaultMatchWidth:"wide",parsePatterns:vF,defaultParseWidth:"any"}),dayPeriod:Or({matchPatterns:xF,defaultMatchWidth:"any",parsePatterns:bF,defaultParseWidth:"any"})},AF={code:"fr",formatDistance:Xj,formatLong:Jj,formatRelative:eF,localize:lF,match:wF,options:{weekStartsOn:1,firstWeekContainsDate:4}},SF="modulepreload",EF=function(n){return"/"+n},aA={},Bp=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(t.map(c=>{if(c=EF(c),c in aA)return;aA[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":SF,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var dh={};dh.d=(n,e)=>{for(var t in e)dh.o(e,t)&&!dh.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};dh.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ce=globalThis.pdfjsLib={};dh.d(ce,{AbortException:()=>ac,AnnotationEditorLayer:()=>Y1,AnnotationEditorParamsType:()=>le,AnnotationEditorType:()=>he,AnnotationEditorUIManager:()=>Ql,AnnotationLayer:()=>AO,AnnotationMode:()=>ra,ColorPicker:()=>_g,DOMSVGFactory:()=>Rb,DrawLayer:()=>Z1,FeatureTest:()=>Cn,GlobalWorkerOptions:()=>_i,ImageKind:()=>dm,InvalidPDFException:()=>CC,MissingPDFException:()=>ic,OPS:()=>Fs,OutputScale:()=>Uv,PDFDataRangeTransport:()=>A4,PDFDateString:()=>Sb,PDFWorker:()=>Uc,PasswordResponses:()=>TF,PermissionFlag:()=>kF,PixelsPerInch:()=>ro,RenderingCancelledException:()=>wb,TextLayer:()=>g1,UnexpectedResponseException:()=>w0,Util:()=>ne,VerbosityLevel:()=>v0,XfaLayer:()=>E4,build:()=>nO,createValidAbsoluteUrl:()=>MF,fetchData:()=>S0,getDocument:()=>G5,getFilenameFromUrl:()=>BF,getPdfFilenameFromUrl:()=>UF,getXfaPageViewport:()=>$F,isDataScheme:()=>E0,isPdfFile:()=>Ab,noContextMenu:()=>Ns,normalizeUnicode:()=>IF,setLayerDimensions:()=>Kl,shadow:()=>Se,version:()=>tO});const pn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),_C=[1,0,0,1,0,0],Iv=[.001,0,0,.001,0,0],_F=1e7,uy=1.35,rs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ra={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},CF="pdfjs_internal_editor_",he={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},kF={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},rn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},dm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ct={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Pd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v0={ERRORS:0,WARNINGS:1,INFOS:5},Fs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},TF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let x0=v0.WARNINGS;function PF(n){Number.isInteger(n)&&(x0=n)}function RF(){return x0}function b0(n){x0>=v0.INFOS&&console.log(`Info: ${n}`)}function ge(n){x0>=v0.WARNINGS&&console.log(`Warning: ${n}`)}function Ge(n){throw new Error(n)}function Lt(n,e){n||Ge(e)}function NF(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function MF(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=DF(n)}catch{}}const s=e?new URL(n,e):new URL(n);if(NF(s))return s}catch{}return null}function Se(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const mo=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class zv extends mo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Hv extends mo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class CC extends mo{constructor(e){super(e,"InvalidPDFException")}}class ic extends mo{constructor(e){super(e,"MissingPDFException")}}class w0 extends mo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class LF extends mo{constructor(e){super(e,"FormatError")}}class ac extends mo{constructor(e){super(e,"AbortException")}}function kC(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ge("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),a=n.subarray(r,i);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function A0(n){typeof n!="string"&&Ge("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function jF(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function xb(n){const e=Object.create(null);for(const[t,s]of n)e[t]=s;return e}function FF(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function OF(){try{return new Function(""),!0}catch{return!1}}class Cn{static get isLittleEndian(){return Se(this,"isLittleEndian",FF())}static get isEvalSupported(){return Se(this,"isEvalSupported",OF())}static get isOffscreenCanvasSupported(){return Se(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Se(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Se(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Se(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const dy=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Mi,hm,Bv;class ne{static makeHexColor(e,t,s){return`#${dy[e]}${dy[t]}${dy[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[s,r]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[r,i]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],r[0],i[0],a[0]),Math.min(s[1],r[1],i[1],a[1]),Math.max(s[0],r[0],i[0],a[0]),Math.max(s[1],r[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(s+a)/2,c=Math.sqrt((s+a)**2-4*(s*a-i*r))/2,u=o+c||1,d=o-c||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[s,i,r,a]}static bezierBoundingBox(e,t,s,r,i,a,o,c,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],A(this,Mi,Bv).call(this,e,s,i,o,t,r,a,c,3*(-e+3*(s-i)+o),6*(e-2*s+i),3*(s-e),u),A(this,Mi,Bv).call(this,e,s,i,o,t,r,a,c,3*(-t+3*(r-a)+c),6*(t-2*r+a),3*(r-t),u),u}}Mi=new WeakSet,hm=function(e,t,s,r,i,a,o,c,u,d){if(u<=0||u>=1)return;const h=1-u,p=u*u,g=p*u,m=h*(h*(h*e+3*u*t)+3*p*s)+g*r,v=h*(h*(h*i+3*u*a)+3*p*o)+g*c;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],v)},Bv=function(e,t,s,r,i,a,o,c,u,d,h,p){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&A(this,Mi,hm).call(this,e,t,s,r,i,a,o,c,-h/d,p);return}const g=d**2-4*h*u;if(g<0)return;const m=Math.sqrt(g),v=2*u;A(this,Mi,hm).call(this,e,t,s,r,i,a,o,c,(-d+m)/v,p),A(this,Mi,hm).call(this,e,t,s,r,i,a,o,c,(-d-m)/v,p)},E(ne,Mi);function DF(n){return decodeURIComponent(escape(n))}let hy=null,oA=null;function IF(n){return hy||(hy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oA=new Map([["","t"]])),n.replaceAll(hy,(e,t,s)=>t?t.normalize("NFKC"):oA.get(s))}function zF(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return kC(n)}const bb="pdfjs_internal_id_",$r={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function HF(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(kC(n))}const qr="http://www.w3.org/2000/svg",_o=class _o{};oe(_o,"CSS",96),oe(_o,"PDF",72),oe(_o,"PDF_TO_CSS_UNITS",_o.CSS/_o.PDF);let ro=_o;async function S0(n,e="text"){if(Id(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class mp{constructor({viewBox:e,scale:t,rotation:s,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=r,this.offsetY=i;const o=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,p;switch(s%=360,s<0&&(s+=360),s){case 180:u=-1,d=0,h=0,p=1;break;case 90:u=0,d=1,h=1,p=0;break;case 270:u=0,d=-1,h=-1,p=0;break;case 0:u=1,d=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,p=-p);let g,m,v,S;u===0?(g=Math.abs(c-e[1])*t+r,m=Math.abs(o-e[0])*t+i,v=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(g=Math.abs(o-e[0])*t+r,m=Math.abs(c-e[1])*t+i,v=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,p*t,g-u*t*o-h*t*c,m-d*t*o-p*t*c],this.width=v,this.height=S}get rawDims(){const{viewBox:e}=this;return Se(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new mp({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return ne.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ne.applyTransform([e[0],e[1]],this.transform),s=ne.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return ne.applyInverseTransform([e,t],this.transform)}}class wb extends mo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function E0(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Ab(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function BF(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function UF(n,e="document.pdf"){if(typeof n!="string")return e;if(E0(n))return ge('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let i=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=s.exec(decodeURIComponent(i))[0]}catch{}return i||e}class lA{constructor(){oe(this,"started",Object.create(null));oe(this,"times",[])}time(e){e in this.started&&ge(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ge(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:i}of this.times)e.push(`${s.padEnd(t)} ${i-r}ms
`);return e.join("")}}function Id(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Ns(n){n.preventDefault()}function cA(n){console.log("Deprecated API usage: "+n)}var Bh;class Sb{static toDateObject(e){if(!e||typeof e!="string")return null;l(this,Bh)||b(this,Bh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,Bh).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(s,r,i,a,o,c))}}Bh=new WeakMap,E(Sb,Bh);function $F(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,i=[0,0,parseInt(s),parseInt(r)];return new mp({viewBox:i,scale:e,rotation:t})}function Eb(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ge(`Not a valid color format: "${n}"`),[0,0,0])}function VF(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Eb(s))}e.remove()}function nt(n){const{a:e,b:t,c:s,d:r,e:i,f:a}=n.getTransform();return[e,t,s,r,i,a]}function Vr(n){const{a:e,b:t,c:s,d:r,e:i,f:a}=n.getTransform().invertSelf();return[e,t,s,r,i,a]}function Kl(n,e,t=!1,s=!0){if(e instanceof mp){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:a}=n,o=Cn.isCSSRoundSupported,c=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${i}px`,d=o?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,h=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class Uv{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var pa,Uo,Is,$o,Uh,$h,kg,TC,kn,PC,RC,fm,NC,Vv;const Xr=class Xr{constructor(e){E(this,kn);E(this,pa,null);E(this,Uo,null);E(this,Is);E(this,$o,null);E(this,Uh,null);b(this,Is,e),l(Xr,$h)||b(Xr,$h,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,pa,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,Is)._uiManager._signal;e.addEventListener("contextmenu",Ns,{signal:t}),e.addEventListener("pointerdown",A(Xr,kg,TC),{signal:t});const s=b(this,$o,document.createElement("div"));s.className="buttons",e.append(s);const r=l(this,Is).toolbarPosition;if(r){const{style:i}=e,a=l(this,Is)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,kn,NC).call(this),e}get div(){return l(this,pa)}hide(){var e;l(this,pa).classList.add("hidden"),(e=l(this,Uo))==null||e.hideDropdown()}show(){var e;l(this,pa).classList.remove("hidden"),(e=l(this,Uh))==null||e.shown()}async addAltText(e){const t=await e.render();A(this,kn,fm).call(this,t),l(this,$o).prepend(t,l(this,kn,Vv)),b(this,Uh,e)}addColorPicker(e){b(this,Uo,e);const t=e.renderButton();A(this,kn,fm).call(this,t),l(this,$o).prepend(t,l(this,kn,Vv))}remove(){var e;l(this,pa).remove(),(e=l(this,Uo))==null||e.destroy(),b(this,Uo,null)}};pa=new WeakMap,Uo=new WeakMap,Is=new WeakMap,$o=new WeakMap,Uh=new WeakMap,$h=new WeakMap,kg=new WeakSet,TC=function(e){e.stopPropagation()},kn=new WeakSet,PC=function(e){l(this,Is)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},RC=function(e){l(this,Is)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},fm=function(e){const t=l(this,Is)._uiManager._signal;e.addEventListener("focusin",A(this,kn,PC).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,kn,RC).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ns,{signal:t})},NC=function(){const{editorType:e,_uiManager:t}=l(this,Is),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",l(Xr,$h)[e]),A(this,kn,fm).call(this,s),s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),l(this,$o).append(s)},Vv=function(){const e=document.createElement("div");return e.className="divider",e},E(Xr,kg),E(Xr,$h,null);let $v=Xr;var Vh,Vo,Wo,ao,MC,LC,jC;class WF{constructor(e){E(this,ao);E(this,Vh,null);E(this,Vo,null);E(this,Wo);b(this,Wo,e)}show(e,t,s){const[r,i]=A(this,ao,LC).call(this,t,s),{style:a}=l(this,Vo)||b(this,Vo,A(this,ao,MC).call(this));e.append(l(this,Vo)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Vo).remove()}}Vh=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,ao=new WeakSet,MC=function(){const e=b(this,Vo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ns,{signal:l(this,Wo)._signal});const t=b(this,Vh,document.createElement("div"));return t.className="buttons",e.append(t),A(this,ao,jC).call(this),e},LC=function(e,t){let s=0,r=0;for(const i of e){const a=i.y+i.height;if(a<s)continue;const o=i.x+(t?i.width:0);if(a>s){r=o,s=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,s]},jC=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=l(this,Wo)._signal;e.addEventListener("contextmenu",Ns,{signal:s}),e.addEventListener("click",()=>{l(this,Wo).highlightSelection("floating_button")},{signal:s}),l(this,Vh).append(e)};function Ag(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}function qF(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Tg;class GF{constructor(){E(this,Tg,0)}get id(){return`${CF}${Ot(this,Tg)._++}`}}Tg=new WeakMap;var su,Wh,on,ru,pm;const Lb=class Lb{constructor(){E(this,ru);E(this,su,zF());E(this,Wh,0);E(this,on,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Se(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:i}=e;return A(this,ru,pm).call(this,`${t}_${s}_${r}_${i}`,e)}async getFromUrl(e){return A(this,ru,pm).call(this,e,e)}async getFromBlob(e,t){const s=await t;return A(this,ru,pm).call(this,e,s)}async getFromId(e){l(this,on)||b(this,on,new Map);const t=l(this,on).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,on)||b(this,on,new Map);let s=l(this,on).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${l(this,su)}_${Ot(this,Wh)._++}`,refCounter:1,isSvg:!1},l(this,on).set(e,s),l(this,on).set(s.id,s),s}getSvgUrl(e){const t=l(this,on).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;l(this,on)||b(this,on,new Map);const t=l(this,on).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,su)}_`)}};su=new WeakMap,Wh=new WeakMap,on=new WeakMap,ru=new WeakSet,pm=async function(e,t){l(this,on)||b(this,on,new Map);let s=l(this,on).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${l(this,su)}_${Ot(this,Wh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await S0(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=Lb._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((u,d)=>{o.onload=()=>{s.bitmap=o,s.isSvg=!0,u()},a.onload=async()=>{const h=s.svgUrl=a.result;o.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await c}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return l(this,on).set(e,s),s&&l(this,on).set(s.id,s),s};let Wv=Lb;var Ht,ma,qh,Bt;class XF{constructor(e=128){E(this,Ht,[]);E(this,ma,!1);E(this,qh);E(this,Bt,-1);b(this,qh,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),l(this,ma))return;const c={cmd:e,undo:t,post:s,type:i};if(l(this,Bt)===-1){l(this,Ht).length>0&&(l(this,Ht).length=0),b(this,Bt,0),l(this,Ht).push(c);return}if(a&&l(this,Ht)[l(this,Bt)].type===i){o&&(c.undo=l(this,Ht)[l(this,Bt)].undo),l(this,Ht)[l(this,Bt)]=c;return}const u=l(this,Bt)+1;u===l(this,qh)?l(this,Ht).splice(0,1):(b(this,Bt,u),u<l(this,Ht).length&&l(this,Ht).splice(u)),l(this,Ht).push(c)}undo(){if(l(this,Bt)===-1)return;b(this,ma,!0);const{undo:e,post:t}=l(this,Ht)[l(this,Bt)];e(),t==null||t(),b(this,ma,!1),b(this,Bt,l(this,Bt)-1)}redo(){if(l(this,Bt)<l(this,Ht).length-1){b(this,Bt,l(this,Bt)+1),b(this,ma,!0);const{cmd:e,post:t}=l(this,Ht)[l(this,Bt)];e(),t==null||t(),b(this,ma,!1)}}hasSomethingToUndo(){return l(this,Bt)!==-1}hasSomethingToRedo(){return l(this,Bt)<l(this,Ht).length-1}destroy(){b(this,Ht,null)}}Ht=new WeakMap,ma=new WeakMap,qh=new WeakMap,Bt=new WeakMap;var Pg,FC;class gp{constructor(e){E(this,Pg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Cn.platform;for(const[s,r,i={}]of e)for(const a of s){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:i}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(A(this,Pg,FC).call(this,t));if(!s)return;const{callback:r,options:{bubbles:i=!1,args:a=[],checker:o=null}}=s;o&&!o(e,t)||(r.bind(e,...a,t)(),i||(t.stopPropagation(),t.preventDefault()))}}Pg=new WeakSet,FC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Rg=class Rg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return VF(e),Se(this,"_colors",e)}convert(e){const t=Eb(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((i,a)=>i===t[a]))return Rg._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?ne.makeHexColor(...t):e}};oe(Rg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qv=Rg;var iu,Kn,kt,Yt,au,ti,ou,zs,ga,lu,qo,gr,Hs,Go,Gh,Xh,cu,Yh,yr,ya,uu,va,vr,Ng,xa,Kh,ba,Xo,Qh,Jh,Ut,Le,ni,Yo,Zh,ef,wa,xr,si,tf,gs,G,mm,Gv,OC,DC,gm,IC,zC,HC,Xv,BC,Yv,Kv,UC,yn,Ki,$C,VC,Qv,WC,zd,Jv;const Lc=class Lc{constructor(e,t,s,r,i,a,o,c,u,d,h){E(this,G);E(this,iu,new AbortController);E(this,Kn,null);E(this,kt,new Map);E(this,Yt,new Map);E(this,au,null);E(this,ti,null);E(this,ou,null);E(this,zs,new XF);E(this,ga,null);E(this,lu,0);E(this,qo,new Set);E(this,gr,null);E(this,Hs,null);E(this,Go,new Set);E(this,Gh,!1);E(this,Xh,!1);E(this,cu,!1);E(this,Yh,null);E(this,yr,null);E(this,ya,null);E(this,uu,null);E(this,va,!1);E(this,vr,null);E(this,Ng,new GF);E(this,xa,!1);E(this,Kh,!1);E(this,ba,null);E(this,Xo,null);E(this,Qh,null);E(this,Jh,null);E(this,Ut,he.NONE);E(this,Le,new Set);E(this,ni,null);E(this,Yo,null);E(this,Zh,null);E(this,ef,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,wa,[0,0]);E(this,xr,null);E(this,si,null);E(this,tf,null);E(this,gs,null);const p=this._signal=l(this,iu).signal;b(this,si,e),b(this,tf,t),b(this,au,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:p}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),r._on("setpreference",this.onSetPreference.bind(this),{signal:p}),r._on("switchannotationeditorparams",g=>this.updateParams(g.type,g.value),{signal:p}),A(this,G,IC).call(this),A(this,G,UC).call(this),A(this,G,Xv).call(this),b(this,ti,i.annotationStorage),b(this,Yh,i.filterFactory),b(this,Yo,a),b(this,uu,o||null),b(this,Gh,c),b(this,Xh,u),b(this,cu,d),b(this,Jh,h||null),this.viewParameters={realScale:ro.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Lc.prototype,t=a=>l(a,si).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),s=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Se(this,"_keyboardManager",new gp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&l(a,si).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&l(a,si).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,s,r;(e=l(this,gs))==null||e.resolve(),b(this,gs,null),(t=l(this,iu))==null||t.abort(),b(this,iu,null),this._signal=null;for(const i of l(this,Yt).values())i.destroy();l(this,Yt).clear(),l(this,kt).clear(),l(this,Go).clear(),b(this,Kn,null),l(this,Le).clear(),l(this,zs).destroy(),(s=l(this,au))==null||s.destroy(),(r=l(this,vr))==null||r.hide(),b(this,vr,null),l(this,yr)&&(clearTimeout(l(this,yr)),b(this,yr,null)),l(this,xr)&&(clearTimeout(l(this,xr)),b(this,xr,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Jh)}get useNewAltTextFlow(){return l(this,Xh)}get useNewAltTextWhenAddingImage(){return l(this,cu)}get hcmFilter(){return Se(this,"hcmFilter",l(this,Yo)?l(this,Yh).addHCMFilter(l(this,Yo).foreground,l(this,Yo).background):"none")}get direction(){return Se(this,"direction",getComputedStyle(l(this,si)).direction)}get highlightColors(){return Se(this,"highlightColors",l(this,uu)?new Map(l(this,uu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Se(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,Qh,e)}editAltText(e,t=!1){var s;(s=l(this,au))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,cu,t);break}}onPageChanging({pageNumber:e}){b(this,lu,e-1)}focusMainContainer(){l(this,si).focus()}findParent(e,t){for(const s of l(this,Yt).values()){const{x:r,y:i,width:a,height:o}=s.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=i&&t<=i+o)return s}return null}disableUserSelect(e=!1){l(this,tf).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,Go).add(e)}removeShouldRescale(e){l(this,Go).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ro.PDF_TO_CSS_UNITS;for(const t of l(this,Go))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:a}=t,o=t.toString(),u=A(this,G,mm).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const h=A(this,G,Gv).call(this,u),p=l(this,Ut)===he.NONE,g=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(he.HIGHLIGHT,g);return}g()}addToAnnotationStorage(e){!e.isEmpty()&&l(this,ti)&&!l(this,ti).has(e.id)&&l(this,ti).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,l(this,va)&&(b(this,va,!1),A(this,G,gm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Le))if(t.div.contains(e)){b(this,Xo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,Xo))return;const[e,t]=l(this,Xo);b(this,Xo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,G,Xv).call(this),A(this,G,Yv).call(this)}removeEditListeners(){A(this,G,BC).call(this),A(this,G,Kv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of l(this,Hs))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of l(this,Hs))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=l(this,Kn))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of l(this,Le)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const a of l(this,Hs))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){ge(`paste: "${i.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const c of s){const u=await r.deserialize(c);if(!u)return;i.push(u)}const a=()=>{for(const c of i)A(this,G,Qv).call(this,c);A(this,G,Jv).call(this,i)},o=()=>{for(const c of i)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(i){ge(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Ut)!==he.NONE&&!this.isEditorHandlingKeyboard&&Lc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,va)&&(b(this,va,!1),A(this,G,gm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,G,zC).call(this),A(this,G,Yv).call(this),A(this,G,yn).call(this,{isEditing:l(this,Ut)!==he.NONE,isEmpty:A(this,G,zd).call(this),hasSomethingToUndo:l(this,zs).hasSomethingToUndo(),hasSomethingToRedo:l(this,zs).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,G,HC).call(this),A(this,G,Kv).call(this),A(this,G,yn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,Hs)){b(this,Hs,e);for(const t of l(this,Hs))A(this,G,Ki).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,Ng).id}get currentLayer(){return l(this,Yt).get(l(this,lu))}getLayer(e){return l(this,Yt).get(e)}get currentPageIndex(){return l(this,lu)}addLayer(e){l(this,Yt).set(e.pageIndex,e),l(this,xa)?e.enable():e.disable()}removeLayer(e){l(this,Yt).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(l(this,Ut)!==e&&!(l(this,gs)&&(await l(this,gs).promise,!l(this,gs)))){if(b(this,gs,Promise.withResolvers()),b(this,Ut,e),e===he.NONE){this.setEditingState(!1),A(this,G,VC).call(this),l(this,gs).resolve();return}this.setEditingState(!0),await A(this,G,$C).call(this),this.unselectAll();for(const r of l(this,Yt).values())r.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),l(this,gs).resolve();return}for(const r of l(this,kt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();l(this,gs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==l(this,Ut)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(l(this,Hs)){switch(e){case le.CREATE:this.currentLayer.addNewEditor();return;case le.HIGHLIGHT_DEFAULT_COLOR:(s=l(this,Qh))==null||s.updateColor(t);break;case le.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Zh)||b(this,Zh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of l(this,Le))r.updateParams(e,t);for(const r of l(this,Hs))r.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var i;for(const a of l(this,kt).values())a.editorType===e&&a.show(t);(((i=l(this,Zh))==null?void 0:i.get(le.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,G,Ki).call(this,[[le.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Kh)!==e){b(this,Kh,e);for(const t of l(this,Yt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of l(this,kt).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return l(this,kt).get(e)}addEditor(e){l(this,kt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(l(this,yr)&&clearTimeout(l(this,yr)),b(this,yr,setTimeout(()=>{this.focusMainContainer(),b(this,yr,null)},0))),l(this,kt).delete(e.id),this.unselect(e),(!e.annotationElementId||!l(this,qo).has(e.annotationElementId))&&((t=l(this,ti))==null||t.remove(e.id))}addDeletedAnnotationElement(e){l(this,qo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,qo).has(e)}removeDeletedAnnotationElement(e){l(this,qo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,Kn)!==e&&(b(this,Kn,e),e&&A(this,G,Ki).call(this,e.propertiesToUpdate))}updateUI(e){l(this,G,WC)===e&&A(this,G,Ki).call(this,e.propertiesToUpdate)}toggleSelected(e){if(l(this,Le).has(e)){l(this,Le).delete(e),e.unselect(),A(this,G,yn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Le).add(e),e.select(),A(this,G,Ki).call(this,e.propertiesToUpdate),A(this,G,yn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of l(this,Le))t!==e&&t.unselect();l(this,Le).clear(),l(this,Le).add(e),e.select(),A(this,G,Ki).call(this,e.propertiesToUpdate),A(this,G,yn).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Le).has(e)}get firstSelectedEditor(){return l(this,Le).values().next().value}unselect(e){e.unselect(),l(this,Le).delete(e),A(this,G,yn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Le).size!==0}get isEnterHandled(){return l(this,Le).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,zs).undo(),A(this,G,yn).call(this,{hasSomethingToUndo:l(this,zs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,G,zd).call(this)})}redo(){l(this,zs).redo(),A(this,G,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,zs).hasSomethingToRedo(),isEmpty:A(this,G,zd).call(this)})}addCommands(e){l(this,zs).add(e),A(this,G,yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,G,zd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...l(this,Le)],t=()=>{for(const r of e)r.remove()},s=()=>{for(const r of e)A(this,G,Qv).call(this,r)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=l(this,Kn))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,Kn)||this.hasSelection}selectAll(){for(const e of l(this,Le))e.commit();A(this,G,Jv).call(this,l(this,kt).values())}unselectAll(){if(!(l(this,Kn)&&(l(this,Kn).commitOrRemove(),l(this,Ut)!==he.NONE))&&this.hasSelection){for(const e of l(this,Le))e.unselect();l(this,Le).clear(),A(this,G,yn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;l(this,wa)[0]+=e,l(this,wa)[1]+=t;const[r,i]=l(this,wa),a=[...l(this,Le)],o=1e3;l(this,xr)&&clearTimeout(l(this,xr)),b(this,xr,setTimeout(()=>{b(this,xr,null),l(this,wa)[0]=l(this,wa)[1]=0,this.addCommands({cmd:()=>{for(const c of a)l(this,kt).has(c.id)&&c.translateInPage(r,i)},undo:()=>{for(const c of a)l(this,kt).has(c.id)&&c.translateInPage(-r,-i)},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,gr,new Map);for(const e of l(this,Le))l(this,gr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,gr))return!1;this.disableUserSelect(!1);const e=l(this,gr);b(this,gr,null);let t=!1;for(const[{x:r,y:i,pageIndex:a},o]of e)o.newX=r,o.newY=i,o.newPageIndex=a,t||(t=r!==o.savedX||i!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const s=(r,i,a,o)=>{if(l(this,kt).has(r.id)){const c=l(this,Yt).get(o);c?r._setParentAndPosition(c,i,a):(r.pageIndex=o,r.x=i,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:a,newPageIndex:o}]of e)s(r,i,a,o)},undo:()=>{for(const[r,{savedX:i,savedY:a,savedPageIndex:o}]of e)s(r,i,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,gr))for(const s of l(this,gr).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Le).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,Kn)===e}getActive(){return l(this,Kn)}getMode(){return l(this,Ut)}get imageManager(){return Se(this,"imageManager",new Wv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:s,y:r,width:i,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,p)=>({x:(d-r)/a,y:1-(u+h-s)/i,width:p/a,height:h/i});break;case"180":o=(u,d,h,p)=>({x:1-(u+h-s)/i,y:1-(d+p-r)/a,width:h/i,height:p/a});break;case"270":o=(u,d,h,p)=>({x:1-(d+p-r)/a,y:(u-s)/i,width:p/a,height:h/i});break;default:o=(u,d,h,p)=>({x:(u-s)/i,y:(d-r)/a,width:h/i,height:p/a});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:p,y:g,width:m,height:v}of h.getClientRects())m===0||v===0||c.push(o(p,g,m,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,ou)||b(this,ou,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,ou))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=l(this,ou))==null?void 0:r.get(e.data.id);if(!t)return;const s=l(this,ti).getRawValue(t);s&&(l(this,Ut)===he.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};iu=new WeakMap,Kn=new WeakMap,kt=new WeakMap,Yt=new WeakMap,au=new WeakMap,ti=new WeakMap,ou=new WeakMap,zs=new WeakMap,ga=new WeakMap,lu=new WeakMap,qo=new WeakMap,gr=new WeakMap,Hs=new WeakMap,Go=new WeakMap,Gh=new WeakMap,Xh=new WeakMap,cu=new WeakMap,Yh=new WeakMap,yr=new WeakMap,ya=new WeakMap,uu=new WeakMap,va=new WeakMap,vr=new WeakMap,Ng=new WeakMap,xa=new WeakMap,Kh=new WeakMap,ba=new WeakMap,Xo=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,Ut=new WeakMap,Le=new WeakMap,ni=new WeakMap,Yo=new WeakMap,Zh=new WeakMap,ef=new WeakMap,wa=new WeakMap,xr=new WeakMap,si=new WeakMap,tf=new WeakMap,gs=new WeakMap,G=new WeakSet,mm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Gv=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of l(this,Yt).values())if(s.hasTextLayer(e))return s;return null},OC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=A(this,G,mm).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(l(this,vr)||b(this,vr,new WF(this)),l(this,vr).show(s,r,this.direction==="ltr"))},DC=function(){var i,a,o;const e=document.getSelection();if(!e||e.isCollapsed){l(this,ni)&&((i=l(this,vr))==null||i.hide(),b(this,ni,null),A(this,G,yn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,ni))return;const r=A(this,G,mm).call(this,e).closest(".textLayer");if(!r){l(this,ni)&&((a=l(this,vr))==null||a.hide(),b(this,ni,null),A(this,G,yn).call(this,{hasSelectedText:!1}));return}if((o=l(this,vr))==null||o.hide(),b(this,ni,t),A(this,G,yn).call(this,{hasSelectedText:!0}),!(l(this,Ut)!==he.HIGHLIGHT&&l(this,Ut)!==he.NONE)&&(l(this,Ut)===he.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,va,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,Ut)===he.HIGHLIGHT?A(this,G,Gv).call(this,r):null;c==null||c.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=p=>{p.type==="pointerup"&&p.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),p.type==="pointerup"&&A(this,G,gm).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},gm=function(e=""){l(this,Ut)===he.HIGHLIGHT?this.highlightSelection(e):l(this,Gh)&&A(this,G,OC).call(this)},IC=function(){document.addEventListener("selectionchange",A(this,G,DC).bind(this),{signal:this._signal})},zC=function(){if(l(this,ya))return;b(this,ya,new AbortController);const e=this.combinedSignal(l(this,ya));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},HC=function(){var e;(e=l(this,ya))==null||e.abort(),b(this,ya,null)},Xv=function(){if(l(this,ba))return;b(this,ba,new AbortController);const e=this.combinedSignal(l(this,ba));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},BC=function(){var e;(e=l(this,ba))==null||e.abort(),b(this,ba,null)},Yv=function(){if(l(this,ga))return;b(this,ga,new AbortController);const e=this.combinedSignal(l(this,ga));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Kv=function(){var e;(e=l(this,ga))==null||e.abort(),b(this,ga,null)},UC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},yn=function(e){Object.entries(e).some(([s,r])=>l(this,ef)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,ef),e)}),l(this,Ut)===he.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,G,Ki).call(this,[[le.HIGHLIGHT_FREE,!0]]))},Ki=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},$C=async function(){if(!l(this,xa)){b(this,xa,!0);const e=[];for(const t of l(this,Yt).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,kt).values())t.enable()}},VC=function(){if(this.unselectAll(),l(this,xa)){b(this,xa,!1);for(const e of l(this,Yt).values())e.disable();for(const e of l(this,kt).values())e.disable()}},Qv=function(e){const t=l(this,Yt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},WC=function(){let e=null;for(e of l(this,Le));return e},zd=function(){if(l(this,kt).size===0)return!0;if(l(this,kt).size===1)for(const e of l(this,kt).values())return e.isEmpty();return!1},Jv=function(e){for(const t of l(this,Le))t.unselect();l(this,Le).clear();for(const t of e)t.isEmpty()||(l(this,Le).add(t),t.select());A(this,G,yn).call(this,{hasSelectedEditor:this.hasSelection})},oe(Lc,"TRANSLATE_SMALL",1),oe(Lc,"TRANSLATE_BIG",10);let Ql=Lc;var $t,br,Bs,du,wr,Qn,hu,Ar,Fn,ri,Ko,Sr,Aa,tr,Hd,ym;const vn=class vn{constructor(e){E(this,tr);E(this,$t,null);E(this,br,!1);E(this,Bs,null);E(this,du,null);E(this,wr,null);E(this,Qn,null);E(this,hu,!1);E(this,Ar,null);E(this,Fn,null);E(this,ri,null);E(this,Ko,null);E(this,Sr,!1);b(this,Fn,e),b(this,Sr,e._uiManager.useNewAltTextFlow),l(vn,Aa)||b(vn,Aa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){vn._l10n??(vn._l10n=e)}async render(){const e=b(this,Bs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,du,document.createElement("span"));e.append(t),l(this,Sr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(vn,Aa).missing),t.setAttribute("data-l10n-id",l(vn,Aa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=l(this,Fn)._uiManager._signal;e.addEventListener("contextmenu",Ns,{signal:s}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),l(this,Fn)._uiManager.editAltText(l(this,Fn)),l(this,Sr)&&l(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,tr,Hd)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(b(this,hu,!0),r(i))},{signal:s}),await A(this,tr,ym).call(this),e}finish(){l(this,Bs)&&(l(this,Bs).focus({focusVisible:l(this,hu)}),b(this,hu,!1))}isEmpty(){return l(this,Sr)?l(this,$t)===null:!l(this,$t)&&!l(this,br)}hasData(){return l(this,Sr)?l(this,$t)!==null||!!l(this,ri):this.isEmpty()}get guessedText(){return l(this,ri)}async setGuessedText(e){l(this,$t)===null&&(b(this,ri,e),b(this,Ko,await vn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,tr,ym).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,Sr)||l(this,$t)){(t=l(this,Ar))==null||t.remove(),b(this,Ar,null);return}if(!l(this,Ar)){const s=b(this,Ar,document.createElement("div"));s.className="noAltTextBadge",l(this,Fn).div.append(s)}l(this,Ar).classList.toggle("hidden",!e)}serialize(e){let t=l(this,$t);return!e&&l(this,ri)===t&&(t=l(this,Ko)),{altText:t,decorative:l(this,br),guessedText:l(this,ri),textWithDisclaimer:l(this,Ko)}}get data(){return{altText:l(this,$t),decorative:l(this,br)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:i=!1}){s&&(b(this,ri,s),b(this,Ko,r)),!(l(this,$t)===e&&l(this,br)===t)&&(i||(b(this,$t,e),b(this,br,t)),A(this,tr,ym).call(this))}toggle(e=!1){l(this,Bs)&&(!e&&l(this,Qn)&&(clearTimeout(l(this,Qn)),b(this,Qn,null)),l(this,Bs).disabled=!e)}shown(){l(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,tr,Hd)}})}destroy(){var e,t;(e=l(this,Bs))==null||e.remove(),b(this,Bs,null),b(this,du,null),b(this,wr,null),(t=l(this,Ar))==null||t.remove(),b(this,Ar,null)}};$t=new WeakMap,br=new WeakMap,Bs=new WeakMap,du=new WeakMap,wr=new WeakMap,Qn=new WeakMap,hu=new WeakMap,Ar=new WeakMap,Fn=new WeakMap,ri=new WeakMap,Ko=new WeakMap,Sr=new WeakMap,Aa=new WeakMap,tr=new WeakSet,Hd=function(){return l(this,$t)&&"added"||l(this,$t)===null&&this.guessedText&&"review"||"missing"},ym=async function(){var r,i,a;const e=l(this,Bs);if(!e)return;if(l(this,Sr)){if(e.classList.toggle("done",!!l(this,$t)),e.setAttribute("data-l10n-id",l(vn,Aa)[l(this,tr,Hd)]),(r=l(this,du))==null||r.setAttribute("data-l10n-id",l(vn,Aa)[`${l(this,tr,Hd)}-label`]),!l(this,$t)){(i=l(this,wr))==null||i.remove();return}}else{if(!l(this,$t)&&!l(this,br)){e.classList.remove("done"),(a=l(this,wr))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,wr);if(!t){b(this,wr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,Fn).id}`;const o=100,c=l(this,Fn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,Qn)),b(this,Qn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Qn,setTimeout(()=>{b(this,Qn,null),l(this,wr).classList.add("show"),l(this,Fn)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;l(this,Qn)&&(clearTimeout(l(this,Qn)),b(this,Qn,null)),(u=l(this,wr))==null||u.classList.remove("show")},{signal:c})}l(this,br)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,$t)),t.parentNode||e.append(t);const s=l(this,Fn).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},E(vn,Aa,null),oe(vn,"_l10n",null);let Sg=vn;var Qo,Us,et,fu,Jo,Kt,Zo,Sa,nf,el,Ea,sf,tl,ii,Er,pu,mu,ys,rf,Mg,pe,Zv,af,e1,t1,qC,GC,n1,s1,r1,XC,i1,YC,KC,QC,a1,Bd;const Re=class Re{constructor(e){E(this,pe);E(this,Qo,null);E(this,Us,null);E(this,et,null);E(this,fu,!1);E(this,Jo,!1);E(this,Kt,null);E(this,Zo,null);E(this,Sa,null);E(this,nf,"");E(this,el,!1);E(this,Ea,null);E(this,sf,!1);E(this,tl,!1);E(this,ii,!1);E(this,Er,null);E(this,pu,0);E(this,mu,0);E(this,ys,null);oe(this,"_editToolbar",null);oe(this,"_initialOptions",Object.create(null));oe(this,"_initialData",null);oe(this,"_isVisible",!0);oe(this,"_uiManager",null);oe(this,"_focusEventsAllowed",!0);E(this,rf,!1);E(this,Mg,Re._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[i,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Re.prototype._resizeWithKeyboard,t=Ql.TRANSLATE_SMALL,s=Ql.TRANSLATE_BIG;return Se(this,"_resizerKeyboardManager",new gp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Re.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Se(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new YF({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Re._l10n??(Re._l10n=e),Re._l10nResizer||(Re._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Re._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Re._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ge("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,rf)}set _isDraggable(e){var t;b(this,rf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Mg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,pe,Bd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,el)?b(this,el,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[i,a]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/i,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){A(this,pe,Zv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,Ea)||b(this,Ea,[this.x,this.y]),A(this,pe,Zv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){l(this,Ea)||b(this,Ea,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[o,c]=this.getBaseTranslation();i+=o,a+=c,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,Ea)&&(l(this,Ea)[0]!==this.x||l(this,Ea)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=Re,r=s/e,i=s/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:r,y:i,width:a,height:o}=this;if(a*=t,o*=s,r*=t,i*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),i=Math.max(0,Math.min(s-o,i));break;case 90:r=Math.max(0,Math.min(t-o,r)),i=Math.min(s,Math.max(a,i));break;case 180:r=Math.min(t,Math.max(a,r)),i=Math.min(s,Math.max(o,i));break;case 270:r=Math.min(t,Math.max(o,r)),i=Math.max(0,Math.min(s-a,i));break}this.x=r/=t,this.y=i/=s;const[c,u]=this.getBaseTranslation();r+=c,i+=u;const{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return A(s=Re,af,e1).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return A(s=Re,af,e1).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,l(this,Jo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),i=!l(this,Jo)&&t.endsWith("%");if(r&&i)return;const[a,o]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/a).toFixed(2)}%`),!l(this,Jo)&&!i&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=l(this,et))==null||e.finish()}async addEditToolbar(){return this._editToolbar||l(this,tl)?this._editToolbar:(this._editToolbar=new $v(this),this.div.append(this._editToolbar.render()),l(this,et)&&await this._editToolbar.addAltText(l(this,et)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=l(this,et))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,et)||(Sg.initialize(Re._l10n),b(this,et,new Sg(this)),l(this,Qo)&&(l(this,et).data=l(this,Qo),b(this,Qo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=l(this,et))==null?void 0:e.data}set altTextData(e){l(this,et)&&(l(this,et).data=e)}get guessedAltText(){var e;return(e=l(this,et))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,et))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,et))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,et)&&!l(this,et).isEmpty()}hasAltTextData(){var e;return((e=l(this,et))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,fu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,pe,i1).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Ag(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,el,!0),this._isDraggable){A(this,pe,XC).call(this,e);return}A(this,pe,r1).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){l(this,Er)&&clearTimeout(l(this,Er)),b(this,Er,setTimeout(()=>{var e;b(this,Er,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const r=this.parentScale,[i,a]=this.pageDimensions,[o,c]=this.pageTranslation,u=e/r,d=t/r,h=this.x*i,p=this.y*a,g=this.width*i,m=this.height*a;switch(s){case 0:return[h+u+o,a-p-d-m+c,h+u+g+o,a-p-d+c];case 90:return[h+d+o,a-p+u+c,h+d+m+o,a-p+u+g+c];case 180:return[h-u-g+o,a-p+d+c,h-u+o,a-p+d+m+c];case 270:return[h-d-m+o,a-p-u-g+c,h-d+o,a-p-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,i,a]=e,o=i-s,c=a-r;switch(this.rotation){case 0:return[s,t-a,o,c];case 90:return[s,t-r,c,o];case 180:return[i,t-r,o,c];case 270:return[i,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,tl,!0)}disableEditMode(){b(this,tl,!1)}isInEditMode(){return l(this,tl)}shouldGetKeyboardEvents(){return l(this,ii)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,pe,i1).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ge("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});r.rotation=e.rotation,b(r,Qo,e.accessibilityData);const[i,a]=r.pageDimensions,[o,c,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/i,r.y=c/a,r.width=u/i,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=l(this,Sa))==null||e.abort(),b(this,Sa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Er)&&(clearTimeout(l(this,Er)),b(this,Er,null)),A(this,pe,Bd).call(this),this.removeEditToolbar(),l(this,ys)){for(const t of l(this,ys).values())clearTimeout(t);b(this,ys,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,pe,qC).call(this),l(this,Kt).classList.remove("hidden"),Ag(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Zo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Kt).children;if(!l(this,Us)){b(this,Us,Array.from(t));const a=A(this,pe,YC).bind(this),o=A(this,pe,KC).bind(this),c=this._uiManager._signal;for(const u of l(this,Us)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",A(this,pe,QC).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",Re._l10nResizer[d])}}const s=l(this,Us)[0];let r=0;for(const a of t){if(a===s)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(l(this,Us).length/4);if(i!==r){if(i<r)for(let o=0;o<r-i;o++)l(this,Kt).append(l(this,Kt).firstChild);else if(i>r)for(let o=0;o<i-r;o++)l(this,Kt).firstChild.before(l(this,Kt).lastChild);let a=0;for(const o of t){const u=l(this,Us)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Re._l10nResizer[u])}}A(this,pe,a1).call(this,0),b(this,ii,!0),l(this,Kt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,ii)&&A(this,pe,s1).call(this,l(this,nf),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,pe,Bd).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(s=l(this,et))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,r,i;(e=l(this,Kt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=l(this,et))==null||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,sf)}set isEditing(e){b(this,sf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Jo,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,ys)||b(this,ys,new Map);const{action:s}=e;let r=l(this,ys).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),l(this,ys).delete(s),l(this,ys).size===0&&b(this,ys,null)},Re._telemetryTimeout),l(this,ys).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,fu,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,fu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Qo=new WeakMap,Us=new WeakMap,et=new WeakMap,fu=new WeakMap,Jo=new WeakMap,Kt=new WeakMap,Zo=new WeakMap,Sa=new WeakMap,nf=new WeakMap,el=new WeakMap,Ea=new WeakMap,sf=new WeakMap,tl=new WeakMap,ii=new WeakMap,Er=new WeakMap,pu=new WeakMap,mu=new WeakMap,ys=new WeakMap,rf=new WeakMap,Mg=new WeakMap,pe=new WeakSet,Zv=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this.fixAndSetPosition()},af=new WeakSet,e1=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},t1=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},qC=function(){if(l(this,Kt))return;b(this,Kt,document.createElement("div")),l(this,Kt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");l(this,Kt).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",A(this,pe,GC).bind(this,s),{signal:t}),r.addEventListener("contextmenu",Ns,{signal:t}),r.tabIndex=-1}this.div.prepend(l(this,Kt))},GC=function(e,t){var m;t.preventDefault();const{isMac:s}=Cn.platform;if(t.button!==0||t.ctrlKey&&s)return;(m=l(this,et))==null||m.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,pe,s1).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",Ns,{signal:a});const o=this.x,c=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var v;i.abort(),this.parent.togglePointerEvents(!0),(v=l(this,et))==null||v.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=h,this.div.style.cursor=p,A(this,pe,n1).call(this,o,c,u,d)};window.addEventListener("pointerup",g,{signal:a}),window.addEventListener("blur",g,{signal:a})},n1=function(e,t,s,r){const i=this.x,a=this.y,o=this.width,c=this.height;i===e&&a===t&&o===s&&c===r||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=i,this.y=a;const[u,d]=this.parentDimensions;this.setDims(u*o,d*c),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*s,d*r),this.fixAndSetPosition()},mustExec:!0})},s1=function(e,t){const[s,r]=this.parentDimensions,i=this.x,a=this.y,o=this.width,c=this.height,u=Re.MIN_SIZE/s,d=Re.MIN_SIZE/r,h=V=>Math.round(V*1e4)/1e4,p=A(this,pe,t1).call(this,this.rotation),g=(V,F)=>[p[0]*V+p[2]*F,p[1]*V+p[3]*F],m=A(this,pe,t1).call(this,360-this.rotation),v=(V,F)=>[m[0]*V+m[2]*F,m[1]*V+m[3]*F];let S,x,w=!1,y=!1;switch(e){case"topLeft":w=!0,S=(V,F)=>[0,0],x=(V,F)=>[V,F];break;case"topMiddle":S=(V,F)=>[V/2,0],x=(V,F)=>[V/2,F];break;case"topRight":w=!0,S=(V,F)=>[V,0],x=(V,F)=>[0,F];break;case"middleRight":y=!0,S=(V,F)=>[V,F/2],x=(V,F)=>[0,F/2];break;case"bottomRight":w=!0,S=(V,F)=>[V,F],x=(V,F)=>[0,0];break;case"bottomMiddle":S=(V,F)=>[V/2,F],x=(V,F)=>[V/2,0];break;case"bottomLeft":w=!0,S=(V,F)=>[0,F],x=(V,F)=>[V,0];break;case"middleLeft":y=!0,S=(V,F)=>[0,F/2],x=(V,F)=>[V,F/2];break}const _=S(o,c),C=x(o,c);let k=g(...C);const R=h(i+k[0]),N=h(a+k[1]);let O=1,j=1,[I,B]=this.screenToPageTranslation(t.movementX,t.movementY);if([I,B]=v(I/s,B/r),w){const V=Math.hypot(o,c);O=j=Math.max(Math.min(Math.hypot(C[0]-_[0]-I,C[1]-_[1]-B)/V,1/o,1/c),u/o,d/c)}else y?O=Math.max(u,Math.min(1,Math.abs(C[0]-_[0]-I)))/o:j=Math.max(d,Math.min(1,Math.abs(C[1]-_[1]-B)))/c;const H=h(o*O),$=h(c*j);k=g(...x(H,$));const Z=R-k[0],X=N-k[1];this.width=H,this.height=$,this.x=Z,this.y=X,this.setDims(s*H,r*$),this.fixAndSetPosition()},r1=function(e){const{isMac:t}=Cn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},XC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),b(this,pu,e.clientX),b(this,mu,e.clientY);const a=o=>{const{clientX:c,clientY:u}=o,[d,h]=this.screenToPageTranslation(c-l(this,pu),u-l(this,mu));b(this,pu,c),b(this,mu,u),this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:r})}const i=()=>{s.abort(),t&&this.div.classList.remove("moving"),b(this,el,!1),this._uiManager.endDragSession()||A(this,pe,r1).call(this,e)};window.addEventListener("pointerup",i,{signal:r}),window.addEventListener("blur",i,{signal:r})},i1=function(){if(l(this,Sa)||!this.div)return;b(this,Sa,new AbortController);const e=this._uiManager.combinedSignal(l(this,Sa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},YC=function(e){Re._resizerKeyboardManager.exec(this,e)},KC=function(e){var t;l(this,ii)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Kt)&&A(this,pe,Bd).call(this)},QC=function(e){b(this,nf,l(this,ii)?e:"")},a1=function(e){if(l(this,Us))for(const t of l(this,Us))t.tabIndex=e},Bd=function(){if(b(this,ii,!1),A(this,pe,a1).call(this,-1),l(this,Zo)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=l(this,Zo);A(this,pe,n1).call(this,e,t,s,r),b(this,Zo,null)}},E(Re,af),oe(Re,"_l10n",null),oe(Re,"_l10nResizer",null),oe(Re,"_borderLineWidth",-1),oe(Re,"_colorManager",new qv),oe(Re,"_zIndex",1),oe(Re,"_telemetryTimeout",1e3);let Oe=Re;class YF extends Oe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const uA=3285377520,ps=4294901760,cr=65535;class JC{constructor(e){this.h1=e?e&4294967295:uA,this.h2=e?e&4294967295:uA}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let v=0,S=e.length;v<S;v++){const x=e.charCodeAt(v);x<=255?t[s++]=x:(t[s++]=x>>>8,t[s++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,i=s-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,c=0,u=this.h1,d=this.h2;const h=3432918353,p=461845907,g=h&cr,m=p&cr;for(let v=0;v<r;v++)v&1?(o=a[v],o=o*h&ps|o*g&cr,o=o<<15|o>>>17,o=o*p&ps|o*m&cr,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[v],c=c*h&ps|c*g&cr,c=c<<15|c>>>17,c=c*p&ps|c*m&cr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,i){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&ps|o*g&cr,o=o<<15|o>>>17,o=o*p&ps|o*m&cr,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ps|e*36045&cr,t=t*4283543511&ps|((t<<16|e>>>16)*2950163797&ps)>>>16,e^=t>>>1,e=e*444984403&ps|e*60499&cr,t=t*3301882366&ps|((t<<16|e>>>16)*3120437893&ps)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const o1=Object.freeze({map:null,hash:"",transfer:void 0});var nl,sl,Vt,Lg,ZC;class _b{constructor(){E(this,Lg);E(this,nl,!1);E(this,sl,null);E(this,Vt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=l(this,Vt).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return l(this,Vt).get(e)}remove(e){if(l(this,Vt).delete(e),l(this,Vt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of l(this,Vt).values())if(t instanceof Oe)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=l(this,Vt).get(e);let r=!1;if(s!==void 0)for(const[i,a]of Object.entries(t))s[i]!==a&&(r=!0,s[i]=a);else r=!0,l(this,Vt).set(e,t);r&&A(this,Lg,ZC).call(this),t instanceof Oe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return l(this,Vt).has(e)}getAll(){return l(this,Vt).size>0?xb(l(this,Vt)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return l(this,Vt).size}resetModified(){l(this,nl)&&(b(this,nl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new e4(this)}get serializable(){if(l(this,Vt).size===0)return o1;const e=new Map,t=new JC,s=[],r=Object.create(null);let i=!1;for(const[a,o]of l(this,Vt)){const c=o instanceof Oe?o.serialize(!1,r):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const a of e.values())a.bitmap&&s.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:o1}get editorStats(){let e=null;const t=new Map;for(const s of l(this,Vt).values()){if(!(s instanceof Oe))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:i}=r;t.has(i)||t.set(i,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const a=e[i]||(e[i]=new Map);for(const[o,c]of Object.entries(r)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const d=u.get(c)??0;u.set(c,d+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){b(this,sl,null)}get modifiedIds(){if(l(this,sl))return l(this,sl);const e=[];for(const t of l(this,Vt).values())!(t instanceof Oe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,sl,{ids:new Set(e),hash:e.join(",")})}}nl=new WeakMap,sl=new WeakMap,Vt=new WeakMap,Lg=new WeakSet,ZC=function(){l(this,nl)||(b(this,nl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var of;class e4 extends _b{constructor(t){super();E(this,of);const{map:s,hash:r,transfer:i}=t.serializable,a=structuredClone(s,i?{transfer:i}:null);b(this,of,{map:a,hash:r,transfer:i})}get print(){Ge("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,of)}get modifiedIds(){return Se(this,"modifiedIds",{ids:new Set,hash:""})}}of=new WeakMap;var gu;class KF{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,gu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,gu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||l(this,gu).has(e.loadedName))){if(Lt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:i}=e,a=new FontFace(s,r,i);this.addNativeFontFace(a);try{await a.load(),l(this,gu).add(s),t==null||t(e)}catch{ge(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Ge("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw ge(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Se(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(pn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Se(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Lt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const i=s.shift();setTimeout(i.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Se(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(_,C){return _.charCodeAt(C)<<24|_.charCodeAt(C+1)<<16|_.charCodeAt(C+2)<<8|_.charCodeAt(C+3)&255}function r(_,C,k,R){const N=_.substring(0,C),O=_.substring(C+k);return N+R+O}let i,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function d(_,C){if(++u>30){ge("Load test font never loaded."),C();return}if(c.font="30px "+_,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,_,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=r(p,976,h.length,h);const m=16,v=1482184792;let S=s(p,m);for(i=0,a=h.length-3;i<a;i+=4)S=S-v+s(h,i)|0;i<h.length&&(S=S-v+s(h+"XXX",i)|0),p=r(p,m,4,jF(S));const x=`url(data:font/opentype;base64,${btoa(p)});`,w=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(w);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const _ of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=_,y.append(C)}this._document.body.append(y),d(h,()=>{y.remove(),t.complete()})}}gu=new WeakMap;class QF{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${HF(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(i){ge(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(i,a){};const r=[];for(let i=0,a=s.length;i<a;)switch(s[i++]){case $r.BEZIER_CURVE_TO:{const[o,c,u,d,h,p]=s.slice(i,i+6);r.push(g=>g.bezierCurveTo(o,c,u,d,h,p)),i+=6}break;case $r.MOVE_TO:{const[o,c]=s.slice(i,i+2);r.push(u=>u.moveTo(o,c)),i+=2}break;case $r.LINE_TO:{const[o,c]=s.slice(i,i+2);r.push(u=>u.lineTo(o,c)),i+=2}break;case $r.QUADRATIC_CURVE_TO:{const[o,c,u,d]=s.slice(i,i+4);r.push(h=>h.quadraticCurveTo(o,c,u,d)),i+=4}break;case $r.RESTORE:r.push(o=>o.restore());break;case $r.SAVE:r.push(o=>o.save());break;case $r.SCALE:Lt(r.length===2,"Scale command is only valid at the third position.");break;case $r.TRANSFORM:{const[o,c,u,d,h,p]=s.slice(i,i+6);r.push(g=>g.transform(o,c,u,d,h,p)),i+=6}break;case $r.TRANSLATE:{const[o,c]=s.slice(i,i+2);r.push(u=>u.translate(o,c)),i+=2}break}return this.compiledGlyphs[t]=function(a,o){r[0](a),r[1](a),a.scale(o,-o);for(let c=2,u=r.length;c<u;c++)r[c](a)}}}var lf;class t4{constructor({enableHWA:e=!1}){E(this,lf,!1);b(this,lf,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!l(this,lf)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ge("Abstract method `_createCanvas` called.")}}lf=new WeakMap;class JF extends t4{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class n4{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ge("Abstract method `_fetch` called.")}}class s4 extends n4{async _fetch(e){const t=await S0(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):A0(t)}}class r4{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,i){return"none"}destroy(e=!1){}}var rl,il,_r,ai,ln,jg,al,K,an,fc,pc,vm,mc,i4,l1,gc,Ud,$d,c1,Vd;class ZF extends r4{constructor({docId:t,ownerDocument:s=globalThis.document}){super();E(this,K);E(this,rl);E(this,il);E(this,_r);E(this,ai);E(this,ln);E(this,jg);E(this,al,0);b(this,ai,t),b(this,ln,s)}addFilter(t){if(!t)return"none";let s=l(this,K,an).get(t);if(s)return s;const[r,i,a]=A(this,K,vm).call(this,t),o=t.length===1?r:`${r}${i}${a}`;if(s=l(this,K,an).get(o),s)return l(this,K,an).set(t,s),s;const c=`g_${l(this,ai)}_transfer_map_${Ot(this,al)._++}`,u=A(this,K,mc).call(this,c);l(this,K,an).set(t,u),l(this,K,an).set(o,u);const d=A(this,K,gc).call(this,c);return A(this,K,$d).call(this,r,i,a,d),u}addHCMFilter(t,s){var m;const r=`${t}-${s}`,i="base";let a=l(this,K,fc).get(i);if((a==null?void 0:a.key)===r||(a?((m=a.filter)==null||m.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},l(this,K,fc).set(i,a)),!t||!s))return a.url;const o=A(this,K,Vd).call(this,t);t=ne.makeHexColor(...o);const c=A(this,K,Vd).call(this,s);if(s=ne.makeHexColor(...c),l(this,K,pc).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return a.url;const u=new Array(256);for(let v=0;v<=255;v++){const S=v/255;u[v]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=u.join(","),h=`g_${l(this,ai)}_hcm_filter`,p=a.filter=A(this,K,gc).call(this,h);A(this,K,$d).call(this,d,d,d,p),A(this,K,l1).call(this,p);const g=(v,S)=>{const x=o[v]/255,w=c[v]/255,y=new Array(S+1);for(let _=0;_<=S;_++)y[_]=x+_/S*(w-x);return y.join(",")};return A(this,K,$d).call(this,g(0,5),g(1,5),g(2,5),p),a.url=A(this,K,mc).call(this,h),a.url}addAlphaFilter(t){let s=l(this,K,an).get(t);if(s)return s;const[r]=A(this,K,vm).call(this,[t]),i=`alpha_${r}`;if(s=l(this,K,an).get(i),s)return l(this,K,an).set(t,s),s;const a=`g_${l(this,ai)}_alpha_map_${Ot(this,al)._++}`,o=A(this,K,mc).call(this,a);l(this,K,an).set(t,o),l(this,K,an).set(i,o);const c=A(this,K,gc).call(this,a);return A(this,K,c1).call(this,r,c),o}addLuminosityFilter(t){let s=l(this,K,an).get(t||"luminosity");if(s)return s;let r,i;if(t?([r]=A(this,K,vm).call(this,[t]),i=`luminosity_${r}`):i="luminosity",s=l(this,K,an).get(i),s)return l(this,K,an).set(t,s),s;const a=`g_${l(this,ai)}_luminosity_map_${Ot(this,al)._++}`,o=A(this,K,mc).call(this,a);l(this,K,an).set(t,o),l(this,K,an).set(i,o);const c=A(this,K,gc).call(this,a);return A(this,K,i4).call(this,c),t&&A(this,K,c1).call(this,r,c),o}addHighlightHCMFilter(t,s,r,i,a){var w;const o=`${s}-${r}-${i}-${a}`;let c=l(this,K,fc).get(t);if((c==null?void 0:c.key)===o||(c?((w=c.filter)==null||w.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},l(this,K,fc).set(t,c)),!s||!r))return c.url;const[u,d]=[s,r].map(A(this,K,Vd).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[g,m]=[i,a].map(A(this,K,Vd).bind(this));p<h&&([h,p,g,m]=[p,h,m,g]),l(this,K,pc).style.color="";const v=(y,_,C)=>{const k=new Array(256),R=(p-h)/C,N=y/255,O=(_-y)/(255*C);let j=0;for(let I=0;I<=C;I++){const B=Math.round(h+I*R),H=N+I*O;for(let $=j;$<=B;$++)k[$]=H;j=B+1}for(let I=j;I<256;I++)k[I]=k[j-1];return k.join(",")},S=`g_${l(this,ai)}_hcm_${t}_filter`,x=c.filter=A(this,K,gc).call(this,S);return A(this,K,l1).call(this,x),A(this,K,$d).call(this,v(g[0],m[0],5),v(g[1],m[1],5),v(g[2],m[2],5),x),c.url=A(this,K,mc).call(this,S),c.url}destroy(t=!1){t&&l(this,K,fc).size!==0||(l(this,_r)&&(l(this,_r).parentNode.parentNode.remove(),b(this,_r,null)),l(this,il)&&(l(this,il).clear(),b(this,il,null)),b(this,al,0))}}rl=new WeakMap,il=new WeakMap,_r=new WeakMap,ai=new WeakMap,ln=new WeakMap,jg=new WeakMap,al=new WeakMap,K=new WeakSet,an=function(){return l(this,il)||b(this,il,new Map)},fc=function(){return l(this,jg)||b(this,jg,new Map)},pc=function(){if(!l(this,_r)){const t=l(this,ln).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=l(this,ln).createElementNS(qr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,_r,l(this,ln).createElementNS(qr,"defs")),t.append(r),r.append(l(this,_r)),l(this,ln).body.append(t)}return l(this,_r)},vm=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=u[p]/255;const h=d.join(",");return[h,h,h]}const[s,r,i]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=s[u]/255,o[u]=r[u]/255,c[u]=i[u]/255;return[a.join(","),o.join(","),c.join(",")]},mc=function(t){if(l(this,rl)===void 0){b(this,rl,"");const s=l(this,ln).URL;s!==l(this,ln).baseURI&&(E0(s)?ge('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,rl,s.split("#",1)[0]))}return`url(${l(this,rl)}#${t})`},i4=function(t){const s=l(this,ln).createElementNS(qr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},l1=function(t){const s=l(this,ln).createElementNS(qr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},gc=function(t){const s=l(this,ln).createElementNS(qr,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),l(this,K,pc).append(s),s},Ud=function(t,s,r){const i=l(this,ln).createElementNS(qr,s);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},$d=function(t,s,r,i){const a=l(this,ln).createElementNS(qr,"feComponentTransfer");i.append(a),A(this,K,Ud).call(this,a,"feFuncR",t),A(this,K,Ud).call(this,a,"feFuncG",s),A(this,K,Ud).call(this,a,"feFuncB",r)},c1=function(t,s){const r=l(this,ln).createElementNS(qr,"feComponentTransfer");s.append(r),A(this,K,Ud).call(this,r,"feFuncA",t)},Vd=function(t){return l(this,K,pc).style.color=t,Eb(getComputedStyle(l(this,K,pc)).getPropertyValue("color"))};class a4{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ge("Abstract method `_fetch` called.")}}class o4 extends a4{async _fetch(e){const t=await S0(e,"arraybuffer");return new Uint8Array(t)}}if(pn){var u1=Promise.withResolvers(),hh=null;(async()=>{const e=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let i,a;return new Map(Object.entries({fs:e,http:t,https:s,url:r,canvas:i,path2d:a}))})().then(e=>{hh=e,u1.resolve()},e=>{ge(`loadPackages: ${e}`),hh=new Map,u1.resolve()})}class io{static get promise(){return u1.promise}static get(e){return hh==null?void 0:hh.get(e)}}async function l4(n){const t=await io.get("fs").promises.readFile(n);return new Uint8Array(t)}class e5 extends r4{}class t5 extends t4{_createCanvas(e,t){return io.get("canvas").createCanvas(e,t)}}class n5 extends n4{async _fetch(e){return l4(e)}}class s5 extends a4{async _fetch(e){return l4(e)}}const En={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function d1(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class Cb{getPattern(){Ge("Abstract method `getPattern` called.")}}class r5 extends Cb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let i;if(r===En.STROKE||r===En.FILL){const a=t.current.getClippedPathBoundingBox(r,nt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),s=ne.transform(s,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),d1(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(s);i.setTransform(h)}else d1(e,this._bbox),i=this._createGradient(e);return i}}function fy(n,e,t,s,r,i,a,o){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let p;c[t+1]>c[s+1]&&(p=t,t=s,s=p,p=i,i=a,a=p),c[s+1]>c[r+1]&&(p=s,s=r,r=p,p=a,a=o,o=p),c[t+1]>c[s+1]&&(p=t,t=s,s=p,p=i,i=a,a=p);const g=(c[t]+e.offsetX)*e.scaleX,m=(c[t+1]+e.offsetY)*e.scaleY,v=(c[s]+e.offsetX)*e.scaleX,S=(c[s+1]+e.offsetY)*e.scaleY,x=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY;if(m>=w)return;const y=u[i],_=u[i+1],C=u[i+2],k=u[a],R=u[a+1],N=u[a+2],O=u[o],j=u[o+1],I=u[o+2],B=Math.round(m),H=Math.round(w);let $,Z,X,V,F,Q,ee,ie;for(let ae=B;ae<=H;ae++){if(ae<S){const me=ae<m?0:(m-ae)/(m-S);$=g-(g-v)*me,Z=y-(y-k)*me,X=_-(_-R)*me,V=C-(C-N)*me}else{let me;ae>w?me=1:S===w?me=0:me=(S-ae)/(S-w),$=v-(v-x)*me,Z=k-(k-O)*me,X=R-(R-j)*me,V=N-(N-I)*me}let ve;ae<m?ve=0:ae>w?ve=1:ve=(m-ae)/(m-w),F=g-(g-x)*ve,Q=y-(y-O)*ve,ee=_-(_-j)*ve,ie=C-(C-I)*ve;const Me=Math.round(Math.min($,F)),ht=Math.round(Math.max($,F));let Ce=h*ae+Me*4;for(let me=Me;me<=ht;me++)ve=($-me)/($-F),ve<0?ve=0:ve>1&&(ve=1),d[Ce++]=Z-(Z-Q)*ve|0,d[Ce++]=X-(X-ee)*ve|0,d[Ce++]=V-(V-ie)*ve|0,d[Ce++]=255}}function i5(n,e,t){const s=e.coords,r=e.colors;let i,a;switch(e.type){case"lattice":const o=e.verticesPerRow,c=Math.floor(s.length/o)-1,u=o-1;for(i=0;i<c;i++){let d=i*o;for(let h=0;h<u;h++,d++)fy(n,t,s[d],s[d+1],s[d+o],r[d],r[d+1],r[d+o]),fy(n,t,s[d+o+1],s[d+1],s[d+o],r[d+o+1],r[d+1],r[d+o])}break;case"triangles":for(i=0,a=s.length;i<a;i+=3)fy(n,t,s[i],s[i+1],s[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class a5 extends Cb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),g=u/h,m=d/p,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/g,scaleY:1/m},S=h+2*2,x=p+2*2,w=s.getCanvas("mesh",S,x),y=w.context,_=y.createImageData(h,p);if(t){const k=_.data;for(let R=0,N=k.length;R<N;R+=4)k[R]=t[0],k[R+1]=t[1],k[R+2]=t[2],k[R+3]=255}for(const k of this._figures)i5(_,k,v);return y.putImageData(_,2,2),{canvas:w.canvas,offsetX:o-2*g,offsetY:c-2*m,scaleX:g,scaleY:m}}getPattern(e,t,s,r){d1(e,this._bbox);let i;if(r===En.SHADING)i=ne.singularValueDecompose2dScale(nt(e));else if(i=ne.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=ne.singularValueDecompose2dScale(this.matrix);i=[i[0]*o[0],i[1]*o[1]]}const a=this._createMeshCanvas(i,r===En.SHADING?null:this._background,t.cachedCanvases);return r!==En.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class o5 extends Cb{getPattern(){return"hotpink"}}function l5(n){switch(n[0]){case"RadialAxial":return new r5(n);case"Mesh":return new a5(n);case"Dummy":return new o5}throw new Error(`Unknown IR type: ${n[0]}`)}const dA={COLORED:1,UNCOLORED:2},Fg=class Fg{constructor(e,t,s,r,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:r,tilingType:i,color:a,canvasGraphicsFactory:o}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),b0("TilingType: "+i);const d=t[0],h=t[1],p=t[2],g=t[3],m=p-d,v=g-h,S=ne.singularValueDecompose2dScale(this.matrix),x=ne.singularValueDecompose2dScale(this.baseTransform),w=S[0]*x[0],y=S[1]*x[1];let _=m,C=v,k=!1,R=!1;const N=Math.ceil(c*w),O=Math.ceil(u*y),j=Math.ceil(m*w),I=Math.ceil(v*y);N>=j?_=c:k=!0,O>=I?C=u:R=!0;const B=this.getSizeAndScale(_,this.ctx.canvas.width,w),H=this.getSizeAndScale(C,this.ctx.canvas.height,y),$=e.cachedCanvases.getCanvas("pattern",B.size,H.size),Z=$.context,X=o.createCanvasGraphics(Z);if(X.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(X,r,a),Z.translate(-B.scale*d,-H.scale*h),X.transform(B.scale,0,0,H.scale,0,0),Z.save(),this.clipBbox(X,d,h,p,g),X.baseTransform=nt(X.ctx),X.executeOperatorList(s),X.endDrawing(),Z.restore(),k||R){const V=$.canvas;k&&(_=c),R&&(C=u);const F=this.getSizeAndScale(_,this.ctx.canvas.width,w),Q=this.getSizeAndScale(C,this.ctx.canvas.height,y),ee=F.size,ie=Q.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",ee,ie),ve=ae.context,Me=k?Math.floor(m/c):0,ht=R?Math.floor(v/u):0;for(let Ce=0;Ce<=Me;Ce++)for(let me=0;me<=ht;me++)ve.drawImage(V,ee*Ce,ie*me,ee,ie,0,0,ee,ie);return{canvas:ae.canvas,scaleX:F.scale,scaleY:Q.scale,offsetX:d,offsetY:h}}return{canvas:$.canvas,scaleX:B.scale,scaleY:H.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,s){const r=Math.max(Fg.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=r?i=r:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,r,i){const a=r-t,o=i-s;e.ctx.rect(t,s,a,o),e.current.updateRectMinMax(nt(e.ctx),[t,s,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,i=e.current;switch(t){case dA.COLORED:const a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,i.fillColor=a.fillStyle,i.strokeColor=a.strokeStyle;break;case dA.UNCOLORED:const o=ne.makeHexColor(s[0],s[1],s[2]);r.fillStyle=o,r.strokeStyle=o,i.fillColor=o,i.strokeColor=o;break;default:throw new LF(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,r){let i=s;r!==En.SHADING&&(i=ne.transform(i,t.baseTransform),this.matrix&&(i=ne.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(i);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};oe(Fg,"MAX_PATTERN_SIZE",3e3);let h1=Fg;function c5({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const o=Cn.isLittleEndian?4278190080:255,[c,u]=a?[i,o]:[o,i],d=s>>3,h=s&7,p=n.length;t=new Uint32Array(t.buffer);let g=0;for(let m=0;m<r;m++){for(const S=e+d;e<S;e++){const x=e<p?n[e]:255;t[g++]=x&128?u:c,t[g++]=x&64?u:c,t[g++]=x&32?u:c,t[g++]=x&16?u:c,t[g++]=x&8?u:c,t[g++]=x&4?u:c,t[g++]=x&2?u:c,t[g++]=x&1?u:c}if(h===0)continue;const v=e<p?n[e++]:255;for(let S=0;S<h;S++)t[g++]=v&1<<7-S?u:c}return{srcPos:e,destPos:g}}const hA=16,fA=100,u5=15,pA=10,mA=1e3,In=16;function d5(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(s,r){e.translate(s,r),this.__originalTranslate(s,r)},n.scale=function(s,r){e.scale(s,r),this.__originalScale(s,r)},n.transform=function(s,r,i,a,o,c){e.transform(s,r,i,a,o,c),this.__originalTransform(s,r,i,a,o,c)},n.setTransform=function(s,r,i,a,o,c){e.setTransform(s,r,i,a,o,c),this.__originalSetTransform(s,r,i,a,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){e.rotate(s),this.__originalRotate(s)},n.clip=function(s){e.clip(s),this.__originalClip(s)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,i,a,o){e.bezierCurveTo(t,s,r,i,a,o),this.__originalBezierCurveTo(t,s,r,i,a,o)},n.rect=function(t,s,r,i){e.rect(t,s,r,i),this.__originalRect(t,s,r,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class h5{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Up(n,e,t,s,r,i,a,o,c,u){const[d,h,p,g,m,v]=nt(n);if(h===0&&p===0){const w=a*d+m,y=Math.round(w),_=o*g+v,C=Math.round(_),k=(a+c)*d+m,R=Math.abs(Math.round(k)-y)||1,N=(o+u)*g+v,O=Math.abs(Math.round(N)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(g),y,C),n.drawImage(e,t,s,r,i,0,0,R,O),n.setTransform(d,h,p,g,m,v),[R,O]}if(d===0&&g===0){const w=o*p+m,y=Math.round(w),_=a*h+v,C=Math.round(_),k=(o+u)*p+m,R=Math.abs(Math.round(k)-y)||1,N=(a+c)*h+v,O=Math.abs(Math.round(N)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(p),0,y,C),n.drawImage(e,t,s,r,i,0,0,O,R),n.setTransform(d,h,p,g,m,v),[O,R]}n.drawImage(e,t,s,r,i,a,o,c,u);const S=Math.hypot(d,h),x=Math.hypot(p,g);return[S*c,x*u]}function f5(n){const{width:e,height:t}=n;if(e>mA||t>mA)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let a=new Uint8Array(i*(t+1)),o,c,u;const d=e+7&-8;let h=new Uint8Array(d*t),p=0;for(const x of n.data){let w=128;for(;w>0;)h[p++]=x&w?0:255,w>>=1}let g=0;for(p=0,h[p]!==0&&(a[0]=1,++g),c=1;c<e;c++)h[p]!==h[p+1]&&(a[c]=h[p]?2:1,++g),p++;for(h[p]!==0&&(a[c]=2,++g),o=1;o<t;o++){p=o*d,u=o*i,h[p-d]!==h[p]&&(a[u]=h[p]?1:8,++g);let x=(h[p]?4:0)+(h[p-d]?8:0);for(c=1;c<e;c++)x=(x>>2)+(h[p+1]?4:0)+(h[p-d+1]?8:0),r[x]&&(a[u+c]=r[x],++g),p++;if(h[p-d]!==h[p]&&(a[u+c]=h[p]?2:4,++g),g>s)return null}for(p=d*(t-1),u=o*i,h[p]!==0&&(a[u]=8,++g),c=1;c<e;c++)h[p]!==h[p+1]&&(a[u+c]=h[p]?4:8,++g),p++;if(h[p]!==0&&(a[u+c]=4,++g),g>s)return null;const m=new Int32Array([0,i,-1,0,-i,0,0,0,1]),v=new Path2D;for(o=0;g&&o<=t;o++){let x=o*i;const w=x+e;for(;x<w&&!a[x];)x++;if(x===w)continue;v.moveTo(x%i,o);const y=x;let _=a[x];do{const C=m[_];do x+=C;while(!a[x]);const k=a[x];k!==5&&k!==10?(_=k,a[x]=0):(_=k&51*_>>4,a[x]&=_>>2|_<<2),v.lineTo(x%i,x/i|0),a[x]||--g}while(y!==x);--o}return h=null,a=null,function(x){x.save(),x.scale(1/e,-1/t),x.translate(0,-t),x.fill(v),x.beginPath(),x.restore()}}class gA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_C,this.textMatrixScale=1,this.fontMatrix=Iv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=rn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=ne.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=ne.applyTransform(t,e),r=ne.applyTransform(t.slice(2),e),i=ne.applyTransform([t[0],t[3]],e),a=ne.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],r[0],i[0],a[0]),this.minY=Math.min(this.minY,s[1],r[1],i[1],a[1]),this.maxX=Math.max(this.maxX,s[0],r[0],i[0],a[0]),this.maxY=Math.max(this.maxY,s[1],r[1],i[1],a[1])}updateScalingPathMinMax(e,t){ne.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,r,i,a,o,c,u,d){const h=ne.bezierBoundingBox(t,s,r,i,a,o,c,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=En.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===En.STROKE){t||Ge("Stroke bounding box must include transform.");const r=ne.singularValueDecompose2dScale(t),i=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;s[0]-=i,s[1]-=a,s[2]+=i,s[3]+=a}return s}updateClipFromPath(){const e=ne.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=En.FILL,t=null){return ne.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function yA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%In,i=(t-r)/In,a=r===0?i:i+1,o=n.createImageData(s,In);let c=0,u;const d=e.data,h=o.data;let p,g,m,v;if(e.kind===dm.GRAYSCALE_1BPP){const S=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),w=x.length,y=s+7>>3,_=4294967295,C=Cn.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(m=p<i?In:r,u=0,g=0;g<m;g++){const k=S-c;let R=0;const N=k>y?s:k*8-7,O=N&-8;let j=0,I=0;for(;R<O;R+=8)I=d[c++],x[u++]=I&128?_:C,x[u++]=I&64?_:C,x[u++]=I&32?_:C,x[u++]=I&16?_:C,x[u++]=I&8?_:C,x[u++]=I&4?_:C,x[u++]=I&2?_:C,x[u++]=I&1?_:C;for(;R<N;R++)j===0&&(I=d[c++],j=128),x[u++]=I&j?_:C,j>>=1}for(;u<w;)x[u++]=0;n.putImageData(o,0,p*In)}}else if(e.kind===dm.RGBA_32BPP){for(g=0,v=s*In*4,p=0;p<i;p++)h.set(d.subarray(c,c+v)),c+=v,n.putImageData(o,0,g),g+=In;p<a&&(v=s*r*4,h.set(d.subarray(c,c+v)),n.putImageData(o,0,g))}else if(e.kind===dm.RGB_24BPP)for(m=In,v=s*m,p=0;p<a;p++){for(p>=i&&(m=r,v=s*m),u=0,g=v;g--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(o,0,p*In)}else throw new Error(`bad image kind: ${e.kind}`)}function vA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%In,i=(t-r)/In,a=r===0?i:i+1,o=n.createImageData(s,In);let c=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const p=h<i?In:r;({srcPos:c}=c5({src:u,srcPos:c,dest:d,width:s,height:p,nonBlackColor:0})),n.putImageData(o,0,h*In)}}function Rd(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function $p(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!pn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function xA(n,e){if(e)return!0;const t=ne.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*ro.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const p5=["butt","round","square"],m5=["miter","round","bevel"],g5={},bA={};var oo,f1,p1;const jb=class jb{constructor(e,t,s,r,i,{optionalContentConfig:a,markedContentStack:o=null},c,u){E(this,oo);this.ctx=e,this.current=new gA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new h5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=o,s){const c=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...nt(this.compositeCtx))}this.ctx.save(),$p(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=nt(this.ctx)}executeOperatorList(e,t,s,r){const i=e.argsArray,a=e.fnArray;let o=t||0;const c=i.length;if(c===o)return o;const u=c-o>pA&&typeof s=="function",d=u?Date.now()+u5:0;let h=0;const p=this.commonObjs,g=this.objs;let m;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,s),o;if(m=a[o],m!==Fs.dependency)this[m].apply(this,i[o]);else for(const v of i[o]){const S=v.startsWith("g_")?p:g;if(!S.has(v))return S.get(v,s),o}if(o++,o===c)return o;if(u&&++h>pA){if(Date.now()>d)return s(),o;h=0}}}endDrawing(){A(this,oo,f1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,oo,p1).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=s,c=r,u="prescale1",d,h;for(;i>2&&o>1||a>2&&c>1;){let p=o,g=c;i>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/p),a>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/g),d=this.cachedCanvases.getCanvas(u,p,g),h=d.context,h.clearRect(0,0,p,g),h.drawImage(e,0,0,o,c,0,0,p,g),e=d.canvas,o=p,c=g,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:r}=e,i=this.current.fillColor,a=this.current.patternFill,o=nt(t);let c,u,d,h;if((e.bitmap||e.data)&&e.count>1){const N=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),i]),c=this._cachedBitmapsMap.get(N),c||(c=new Map,this._cachedBitmapsMap.set(N,c));const O=c.get(u);if(O&&!a){const j=Math.round(Math.min(o[0],o[2])+o[4]),I=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:j,offsetY:I}}d=O}d||(h=this.cachedCanvases.getCanvas("maskCanvas",s,r),vA(h.context,e));let p=ne.transform(o,[1/s,0,0,-1/r,0,0]);p=ne.transform(p,[1,0,0,1,0,-r]);const[g,m,v,S]=ne.getAxialAlignedBoundingBox([0,0,s,r],p),x=Math.round(v-g)||1,w=Math.round(S-m)||1,y=this.cachedCanvases.getCanvas("fillCanvas",x,w),_=y.context,C=g,k=m;_.translate(-C,-k),_.transform(...p),d||(d=this._scaleImage(h.canvas,Vr(_)),d=d.img,c&&a&&c.set(u,d)),_.imageSmoothingEnabled=xA(nt(_),e.interpolate),Up(_,d,0,0,d.width,d.height,0,0,s,r),_.globalCompositeOperation="source-in";const R=ne.transform(Vr(_),[1,0,0,1,-C,-k]);return _.fillStyle=a?i.getPattern(t,this,R,En.FILL):i,_.fillRect(0,0,s,r),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,y.canvas)),{canvas:y.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=p5[e]}setLineJoin(e){this.ctx.lineJoin=m5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...nt(this.suspendedCtx)),Rd(this.suspendedCtx,i),d5(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Rd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const i=r[0],a=r[1],o=r[2]-i,c=r[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,s,o,c,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,i,a,o,c,u,d,h){let p=e.canvas,g=c-d,m=u-h;if(a){const S=ne.makeHexColor(...a);if(g<0||m<0||g+s>p.width||m+r>p.height){const x=this.cachedCanvases.getCanvas("maskExtension",s,r),w=x.context;w.drawImage(p,-g,-m),w.globalCompositeOperation="destination-atop",w.fillStyle=S,w.fillRect(0,0,s,r),w.globalCompositeOperation="source-over",p=x.canvas,g=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(g,m,s,r),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(g,m,s,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(c,u,s,r),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(p,g,m,s,r,c,u,s,r),t.restore()}save(){this.inSMaskMode?(Rd(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Rd(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,r,i,a){this.ctx.transform(e,t,s,r,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const r=this.ctx,i=this.current;let a=i.x,o=i.y,c,u;const d=nt(r),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=h?s.slice(0):null;for(let g=0,m=0,v=e.length;g<v;g++)switch(e[g]|0){case Fs.rectangle:a=t[m++],o=t[m++];const S=t[m++],x=t[m++],w=a+S,y=o+x;r.moveTo(a,o),S===0||x===0?r.lineTo(w,y):(r.lineTo(w,o),r.lineTo(w,y),r.lineTo(a,y)),h||i.updateRectMinMax(d,[a,o,w,y]),r.closePath();break;case Fs.moveTo:a=t[m++],o=t[m++],r.moveTo(a,o),h||i.updatePathMinMax(d,a,o);break;case Fs.lineTo:a=t[m++],o=t[m++],r.lineTo(a,o),h||i.updatePathMinMax(d,a,o);break;case Fs.curveTo:c=a,u=o,a=t[m+4],o=t[m+5],r.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],a,o),i.updateCurvePathMinMax(d,c,u,t[m],t[m+1],t[m+2],t[m+3],a,o,p),m+=6;break;case Fs.curveTo2:c=a,u=o,r.bezierCurveTo(a,o,t[m],t[m+1],t[m+2],t[m+3]),i.updateCurvePathMinMax(d,c,u,a,o,t[m],t[m+1],t[m+2],t[m+3],p),a=t[m+2],o=t[m+3],m+=4;break;case Fs.curveTo3:c=a,u=o,a=t[m+2],o=t[m+3],r.bezierCurveTo(t[m],t[m+1],a,o,a,o),i.updateCurvePathMinMax(d,c,u,t[m],t[m+1],a,o,a,o,p),m+=4;break;case Fs.closePath:r.closePath();break}h&&i.updateScalingPathMinMax(d,p),i.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,Vr(t),En.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let i=!1;r&&(t.save(),t.fillStyle=s.getPattern(t,this,Vr(t),En.FILL),i=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=g5}eoClip(){this.pendingClip=bA}beginText(){this.current.textMatrix=_C,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||Iv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ge("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const i=s.loadedName||"sans-serif",a=((d=s.systemFontInfo)==null?void 0:d.css)||`"${i}", ${s.fallbackName}`;let o="normal";s.black?o="900":s.bold&&(o="bold");const c=s.italic?"italic":"normal";let u=t;t<hA?u=hA:t>fA&&(u=fA),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,r,i,a){this.current.textMatrix=[e,t,s,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r){const i=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&rn.FILL_STROKE_MASK,h=!!(c&rn.ADD_TO_PATH_FLAG),p=a.patternFill&&!o.missingFile;let g;(o.disableFontFace||h||p)&&(g=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||p?(i.save(),i.translate(t,s),i.beginPath(),g(i,u),r&&i.setTransform(...r),(d===rn.FILL||d===rn.FILL_STROKE)&&i.fill(),(d===rn.STROKE||d===rn.FILL_STROKE)&&i.stroke(),i.restore()):((d===rn.FILL||d===rn.FILL_STROKE)&&i.fillText(e,t,s),(d===rn.STROKE||d===rn.FILL_STROKE)&&i.strokeText(e,t,s)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:nt(i),x:t,y:s,fontSize:u,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return Se(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const i=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,p=s.vertical,g=p?1:-1,m=s.defaultVMetrics,v=r*t.fontMatrix[0],S=t.textRenderingMode===rn.FILL&&!s.disableFontFace&&!t.patternFill;i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let x;if(t.patternFill){i.save();const k=t.fillColor.getPattern(i,this,Vr(i),En.FILL);x=nt(i),i.restore(),i.fillStyle=k}let w=t.lineWidth;const y=t.textMatrixScale;if(y===0||w===0){const k=t.textRenderingMode&rn.FILL_STROKE_MASK;(k===rn.STROKE||k===rn.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=y;if(a!==1&&(i.scale(a,a),w/=a),i.lineWidth=w,s.isInvalidPDFjsFont){const k=[];let R=0;for(const N of e)k.push(N.unicode),R+=N.width;i.fillText(k.join(""),0,0),t.x+=R*v*d,i.restore(),this.compose();return}let _=0,C;for(C=0;C<h;++C){const k=e[C];if(typeof k=="number"){_+=g*k*r/1e3;continue}let R=!1;const N=(k.isSpace?c:0)+o,O=k.fontChar,j=k.accent;let I,B,H=k.width;if(p){const Z=k.vmetric||m,X=-(k.vmetric?Z[1]:H*.5)*v,V=Z[2]*v;H=Z?-Z[0]:H,I=X/a,B=(_+V)/a}else I=_/a,B=0;if(s.remeasure&&H>0){const Z=i.measureText(O).width*1e3/r*a;if(H<Z&&this.isFontSubpixelAAEnabled){const X=H/Z;R=!0,i.save(),i.scale(X,1),I/=X}else H!==Z&&(I+=(H-Z)/2e3*r/a)}if(this.contentVisible&&(k.isInFont||s.missingFile)){if(S&&!j)i.fillText(O,I,B);else if(this.paintChar(O,I,B,x),j){const Z=I+r*j.offset.x/a,X=B-r*j.offset.y/a;this.paintChar(j.fontChar,Z,X,x)}}const $=p?H*v-N*u:H*v+N*u;_+=$,R&&i.restore()}p?t.y-=_:t.x+=_*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,r=s.font,i=s.fontSize,a=s.fontDirection,o=r.vertical?1:-1,c=s.charSpacing,u=s.wordSpacing,d=s.textHScale*a,h=s.fontMatrix||Iv,p=e.length,g=s.textRenderingMode===rn.INVISIBLE;let m,v,S,x;if(!(g||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(d,a),m=0;m<p;++m){if(v=e[m],typeof v=="number"){x=o*v*i/1e3,this.ctx.translate(x,0),s.x+=x*d;continue}const w=(v.isSpace?u:0)+c,y=r.charProcOperatorList[v.operatorListId];if(!y){ge(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(y),this.restore()),S=ne.applyTransform([v.width,0],h)[0]*i+w,t.translate(S,0),s.x+=S*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,r,i,a){this.ctx.rect(s,r,i-s,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],r=this.baseTransform||nt(this.ctx),i={createCanvasGraphics:a=>new jb(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new h1(e,s,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=ne.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=ne.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=l5(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,Vr(t),En.SHADING);const r=Vr(t);if(r){const{width:i,height:a}=t.canvas,[o,c,u,d]=ne.getAxialAlignedBoundingBox([0,0,i,a],r);this.ctx.fillRect(o,c,u-o,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ge("Should not call beginInlineImage")}beginImageData(){Ge("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=nt(this.ctx),t)){const s=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],s,r),this.current.updateRectMinMax(nt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||b0("TODO: Support non-isolated groups."),e.knockout&&ge("Knockout groups not supported.");const s=nt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ne.getAxialAlignedBoundingBox(e.bbox,nt(t));const i=[0,0,t.canvas.width,t.canvas.height];r=ne.intersect(r,i)||[0,0,0,0];const a=Math.floor(r[0]),o=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-a,1),u=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),p=h.context;p.translate(-a,-o),p.transform(...s),e.smask?this.smaskStack.push({canvas:h.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Rd(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=nt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const i=ne.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,s,r,i){if(A(this,oo,f1).call(this),$p(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(i&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,u]=ne.singularValueDecompose2dScale(nt(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),p=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,o*u),$p(this.ctx)}else $p(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new gA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,oo,p1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=f5(e)),r.compiled)){r.compiled(s);return}const i=this._createMaskCanvas(e),a=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,i.offsetX,i.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,r=0,i,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const c=nt(o);o.transform(t,s,r,i,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=a.length;d<h;d+=2){const p=ne.transform(c,[t,s,r,i,a[d],a[d+1]]),[g,m]=ne.applyTransform([0,0],p);o.drawImage(u.canvas,g,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:a,width:o,height:c,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",o,c),h=d.context;h.save();const p=this.getObject(a,i);vA(h,p),h.globalCompositeOperation="source-in",h.fillStyle=r?s.getPattern(h,this,Vr(t),En.FILL):s,h.fillRect(0,0,o,c),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Up(t,d.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ge("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){ge("Dependent image isn't ready yet");return}const a=i.width,o=i.height,c=[];for(let u=0,d=r.length;u<d;u+=2)c.push({transform:[t,0,0,s,r[u],r[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;if(this.save(),!pn){const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none")}r.scale(1/t,-1/s);let i;if(e.bitmap)i=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)i=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,s).context;yA(c,e),i=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(i,Vr(r));r.imageSmoothingEnabled=xA(nt(r),e.interpolate),Up(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const i=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",i,a).context;yA(c,e),r=this.applyTransferMapsToCanvas(c)}for(const i of t)s.save(),s.transform(...i.transform),s.scale(1,-1),Up(s,r,i.x,i.y,i.w,i.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===bA?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=nt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:i}=this.ctx.getTransform();let a,o;if(s===0&&r===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(e===0)a=o=1/c;else{const d=c*e;a=o=d<1?1/d:1}else if(e===0)a=1/c,o=1/u;else{const d=c*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const c=Math.abs(t*i-s*r),u=Math.hypot(t,s),d=Math.hypot(r,i);if(e===0)a=d/c,o=u/c;else{const h=e*c;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=s||1,r===1&&i===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(r,i),a.length>0){const o=Math.max(r,i);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};oo=new WeakSet,f1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},p1=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Bc=jb;for(const n in Fs)Bc.prototype[n]!==void 0&&(Bc.prototype[Fs[n]]=Bc.prototype[n]);var cf,uf;class _i{static get workerPort(){return l(this,cf)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,cf,e)}static get workerSrc(){return l(this,uf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,uf,e)}}cf=new WeakMap,uf=new WeakMap,E(_i,cf,null),E(_i,uf,"");const Vp={DATA:1,ERROR:2},xt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ge('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ac(n.message);case"MissingPDFException":return new ic(n.message);case"PasswordException":return new zv(n.message,n.code);case"UnexpectedResponseException":return new w0(n.message,n.status);case"UnknownErrorException":return new Hv(n.message,n.details);default:return new Hv(n.message,n.toString())}}var yu,Ts,c4,u4,d4,xm;class Wd{constructor(e,t,s){E(this,Ts);E(this,yu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",A(this,Ts,c4).bind(this),{signal:l(this,yu).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,s,r){const i=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:i,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,c.postMessage({sourceName:a,targetName:o,stream:xt.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Lt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:xt.CANCEL,streamId:i,reason:Yn(u)}),d.promise}},s)}destroy(){var e;(e=l(this,yu))==null||e.abort(),b(this,yu,null)}}yu=new WeakMap,Ts=new WeakSet,c4=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,Ts,d4).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Vp.DATA)r.resolve(e.data);else if(e.callback===Vp.ERROR)r.reject(Yn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,i=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){i.postMessage({sourceName:s,targetName:r,callback:Vp.DATA,callbackId:e.callbackId,data:a})},function(a){i.postMessage({sourceName:s,targetName:r,callback:Vp.ERROR,callbackId:e.callbackId,reason:Yn(a)})});return}if(e.streamId){A(this,Ts,u4).call(this,e);return}t(e.data)},u4=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:r,stream:xt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:xt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Lt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:xt.ERROR,streamId:t,reason:Yn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(u){u(o(e.data,c))}).then(function(){i.postMessage({sourceName:s,targetName:r,stream:xt.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:xt.START_COMPLETE,streamId:t,reason:Yn(u)})})},d4=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case xt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Yn(e.reason));break;case xt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Yn(e.reason));break;case xt.PULL:if(!o){i.postMessage({sourceName:s,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(c){var u;c((u=o.onPull)==null?void 0:u.call(o))}).then(function(){i.postMessage({sourceName:s,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:s,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,reason:Yn(c)})});break;case xt.ENQUEUE:if(Lt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case xt.CLOSE:if(Lt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),A(this,Ts,xm).call(this,a,t);break;case xt.ERROR:Lt(a,"error should have stream controller"),a.controller.error(Yn(e.reason)),A(this,Ts,xm).call(this,a,t);break;case xt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Yn(e.reason)),A(this,Ts,xm).call(this,a,t);break;case xt.CANCEL:if(!o)break;new Promise(function(c){var u;c((u=o.onCancel)==null?void 0:u.call(o,Yn(e.reason)))}).then(function(){i.postMessage({sourceName:s,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:s,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,reason:Yn(c)})}),o.sinkCapability.reject(Yn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},xm=async function(e,t){var s,r,i;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var ol,df;class y5{constructor({parsedData:e,rawData:t}){E(this,ol);E(this,df);b(this,ol,e),b(this,df,t)}getRaw(){return l(this,df)}get(e){return l(this,ol).get(e)??null}getAll(){return xb(l(this,ol))}has(e){return l(this,ol).has(e)}}ol=new WeakMap,df=new WeakMap;const yc=Symbol("INTERNAL");var hf,ff,pf,vu;class v5{constructor(e,{name:t,intent:s,usage:r,rbGroups:i}){E(this,hf,!1);E(this,ff,!1);E(this,pf,!1);E(this,vu,!0);b(this,hf,!!(e&rs.DISPLAY)),b(this,ff,!!(e&rs.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=i}get visible(){if(l(this,pf))return l(this,vu);if(!l(this,vu))return!1;const{print:e,view:t}=this.usage;return l(this,hf)?(t==null?void 0:t.viewState)!=="OFF":l(this,ff)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==yc&&Ge("Internal method `_setVisible` called."),b(this,pf,s),b(this,vu,t)}}hf=new WeakMap,ff=new WeakMap,pf=new WeakMap,vu=new WeakMap;var _a,je,xu,bu,mf,m1;class x5{constructor(e,t=rs.DISPLAY){E(this,mf);E(this,_a,null);E(this,je,new Map);E(this,xu,null);E(this,bu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,bu,e.order);for(const s of e.groups)l(this,je).set(s.id,new v5(t,s));if(e.baseState==="OFF")for(const s of l(this,je).values())s._setVisible(yc,!1);for(const s of e.on)l(this,je).get(s)._setVisible(yc,!0);for(const s of e.off)l(this,je).get(s)._setVisible(yc,!1);b(this,xu,this.getHash())}}isVisible(e){if(l(this,je).size===0)return!0;if(!e)return b0("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,je).has(e.id)?l(this,je).get(e.id).visible:(ge(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,mf,m1).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,je).has(t))return ge(`Optional content group not found: ${t}`),!0;if(l(this,je).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,je).has(t))return ge(`Optional content group not found: ${t}`),!0;if(!l(this,je).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,je).has(t))return ge(`Optional content group not found: ${t}`),!0;if(!l(this,je).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,je).has(t))return ge(`Optional content group not found: ${t}`),!0;if(l(this,je).get(t).visible)return!1}return!0}return ge(`Unknown optional content policy ${e.policy}.`),!0}return ge(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var i;const r=l(this,je).get(e);if(!r){ge(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((i=l(this,je).get(o))==null||i._setVisible(yc,!1,!0));r._setVisible(yc,!!t,!0),b(this,_a,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const i=l(this,je).get(r);if(i)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}b(this,_a,null)}get hasInitialVisibility(){return l(this,xu)===null||this.getHash()===l(this,xu)}getOrder(){return l(this,je).size?l(this,bu)?l(this,bu).slice():[...l(this,je).keys()]:null}getGroups(){return l(this,je).size>0?xb(l(this,je)):null}getGroup(e){return l(this,je).get(e)||null}getHash(){if(l(this,_a)!==null)return l(this,_a);const e=new JC;for(const[t,s]of l(this,je))e.update(`${t}:${s.visible}`);return b(this,_a,e.hexdigest())}}_a=new WeakMap,je=new WeakMap,xu=new WeakMap,bu=new WeakMap,mf=new WeakSet,m1=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const i=e[r];let a;if(Array.isArray(i))a=A(this,mf,m1).call(this,i);else if(l(this,je).has(i))a=l(this,je).get(i).visible;else return ge(`Optional content group not found: ${i}`),!0;switch(s){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return s==="And"};class b5{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Lt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(s),!0)});Lt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,i;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Lt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new w5(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new A5(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class w5{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=Ab(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class A5{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function S5(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=c(d),d=u(d),i(d)}if(t=a(n),t){const d=u(t);return i(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),i(d)}function s(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),g=A0(h);h=p.decode(g),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let p;const g=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(d))!==null;){let[,v,S,x]=p;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[S,x]}const m=[];for(let v=0;v<h.length&&v in h;++v){let[S,x]=h[v];x=o(x),S&&(x=unescape(x),v===0&&(x=c(x))),m.push(x)}return m.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const g=h[p].indexOf('"');g!==-1&&(h[p]=h[p].slice(0,g),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return r(p,m)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,g,m){if(g==="q"||g==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,S){return String.fromCharCode(parseInt(S,16))}),r(p,m);try{m=atob(m)}catch{}return r(p,m)})}return""}function kb(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function Tb({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Pb(n){const e=n.get("Content-Disposition");if(e){let t=S5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Ab(t))return t}return null}function _0(n,e){return n===404||n===0&&e.startsWith("file:")?new ic('Missing PDF "'+e+'".'):new w0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function h4(n){return n===200||n===206}function f4(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function p4(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ge(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class wA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=kb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new E5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new _5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class E5{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,f4(s,this._withCredentials,this._abortController)).then(i=>{if(!h4(i.status))throw _0(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const a=i.headers,{allowRangeRequests:o,suggestedLength:c}=Tb({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=Pb(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ac("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:p4(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class _5{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${s-1}`);const a=r.url;fetch(a,f4(i,this._withCredentials,this._abortController)).then(o=>{if(!h4(o.status))throw _0(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:p4(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const py=200,my=206;function C5(n){const e=n.response;return typeof e!="string"?e:A0(e).buffer}class k5{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=kb(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const r={begin:e,end:t};for(const i in s)r[i]=s[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=my):r.expectedStatus=py,t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){var c,u,d;const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(c=s.onError)==null||c.call(s,r.status);return}const i=r.status||py;if(!(i===py&&s.expectedStatus===my)&&i!==s.expectedStatus){(u=s.onError)==null||u.call(s,r.status);return}const o=C5(r);if(i===my){const h=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);s.onDone({begin:parseInt(p[1],10),chunk:o})}else o?s.onDone({begin:0,chunk:o}):(d=s.onError)==null||d.call(s,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class T5{constructor(e){this._source=e,this._manager=new k5(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Lt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P5(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new R5(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class P5{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[o,...c]=a.split(": ");return[o,c.join(": ")]})),{allowRangeRequests:r,suggestedLength:i}=Tb({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=Pb(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=_0(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class R5{constructor(e,t,s){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=_0(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const N5=/^[a-z][a-z0-9\-+.]+:/i;function M5(n){if(N5.test(n))return new URL(n);const e=io.get("url");return new URL(e.pathToFileURL(n))}function m4(n,e,t){return n.protocol==="http:"?io.get("http").request(n,{headers:e},t):io.get("https").request(n,{headers:e},t)}class L5{constructor(e){this.source=e,this.url=M5(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=kb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Lt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O5(this):new j5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new D5(this,e,t):new F5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class g4{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ac("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class y4{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class j5 extends g4{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=r=>{if(r.statusCode===404){const c=new ic(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=Tb({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=Pb(i)};this._request=m4(this._url,t,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class F5 extends y4{constructor(e,t,s){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${s-1}`;const i=a=>{if(a.statusCode===404){const o=new ic(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=m4(this._url,r,i),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class O5 extends g4{constructor(e){super(e);const t=io.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new ic(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class D5 extends y4{constructor(e,t,s){super(e);const r=io.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}}const I5=1e5,Nn=30,z5=.8;var qA,Ca,On,gf,yf,ll,oi,vf,xf,cl,wu,Au,ka,Su,bf,Eu,ul,wf,Af,lt,dl,hl,Sf,Ta,_u,zi,v4,x4,y1,us,bm,v1,b4,w4;let g1=(lt=class{constructor({textContentSource:e,container:t,viewport:s}){E(this,zi);E(this,Ca,Promise.withResolvers());E(this,On,null);E(this,gf,!1);E(this,yf,!!((qA=globalThis.FontInspector)!=null&&qA.enabled));E(this,ll,null);E(this,oi,null);E(this,vf,0);E(this,xf,0);E(this,cl,null);E(this,wu,null);E(this,Au,0);E(this,ka,0);E(this,Su,Object.create(null));E(this,bf,[]);E(this,Eu,null);E(this,ul,[]);E(this,wf,new WeakMap);E(this,Af,null);var c;if(e instanceof ReadableStream)b(this,Eu,e);else if(typeof e=="object")b(this,Eu,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,On,b(this,wu,t)),b(this,ka,s.scale*(globalThis.devicePixelRatio||1)),b(this,Au,s.rotation),b(this,oi,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:a,pageY:o}=s.rawDims;b(this,Af,[1,0,0,-1,-a,o+i]),b(this,xf,r),b(this,vf,i),A(c=lt,us,b4).call(c),Kl(t,s),l(this,Ca).promise.finally(()=>{l(lt,_u).delete(this),b(this,oi,null),b(this,Su,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Cn.platform;return Se(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,cl).read().then(({value:t,done:s})=>{if(s){l(this,Ca).resolve();return}l(this,ll)??b(this,ll,t.lang),Object.assign(l(this,Su),t.styles),A(this,zi,v4).call(this,t.items),e()},l(this,Ca).reject)};return b(this,cl,l(this,Eu).getReader()),l(lt,_u).add(this),e(),l(this,Ca).promise}update({viewport:e,onBefore:t=null}){var i;const s=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==l(this,Au)&&(t==null||t(),b(this,Au,r),Kl(l(this,wu),{rotation:r})),s!==l(this,ka)){t==null||t(),b(this,ka,s);const a={div:null,properties:null,ctx:A(i=lt,us,bm).call(i,l(this,ll))};for(const o of l(this,ul))a.properties=l(this,wf).get(o),a.div=o,A(this,zi,y1).call(this,a)}}cancel(){var t;const e=new ac("TextLayer task cancelled.");(t=l(this,cl))==null||t.cancel(e).catch(()=>{}),b(this,cl,null),l(this,Ca).reject(e)}get textDivs(){return l(this,ul)}get textContentItemsStr(){return l(this,bf)}static cleanup(){if(!(l(this,_u).size>0)){l(this,dl).clear();for(const{canvas:e}of l(this,hl).values())e.remove();l(this,hl).clear()}}},Ca=new WeakMap,On=new WeakMap,gf=new WeakMap,yf=new WeakMap,ll=new WeakMap,oi=new WeakMap,vf=new WeakMap,xf=new WeakMap,cl=new WeakMap,wu=new WeakMap,Au=new WeakMap,ka=new WeakMap,Su=new WeakMap,bf=new WeakMap,Eu=new WeakMap,ul=new WeakMap,wf=new WeakMap,Af=new WeakMap,dl=new WeakMap,hl=new WeakMap,Sf=new WeakMap,Ta=new WeakMap,_u=new WeakMap,zi=new WeakSet,v4=function(e){var r,i;if(l(this,gf))return;(i=l(this,oi)).ctx??(i.ctx=A(r=lt,us,bm).call(r,l(this,ll)));const t=l(this,ul),s=l(this,bf);for(const a of e){if(t.length>I5){ge("Ignoring additional textDivs for performance reasons."),b(this,gf,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=l(this,On);b(this,On,document.createElement("span")),l(this,On).classList.add("markedContent"),a.id!==null&&l(this,On).setAttribute("id",`${a.id}`),o.append(l(this,On))}else a.type==="endMarkedContent"&&b(this,On,l(this,On).parentNode);continue}s.push(a.str),A(this,zi,x4).call(this,a)}},x4=function(e){var v;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,ul).push(t);const r=ne.transform(l(this,Af),e.transform);let i=Math.atan2(r[1],r[0]);const a=l(this,Su)[e.fontName];a.vertical&&(i+=Math.PI/2);let o=l(this,yf)&&a.fontSubstitution||a.fontFamily;o=lt.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),u=c*A(v=lt,us,w4).call(v,o,l(this,ll));let d,h;i===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(i),h=r[5]-u*Math.cos(i));const p="calc(var(--scale-factor)*",g=t.style;l(this,On)===l(this,wu)?(g.left=`${(100*d/l(this,xf)).toFixed(2)}%`,g.top=`${(100*h/l(this,vf)).toFixed(2)}%`):(g.left=`${p}${d.toFixed(2)}px)`,g.top=`${p}${h.toFixed(2)}px)`),g.fontSize=`${p}${(l(lt,Ta)*c).toFixed(2)}px)`,g.fontFamily=o,s.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,yf)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),i!==0&&(s.angle=i*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);S!==x&&Math.max(S,x)/Math.min(S,x)>1.5&&(m=!0)}if(m&&(s.canvasWidth=a.vertical?e.height:e.width),l(this,wf).set(t,s),l(this,oi).div=t,l(this,oi).properties=s,A(this,zi,y1).call(this,l(this,oi)),s.hasText&&l(this,On).append(t),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),l(this,On).append(S)}},y1=function(e){var o;const{div:t,properties:s,ctx:r}=e,{style:i}=t;let a="";if(l(lt,Ta)>1&&(a=`scale(${1/l(lt,Ta)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:c}=i,{canvasWidth:u,fontSize:d}=s;A(o=lt,us,v1).call(o,r,d*l(this,ka),c);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*l(this,ka)/h}) ${a}`)}s.angle!==0&&(a=`rotate(${s.angle}deg) ${a}`),a.length>0&&(i.transform=a)},us=new WeakSet,bm=function(e=null){let t=l(this,hl).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,hl).set(e,t),l(this,Sf).set(t,{size:0,family:""})}return t},v1=function(e,t,s){const r=l(this,Sf).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},b4=function(){if(l(this,Ta)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Ta,e.getBoundingClientRect().height),e.remove()},w4=function(e,t){const s=l(this,dl).get(e);if(s)return s;const r=A(this,us,bm).call(this,t);r.canvas.width=r.canvas.height=Nn,A(this,us,v1).call(this,r,Nn,e);const i=r.measureText("");let a=i.fontBoundingBoxAscent,o=Math.abs(i.fontBoundingBoxDescent);if(a){const d=a/(a+o);return l(this,dl).set(e,d),r.canvas.width=r.canvas.height=0,d}r.strokeStyle="red",r.clearRect(0,0,Nn,Nn),r.strokeText("g",0,0);let c=r.getImageData(0,0,Nn,Nn).data;o=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){o=Math.ceil(d/4/Nn);break}r.clearRect(0,0,Nn,Nn),r.strokeText("A",0,Nn),c=r.getImageData(0,0,Nn,Nn).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=Nn-Math.floor(d/4/Nn);break}r.canvas.width=r.canvas.height=0;const u=a?a/(a+o):z5;return l(this,dl).set(e,u),u},E(lt,us),E(lt,dl,new Map),E(lt,hl,new Map),E(lt,Sf,new WeakMap),E(lt,Ta,null),E(lt,_u,new Set),lt);class Fh{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(i){var c;if(!i)return;let a=null;const o=i.name;if(o==="#text")a=i.value;else if(Fh.shouldBuildText(o))(c=i==null?void 0:i.attributes)!=null&&c.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const u of i.children)r(u)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const H5=65536,B5=100,U5=5e3,$5=pn?t5:JF,V5=pn?n5:s4,W5=pn?e5:ZF,q5=pn?s5:o4;function G5(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new x1,{docId:t}=e,s=n.url?X5(n.url):null,r=n.data?Y5(n.data):null,i=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof A4?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:H5;let d=n.worker instanceof Uc?n.worker:null;const h=n.verbosity,p=typeof n.docBaseUrl=="string"&&!E0(n.docBaseUrl)?n.docBaseUrl:null,g=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,v=n.CMapReaderFactory||V5,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,x=n.StandardFontDataFactory||q5,w=n.stopAtErrors!==!0,y=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!pn,k=typeof n.isChrome=="boolean"?n.isChrome:!Cn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),R=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:pn,O=n.fontExtraProperties===!0,j=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,B=n.disableRange===!0,H=n.disableStream===!0,$=n.disableAutoFetch===!0,Z=n.pdfBug===!0,X=n.CanvasFactory||$5,V=n.FilterFactory||W5,F=n.enableHWA===!0,Q=c?c.length:n.length??NaN,ee=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!pn&&!N,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===s4&&x===o4&&g&&S&&Id(g,document.baseURI)&&Id(S,document.baseURI);n.canvasFactory&&cA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&cA("`filterFactory`-instance option, please use `FilterFactory` instead.");const ae=null;PF(h);const ve={canvasFactory:new X({ownerDocument:I,enableHWA:F}),filterFactory:new V({docId:t,ownerDocument:I}),cMapReaderFactory:ie?null:new v({baseUrl:g,isCompressed:m}),standardFontDataFactory:ie?null:new x({baseUrl:S})};if(!d){const Ce={verbosity:h,port:_i.workerPort};d=Ce.port?Uc.fromPort(Ce):new Uc(Ce),e._worker=d}const Me={docId:t,apiVersion:"4.8.69",data:r,password:o,disableAutoFetch:$,rangeChunkSize:u,length:Q,docBaseUrl:p,enableXfa:j,evaluatorOptions:{maxImageSize:y,disableFontFace:N,ignoreErrors:w,isEvalSupported:_,isOffscreenCanvasSupported:C,isChrome:k,canvasMaxAreaInBytes:R,fontExtraProperties:O,useSystemFonts:ee,cMapUrl:ie?g:null,standardFontDataUrl:ie?S:null}},ht={disableFontFace:N,fontExtraProperties:O,ownerDocument:I,pdfBug:Z,styleElement:ae,loadingParams:{disableAutoFetch:$,enableXfa:j}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ce=d.messageHandler.sendWithPromise("GetDocRequest",Me,r?[r.buffer]:null);let me;if(c)me=new b5(c,{disableRange:B,disableStream:H});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Xn;pn?Xn=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Id(s)?wA:L5:Xn=Id(s)?wA:T5,me=new Xn({url:s,length:Q,httpHeaders:i,withCredentials:a,rangeChunkSize:u,disableRange:B,disableStream:H})}return Ce.then(Xn=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const gn=new Wd(t,Xn,d.port),Ie=new Z5(gn,e,me,ht,ve);e._transport=Ie,gn.send("Ready",null)})}).catch(e._capability.reject),e}function X5(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(pn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Y5(n){if(pn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return A0(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function AA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Og;const Dg=class Dg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ot(Dg,Og)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Og=new WeakMap,E(Dg,Og,0);let x1=Dg,A4=class{constructor(e,t,s=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ge("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class K5{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Se(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Pa,li,Es,vc,wm;class Q5{constructor(e,t,s,r=!1){E(this,Es);E(this,Pa,null);E(this,li,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new lA:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new S4,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:i=!1}={}){return new mp({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Se(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:r=ra.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var _,C;(_=this._stats)==null||_.time("Overall");const p=this._transport.getRenderingIntent(s,r,d,h),{renderingIntent:g,cacheKey:m}=p;b(this,li,!1),A(this,Es,wm).call(this),o||(o=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const S=!!(g&rs.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(p));const x=k=>{var R;v.renderTasks.delete(w),(this._maybeCleanupAfterRender||S)&&b(this,li,!0),A(this,Es,vc).call(this,!S),k?(w.capability.reject(k),this._abortOperatorList({intentState:v,reason:k instanceof Error?k:new Error(k)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new w1({callback:x,params:{canvasContext:e,viewport:t,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:u});(v.renderTasks||(v.renderTasks=new Set)).add(w);const y=w.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([k,R])=>{var N;if(this.destroyed){x();return}if((N=this._stats)==null||N.time("Rendering"),!(R.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:k,optionalContentConfig:R}),w.operatorListChanged()}).catch(x),y}getOperatorList({intent:e="display",annotationMode:t=ra.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var u;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,s,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Fh.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function i(){a.read().then(function({value:c,done:u}){if(u){s(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),i()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),b(this,li,!1),A(this,Es,wm).call(this),Promise.all(e)}cleanup(e=!1){b(this,li,!0);const t=A(this,Es,vc).call(this,!1);return e&&t&&this._stats&&(this._stats=new lA),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&A(this,Es,vc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:i,transfer:a}=s,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();A(this,Es,vc).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof wb){let r=B5;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ac(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Pa=new WeakMap,li=new WeakMap,Es=new WeakSet,vc=function(e=!1){if(A(this,Es,wm).call(this),!l(this,li)||this.destroyed)return!1;if(e)return b(this,Pa,setTimeout(()=>{b(this,Pa,null),A(this,Es,vc).call(this,!1)},U5)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,li,!1),!0},wm=function(){l(this,Pa)&&(clearTimeout(l(this,Pa)),b(this,Pa,null))};var ci,Ig;class J5{constructor(){E(this,ci,new Map);E(this,Ig,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};l(this,Ig).then(()=>{for(const[r]of l(this,ci))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted){ge("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}l(this,ci).set(t,r)}removeEventListener(e,t){const s=l(this,ci).get(t);s==null||s(),l(this,ci).delete(t)}terminate(){for(const[,e]of l(this,ci))e==null||e();l(this,ci).clear()}}ci=new WeakMap,Ig=new WeakMap;var zg,fl,pl,Cu,Am,ku,Sm;const Ye=class Ye{constructor({name:e=null,port:t=null,verbosity:s=RF()}={}){E(this,Cu);var r;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=l(Ye,pl))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(l(Ye,pl)||b(Ye,pl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return pn?Promise.all([io.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Wd("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,Cu,Am).call(this)}_initialize(){if(l(Ye,fl)||l(Ye,ku,Sm)){this._setupFakeWorker();return}let{workerSrc:e}=Ye;try{Ye._isSameOrigin(window.location.href,e)||(e=Ye._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Wd("main","worker",t),r=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:i.signal}),s.on("test",o=>{if(i.abort(),this.destroyed||!o){r();return}this._messageHandler=s,this._port=t,this._webWorker=t,A(this,Cu,Am).call(this)}),s.on("ready",o=>{if(i.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;s.send("test",o,[o.buffer])};a();return}catch{b0("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){l(Ye,fl)||(ge("Setting up fake worker."),b(Ye,fl,!0)),Ye._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new J5;this._port=t;const s=`fake${Ot(Ye,zg)._++}`,r=new Wd(s+"_worker",s,t);e.setup(r,t),this._messageHandler=new Wd(s,s+"_worker",t),A(this,Cu,Am).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=l(Ye,pl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=l(this,pl))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ye(e)}static get workerSrc(){if(_i.workerSrc)return _i.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Se(this,"_setupFakeWorkerGlobal",(async()=>l(this,ku,Sm)?l(this,ku,Sm):(await import(this.workerSrc)).WorkerMessageHandler)())}};zg=new WeakMap,fl=new WeakMap,pl=new WeakMap,Cu=new WeakSet,Am=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},ku=new WeakSet,Sm=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(Ye,ku),E(Ye,zg,0),E(Ye,fl,!1),E(Ye,pl),pn&&(b(Ye,fl,!0),_i.workerSrc||(_i.workerSrc="./pdf.worker.mjs")),Ye._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(t,s);return s.origin===r.origin},Ye._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Uc=Ye;var ui,Cr,Tu,Pu,kr,ml,qd;class Z5{constructor(e,t,s,r,i){E(this,ml);E(this,ui,new Map);E(this,Cr,new Map);E(this,Tu,new Map);E(this,Pu,new Map);E(this,kr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new S4,this.fontLoader=new KF({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Se(this,"annotationStorage",new _b)}getRenderingIntent(e,t=ra.ENABLE,s=null,r=!1,i=!1){let a=rs.DISPLAY,o=o1;switch(e){case"any":a=rs.ANY;break;case"display":break;case"print":a=rs.PRINT;break;default:ge(`getRenderingIntent - invalid intent: ${e}`)}const c=a&rs.PRINT&&s instanceof e4?s:this.annotationStorage;switch(t){case ra.DISABLE:a+=rs.ANNOTATIONS_DISABLE;break;case ra.ENABLE:break;case ra.ENABLE_FORMS:a+=rs.ANNOTATIONS_FORMS;break;case ra.ENABLE_STORAGE:a+=rs.ANNOTATIONS_STORAGE,o=c.serializable;break;default:ge(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=rs.IS_EDITING),i&&(a+=rs.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=l(this,kr))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of l(this,Cr).values())e.push(r._destroy());l(this,Cr).clear(),l(this,Tu).clear(),l(this,Pu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,ui).clear(),this.filterFactory.destroy(),g1.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new ac("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{Lt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){r.close();return}Lt(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async s=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:a}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(s,r)=>{Lt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(s.begin,s.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:a,done:o}){if(o){r.close();return}Lt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{i.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new K5(s,this))}),e.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new zv(s.message,s.code);break;case"InvalidPDFException":r=new CC(s.message);break;case"MissingPDFException":r=new ic(s.message);break;case"UnexpectedResponseException":r=new w0(s.message,s.status);break;case"UnknownErrorException":r=new Hv(s.message,s.details);break;default:Ge("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",s=>{if(b(this,kr,Promise.withResolvers()),t.onPassword){const r=i=>{i instanceof Error?l(this,kr).reject(i):l(this,kr).resolve({password:i})};try{t.onPassword(r,s.code)}catch(i){l(this,kr).reject(i)}}else l(this,kr).reject(new zv(s.message,s.code));return l(this,kr).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;l(this,Cr).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,i])=>{var a;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in i){const g=i.error;ge(`Error during font loading: ${g}`),this.commonObjs.resolve(s,g);break}const d=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,m)=>globalThis.FontInspector.fontAdded(g,m):null,h=new QF(i,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!c&&h.data&&(h.data=null),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:p}=i;Lt(p,"The imageRef must be defined.");for(const g of l(this,Cr).values())for(const[,m]of g.objs)if((m==null?void 0:m.ref)===p)return m.dataLen?(this.commonObjs.resolve(s,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,i,a])=>{var c;if(this.destroyed)return;const o=l(this,Cr).get(r);if(!o.objs.has(s)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(i){case"Image":o.objs.resolve(s,a),(a==null?void 0:a.dataLen)>_F&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(s,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&ge("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=l(this,Tu).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&l(this,Pu).set(i.refStr,e);const a=new Q5(t,i,this,this._params.pdfBug);return l(this,Cr).set(t,a),a});return l(this,Tu).set(t,r),r}getPageIndex(e){return AA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,ml,qd).call(this,"GetFieldObjects")}hasJSActions(){return A(this,ml,qd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,ml,qd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,ml,qd).call(this,"GetOptionalContentConfig").then(t=>new x5(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,ui).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,a;return{info:r[0],metadata:r[1]?new y5(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return l(this,ui).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Cr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,ui).clear(),this.filterFactory.destroy(!0),g1.cleanup()}}cachedPageNumber(e){if(!AA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Pu).get(t)??null}}ui=new WeakMap,Cr=new WeakMap,Tu=new WeakMap,Pu=new WeakMap,kr=new WeakMap,ml=new WeakSet,qd=function(e,t=null){const s=l(this,ui).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return l(this,ui).set(e,r),r};const Wp=Symbol("INITIAL_DATA");var $s,Ef,b1;class S4{constructor(){E(this,Ef);E(this,$s,Object.create(null))}get(e,t=null){if(t){const r=A(this,Ef,b1).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=l(this,$s)[e];if(!s||s.data===Wp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=l(this,$s)[e];return!!t&&t.data!==Wp}resolve(e,t=null){const s=A(this,Ef,b1).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in l(this,$s)){const{data:s}=l(this,$s)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}b(this,$s,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,$s)){const{data:t}=l(this,$s)[e];t!==Wp&&(yield[e,t])}}}$s=new WeakMap,Ef=new WeakSet,b1=function(e){var t;return(t=l(this,$s))[e]||(t[e]={...Promise.withResolvers(),data:Wp})};var Ra;class eO{constructor(e){E(this,Ra,null);b(this,Ra,e),this.onContinue=null}get promise(){return l(this,Ra).capability.promise}cancel(e=0){l(this,Ra).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Ra).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Ra);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ra=new WeakMap;var Na,gl;const Co=class Co{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:i,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null}){E(this,Na,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new eO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(l(Co,gl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Co,gl).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:i,background:a}=this.params;this.gfx=new Bc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),l(this,Na)&&(window.cancelAnimationFrame(l(this,Na)),b(this,Na,null)),l(Co,gl).delete(this._canvas),this.callback(e||new wb(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Na,window.requestAnimationFrame(()=>{b(this,Na,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Co,gl).delete(this._canvas),this.callback())))}};Na=new WeakMap,gl=new WeakMap,E(Co,gl,new WeakSet);let w1=Co;const tO="4.8.69",nO="3634dab10";function SA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Nd(n){return Math.max(0,Math.min(255,255*n))}class EA{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nd(e),[e,e,e]}static G_HTML([e]){const t=SA(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Nd)}static RGB_HTML(e){return`#${e.map(SA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[Nd(1-Math.min(1,e+r)),Nd(1-Math.min(1,s+r)),Nd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,i=1-t,a=1-s,o=Math.min(r,i,a);return["CMYK",r,i,a,o]}}class sO{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ge("Abstract method `_createSVG` called.")}}class Rb extends sO{_createSVG(e){return document.createElementNS(qr,e)}}class E4{static setupStorage(e,t,s,r,i){const a=r.getValue(t,{value:null});switch(s.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),i==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(a.value===s.attributes.xfaOn?e.setAttribute("checked",!0):a.value===s.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),i==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of s.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:i}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}o&&i.addLinkAttributes(e,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(e,a.dataId,t,s)}static render(e){var h,p;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,i=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:i,linkService:s});const o=i!=="richText",c=e.div;if(c.append(a),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=g}o&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);a.append(g),o&&Fh.shouldBuildText(r.name)&&u.push(g)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[g,m,v]=d.at(-1);if(m+1===g.children.length){d.pop();continue}const S=g.children[++d.at(-1)[1]];if(S===null)continue;const{name:x}=S;if(x==="#text"){const y=document.createTextNode(S.value);u.push(y),v.append(y);continue}const w=(h=S==null?void 0:S.attributes)!=null&&h.xmlns?document.createElementNS(S.attributes.xmlns,x):document.createElement(x);if(v.append(w),S.attributes&&this.setAttributes({html:w,element:S,storage:t,intent:i,linkService:s}),((p=S.children)==null?void 0:p.length)>0)d.push([S,-1,w]);else if(S.value){const y=document.createTextNode(S.value);o&&Fh.shouldBuildText(x)&&u.push(y),w.append(y)}}for(const g of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const yp=1e3,rO=9,Jl=new WeakSet;function Ri(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class iO{static create(e){switch(e.data.annotationType){case Ct.LINK:return new _4(e);case Ct.TEXT:return new aO(e);case Ct.WIDGET:switch(e.data.fieldType){case"Tx":return new oO(e);case"Btn":return e.data.radioButton?new T4(e):e.data.checkBox?new cO(e):new uO(e);case"Ch":return new dO(e);case"Sig":return new lO(e)}return new oc(e);case Ct.POPUP:return new S1(e);case Ct.FREETEXT:return new L4(e);case Ct.LINE:return new fO(e);case Ct.SQUARE:return new pO(e);case Ct.CIRCLE:return new mO(e);case Ct.POLYLINE:return new j4(e);case Ct.CARET:return new yO(e);case Ct.INK:return new Nb(e);case Ct.POLYGON:return new gO(e);case Ct.HIGHLIGHT:return new F4(e);case Ct.UNDERLINE:return new vO(e);case Ct.SQUIGGLY:return new xO(e);case Ct.STRIKEOUT:return new bO(e);case Ct.STAMP:return new O4(e);case Ct.FILEATTACHMENT:return new wO(e);default:return new yt(e)}}}var yl,Ru,Nu,_f,A1;const Fb=class Fb{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){E(this,_f);E(this,yl,null);E(this,Ru,!1);E(this,Nu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Fb._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;l(this,yl)||b(this,yl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,_f,A1).call(this,t),(s=l(this,Nu))==null||s.popup.updateEdited(e)}resetEdited(){var e;l(this,yl)&&(A(this,_f,A1).call(this,l(this,yl).rect),(e=l(this,Nu))==null||e.popup.resetEdited(),b(this,yl,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof oc||(i.tabIndex=yp);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof S1){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,i),i}const{width:o,height:c}=Ri(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(v>0||S>0){const w=`calc(${v}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;a.borderRadius=w}else if(this instanceof T4){const w=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=w}switch(t.borderStyle.style){case Pd.SOLID:a.borderStyle="solid";break;case Pd.DASHED:a.borderStyle="dashed";break;case Pd.BEVELED:ge("Unimplemented border style: beveled");break;case Pd.INSET:ge("Unimplemented border style: inset");break;case Pd.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(b(this,Ru,!0),a.borderColor=ne.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=ne.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:g}=r.rawDims;a.left=`${100*(u[0]-p)/d}%`,a.top=`${100*(u[1]-g)/h}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(a.width=`${100*o/d}%`,a.height=`${100*c/h}%`):this.setRotation(m,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:a}=Ri(this.data.rect);let o,c;e%180===0?(o=100*i/s,c=100*a/r):(o=100*a/s,c=100*i/r),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const i=r.detail[t],a=i[0],o=i.slice(1);r.target.style[s]=EA[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[s]:EA[`${a}_rgb`](o)})};return Se(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||s[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,i]of Object.entries(t)){const a=s[r];if(a){const o={detail:{[r]:i},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,i]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,S,x,w]=e.subarray(2,6);if(r===v&&i===S&&t===x&&s===w)return}const{style:a}=this.container;let o;if(l(this,Ru)){const{borderColor:v,borderWidth:S}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const c=r-t,u=i-s,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const p=d.createElement("defs");h.append(p);const g=d.createElement("clipPath"),m=`clippath_${this.data.id}`;g.setAttribute("id",m),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(let v=2,S=e.length;v<S;v+=8){const x=e[v],w=e[v+1],y=e[v+2],_=e[v+3],C=d.createElement("rect"),k=(y-t)/c,R=(i-w)/u,N=(x-y)/c,O=(w-_)/u;C.setAttribute("x",k),C.setAttribute("y",R),C.setAttribute("width",N),C.setAttribute("height",O),g.append(C),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${R}" width="${N}" height="${O}"/>`)}l(this,Ru)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=b(this,Nu,new S1({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ge("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:a,exportValues:o}of r){if(i===-1||a===t)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Jl.has(u)){ge(`_getElementsByName - element not allowed: ${a}`);continue}s.push({id:a,exportValue:c,domElement:u})}return s}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,a=r.getAttribute("data-element-id");a!==t&&Jl.has(r)&&s.push({id:a,exportValue:i,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};yl=new WeakMap,Ru=new WeakMap,Nu=new WeakMap,_f=new WeakSet,A1=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}}}=this;s==null||s.splice(0,4,...e);const{width:u,height:d}=Ri(e);t.left=`${100*(e[0]-o)/i}%`,t.top=`${100*(a-e[3]+c)/a}%`,r===0?(t.width=`${100*u/i}%`,t.height=`${100*d/a}%`):this.setRotation(r)};let yt=Fb;var as,wo,C4,k4;class _4 extends yt{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});E(this,as);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action),i=!0):t.attachment?(A(this,as,C4).call(this,r,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(A(this,as,k4).call(this,r,t.setOCGState),i=!0):t.dest?(this._bindLink(r,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&A(this,as,wo).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),A(this,as,wo).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(s.actions)){const a=r.get(i);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,as,wo).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),A(this,as,wo).call(this),!this._fieldObjects){ge('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:i,refs:a,include:o}=s,c=[];if(i.length!==0||a.length!==0){const p=new Set(a);for(const g of i){const m=this._fieldObjects[g]||[];for(const{id:v}of m)p.add(v)}for(const g of Object.values(this._fieldObjects))for(const m of g)p.has(m.id)===o&&c.push(m)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const u=this.annotationStorage,d=[];for(const p of c){const{id:g}=p;switch(d.push(g),p.type){case"text":{const v=p.defaultValue||"";u.setValue(g,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;u.setValue(g,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";u.setValue(g,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!Jl.has(m)){ge(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}as=new WeakSet,wo=function(){this.container.setAttribute("data-internal-link","")},C4=function(t,s,r=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(s.content,s.filename,r),!1},A(this,as,wo).call(this)},k4=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),A(this,as,wo).call(this)};class aO extends yt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class oc extends yt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Cn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,i){s.includes("mouse")?e.addEventListener(s,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(s,a=>{var o;if(s==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}i&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(a)}}))})}_setEventListeners(e,t,s,r){var i,a,o;for(const[c,u]of s)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ne.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||rO,i=e.style;let a;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(uy*r))||1,h=u/d;a=Math.min(r,c(h/uy))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,c(u/uy))}i.fontSize=`calc(${a}px * var(--scale-factor))`,i.color=ne.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class oO extends oc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=s),i.setValue(a.id,{[r]:s})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",u??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Jl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=yp,this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";s.value=d.userValue=g,d.formattedValue=null});let h=p=>{const{formattedValue:g}=d;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",g=>{var v;if(d.focused)return;const{target:m}=g;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:S}=v.detail;d.formattedValue=S,S!=null&&v.target!==document.activeElement&&(v.target.value=S),e.setValue(t,{formattedValue:S})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var y;const{charLimit:S}=v.detail,{target:x}=v;if(S===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",S);let w=d.userValue;!w||w.length<=S||(w=w.slice(0,S),x.value=d.userValue=w,e.setValue(t,{value:w}),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),s.addEventListener("keydown",g=>{var S;d.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:v}=g.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=h;h=null,s.addEventListener("blur",g=>{var v,S;if(!d.focused||!g.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:m}=g.target;d.userValue=m,d.lastCommittedValue!==m&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),p(g)}),(i=this.data.actions)!=null&&i.Keystroke&&s.addEventListener("beforeinput",g=>{var C;d.lastCommittedValue=null;const{data:m,target:v}=g,{value:S,selectionStart:x,selectionEnd:w}=v;let y=x,_=w;switch(g.inputType){case"deleteWordBackward":{const k=S.substring(0,x).match(/\w*[^\w]*$/);k&&(y-=k[0].length);break}case"deleteWordForward":{const k=S.substring(x).match(/^[^\w]*\w*/);k&&(_+=k[0].length);break}case"deleteContentBackward":x===w&&(y-=1);break;case"deleteContentForward":x===w&&(_+=1);break}g.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:m||"",willCommit:!1,selStart:y,selEnd:_}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(h&&s.addEventListener("blur",h),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${g}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class lO extends oc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class cO extends oc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Jl.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=yp,i.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,s)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(s,{value:c})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(s,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class T4 extends oc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,s))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(Jl.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=yp,i.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,s))e.setValue(u.id,{value:!1});e.setValue(s,{value:c})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const p=d&&h.id===s;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class uO extends _4{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class dO extends oc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Jl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=yp;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of r.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,s.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),r.append(h)}let a=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:p,multiple:g}=r;return g?Array.prototype.filter.call(p,m=>m.selected).map(m=>m[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let c=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(p){a==null||a();const g=p.detail.value,m=new Set(Array.isArray(g)?g:[g]);for(const v of r.options)v.selected=m.has(v.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(p){r.multiple=!0},remove(p){const g=r.options,m=p.detail.remove;g[m].selected=!1,r.remove(m),g.length>0&&Array.prototype.findIndex.call(g,S=>S.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:o(!0),items:u(p)}),c=o(!1)},clear(p){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(p){const{index:g,displayValue:m,exportValue:v}=p.detail.insert,S=r.children[g],x=document.createElement("option");x.textContent=m,x.value=v,S?S.before(x):r.append(x),e.setValue(t,{value:o(!0),items:u(p)}),c=o(!1)},items(p){const{items:g}=p.detail;for(;r.length!==0;)r.remove(0);for(const m of g){const{displayValue:v,exportValue:S}=m,x=document.createElement("option");x.textContent=v,x.value=S,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(p)}),c=o(!1)},indices(p){const g=new Set(p.detail.indices);for(const m of p.target.options)m.selected=g.has(m.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var g;const h=o(!0),p=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class S1 extends yt{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:yt._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new hO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${bb}${s}`).join(",")),this.container}}var Mu,Hg,Bg,Lu,vl,ot,di,ju,Cf,kf,Fu,hi,Vs,fi,Tf,pi,Pf,xl,bl,Be,Em,E1,P4,R4,N4,M4,_m,Cm,_1;class hO{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:i,contentsObj:a,richText:o,parent:c,rect:u,parentRect:d,open:h}){E(this,Be);E(this,Mu,A(this,Be,N4).bind(this));E(this,Hg,A(this,Be,_1).bind(this));E(this,Bg,A(this,Be,Cm).bind(this));E(this,Lu,A(this,Be,_m).bind(this));E(this,vl,null);E(this,ot,null);E(this,di,null);E(this,ju,null);E(this,Cf,null);E(this,kf,null);E(this,Fu,null);E(this,hi,!1);E(this,Vs,null);E(this,fi,null);E(this,Tf,null);E(this,pi,null);E(this,Pf,null);E(this,xl,null);E(this,bl,!1);var p;b(this,ot,e),b(this,Pf,r),b(this,di,a),b(this,pi,o),b(this,kf,c),b(this,vl,t),b(this,Tf,u),b(this,Fu,d),b(this,Cf,s),b(this,ju,Sb.toDateObject(i)),this.trigger=s.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",l(this,Lu)),g.addEventListener("mouseenter",l(this,Bg)),g.addEventListener("mouseleave",l(this,Hg)),g.classList.add("popupTriggerArea");for(const g of s)(p=g.container)==null||p.addEventListener("keydown",l(this,Mu));l(this,ot).hidden=!0,h&&A(this,Be,_m).call(this)}render(){if(l(this,Vs))return;const e=b(this,Vs,document.createElement("div"));if(e.className="popup",l(this,vl)){const i=e.style.outlineColor=ne.makeHexColor(...l(this,vl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:e.style.backgroundColor=ne.makeHexColor(...l(this,vl).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=l(this,Pf),e.append(t),l(this,ju)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,ju).valueOf()})),t.append(i)}const r=l(this,Be,Em);if(r)E4.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(l(this,di));e.append(i)}l(this,ot).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let i=0,a=r.length;i<a;++i){const o=r[i];s.append(document.createTextNode(o)),i<a-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;l(this,xl)||b(this,xl,{contentsObj:l(this,di),richText:l(this,pi)}),e&&b(this,fi,null),t&&(b(this,pi,A(this,Be,R4).call(this,t)),b(this,di,null)),(s=l(this,Vs))==null||s.remove(),b(this,Vs,null)}resetEdited(){var e;l(this,xl)&&({contentsObj:Ot(this,di)._,richText:Ot(this,pi)._}=l(this,xl),b(this,xl,null),(e=l(this,Vs))==null||e.remove(),b(this,Vs,null),b(this,fi,null))}forceHide(){b(this,bl,this.isVisible),l(this,bl)&&(l(this,ot).hidden=!0)}maybeShow(){l(this,bl)&&(l(this,Vs)||A(this,Be,Cm).call(this),b(this,bl,!1),l(this,ot).hidden=!1)}get isVisible(){return l(this,ot).hidden===!1}}Mu=new WeakMap,Hg=new WeakMap,Bg=new WeakMap,Lu=new WeakMap,vl=new WeakMap,ot=new WeakMap,di=new WeakMap,ju=new WeakMap,Cf=new WeakMap,kf=new WeakMap,Fu=new WeakMap,hi=new WeakMap,Vs=new WeakMap,fi=new WeakMap,Tf=new WeakMap,pi=new WeakMap,Pf=new WeakMap,xl=new WeakMap,bl=new WeakMap,Be=new WeakSet,Em=function(){const e=l(this,pi),t=l(this,di);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,pi).html||null},E1=function(){var e,t,s;return((s=(t=(e=l(this,Be,Em))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},P4=function(){var e,t,s;return((s=(t=(e=l(this,Be,Em))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},R4=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:l(this,Be,P4),fontSize:l(this,Be,E1)?`calc(${l(this,Be,E1)}px * var(--scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return s},N4=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,hi))&&A(this,Be,_m).call(this)},M4=function(){if(l(this,fi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:i}}}=l(this,kf);let a=!!l(this,Fu),o=a?l(this,Fu):l(this,Tf);for(const m of l(this,Cf))if(!o||ne.intersect(m.data.rect,o)!==null){o=m.data.rect,a=!0;break}const c=ne.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=c[0]+d,p=c[1];b(this,fi,[100*(h-r)/t,100*(p-i)/s]);const{style:g}=l(this,ot);g.left=`${l(this,fi)[0]}%`,g.top=`${l(this,fi)[1]}%`},_m=function(){b(this,hi,!l(this,hi)),l(this,hi)?(A(this,Be,Cm).call(this),l(this,ot).addEventListener("click",l(this,Lu)),l(this,ot).addEventListener("keydown",l(this,Mu))):(A(this,Be,_1).call(this),l(this,ot).removeEventListener("click",l(this,Lu)),l(this,ot).removeEventListener("keydown",l(this,Mu)))},Cm=function(){l(this,Vs)||this.render(),this.isVisible?l(this,hi)&&l(this,ot).classList.add("focused"):(A(this,Be,M4).call(this),l(this,ot).hidden=!1,l(this,ot).style.zIndex=parseInt(l(this,ot).style.zIndex)+1e3)},_1=function(){l(this,ot).classList.remove("focused"),!(l(this,hi)||!this.isVisible)&&(l(this,ot).hidden=!0,l(this,ot).style.zIndex=parseInt(l(this,ot).style.zIndex)-1e3)};class L4 extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=he.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Rf;class fO extends yt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Rf,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:r}=Ri(t.rect),i=this.svgFactory.create(s,r,!0),a=b(this,Rf,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Rf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rf=new WeakMap;var Nf;class pO extends yt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Nf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:r}=Ri(t.rect),i=this.svgFactory.create(s,r,!0),a=t.borderStyle.width,o=b(this,Nf,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",s-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Nf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nf=new WeakMap;var Mf;class mO extends yt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Mf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:r}=Ri(t.rect),i=this.svgFactory.create(s,r,!0),a=t.borderStyle.width,o=b(this,Mf,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",s/2),o.setAttribute("cy",r/2),o.setAttribute("rx",s/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mf=new WeakMap;var Lf;class j4 extends yt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Lf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:i}}=this;if(!s)return this.container;const{width:a,height:o}=Ri(t),c=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,p=s.length;h<p;h+=2){const g=s[h]-t[0],m=t[3]-s[h+1];u.push(`${g},${m}`)}u=u.join(" ");const d=b(this,Lf,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Lf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lf=new WeakMap;class gO extends j4{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class yO extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var jf;class Nb extends yt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,jf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?he.HIGHLIGHT:he.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:r,popupRef:i}}=this,{width:a,height:o}=Ri(t),c=this.svgFactory.create(a,o,!0);for(const u of s){let d=[];for(let p=0,g=u.length;p<g;p+=2){const m=u[p]-t[0],v=t[3]-u[p+1];d.push(`${m},${v}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);l(this,jf).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return l(this,jf)}addHighlightArea(){this.container.classList.add("highlightArea")}}jf=new WeakMap;class F4 extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=he.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class vO extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class xO extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class bO extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class O4 extends yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=he.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ff,Of,C1;class wO extends yt{constructor(t){var r;super(t,{isRenderable:!0});E(this,Of);E(this,Ff,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",A(this,Of,C1).bind(this)),b(this,Ff,r);const{isMac:i}=Cn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&A(this,Of,C1).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return l(this,Ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ff=new WeakMap,Of=new WeakSet,C1=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Df,wl,Al,If,ec,D4,k1,GA;let AO=(GA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:i,viewport:a,structTreeLayer:o}){E(this,ec);E(this,Df,null);E(this,wl,null);E(this,Al,new Map);E(this,If,null);this.div=e,b(this,Df,t),b(this,wl,s),b(this,If,o||null),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return l(this,Al).size>0}async render(e){var a;const{annotations:t}=e,s=this.div;Kl(s,this.viewport);const r=new Map,i={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Rb,annotationStorage:e.annotationStorage||new _b,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===Ct.POPUP;if(c){const h=r.get(o.id);if(!h)continue;i.elements=h}else{const{width:h,height:p}=Ri(o.rect);if(h<=0||p<=0)continue}i.data=o;const u=iO.create(i);if(!u.isRenderable)continue;if(!c&&o.popupRef){const h=r.get(o.popupRef);h?h.push(u):r.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),await A(this,ec,D4).call(this,d,o.id),u._isEditable&&(l(this,Al).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}A(this,ec,k1).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Kl(t,{rotation:e.rotation}),A(this,ec,k1).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Al).values())}getEditableAnnotation(e){return l(this,Al).get(e)}},Df=new WeakMap,wl=new WeakMap,Al=new WeakMap,If=new WeakMap,ec=new WeakSet,D4=async function(e,t){var a,o;const s=e.firstChild||e,r=s.id=`${bb}${t}`,i=await((a=l(this,If))==null?void 0:a.getAriaAttributes(r));if(i)for(const[c,u]of i)s.setAttribute(c,u);this.div.append(e),(o=l(this,Df))==null||o.moveElementInDOM(this.div,e,s,!1)},k1=function(){if(!l(this,wl))return;const e=this.div;for(const[t,s]of l(this,wl)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:i}=r;i?i.nodeName==="CANVAS"?i.replaceWith(s):i.classList.contains("annotationContent")?i.after(s):i.before(s):r.append(s)}l(this,wl).clear()},GA);const qp=/\r\n?|\n/g;var Ws,Jn,zf,Sl,Zn,Et,I4,z4,H4,km,Li,Tm,Pm,B4,P1,U4;const $e=class $e extends Oe{constructor(t){super({...t,name:"freeTextEditor"});E(this,Et);E(this,Ws);E(this,Jn,"");E(this,zf,`${this.id}-editor`);E(this,Sl,null);E(this,Zn);b(this,Ws,t.color||$e._defaultColor||Oe._defaultLineColor),b(this,Zn,t.fontSize||$e._defaultFontSize)}static get _keyboardManager(){const t=$e.prototype,s=a=>a.isEmpty(),r=Ql.TRANSLATE_SMALL,i=Ql.TRANSLATE_BIG;return Se(this,"_keyboardManager",new gp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}]]))}static initialize(t,s){Oe.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case le.FREETEXT_SIZE:$e._defaultFontSize=s;break;case le.FREETEXT_COLOR:$e._defaultColor=s;break}}updateParams(t,s){switch(t){case le.FREETEXT_SIZE:A(this,Et,I4).call(this,s);break;case le.FREETEXT_COLOR:A(this,Et,z4).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[le.FREETEXT_SIZE,$e._defaultFontSize],[le.FREETEXT_COLOR,$e._defaultColor||Oe._defaultLineColor]]}get propertiesToUpdate(){return[[le.FREETEXT_SIZE,l(this,Zn)],[le.FREETEXT_COLOR,l(this,Ws)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-$e._internalPadding*t,-($e._internalPadding+l(this,Zn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(he.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,Sl,new AbortController);const t=this._uiManager.combinedSignal(l(this,Sl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,zf)),this._isDraggable=!0,(t=l(this,Sl))==null||t.abort(),b(this,Sl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,Jn),s=b(this,Jn,A(this,Et,H4).call(this).trimEnd());if(t===s)return;const r=i=>{if(b(this,Jn,i),!i){this.remove();return}A(this,Et,Pm).call(this),this._uiManager.rebuild(this),A(this,Et,km).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),A(this,Et,km).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){$e._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,zf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${l(this,Zn)}px * var(--scale-factor))`,r.color=l(this,Ws),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ag(this,this.div,["dblclick","keydown"]),this.width){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[p,g]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=t+(o[0]-p)/d,v=s+this.height-(o[1]-g)/h;break;case 90:m=t+(o[0]-p)/d,v=s-(o[1]-g)/h,[c,u]=[u,-c];break;case 180:m=t-this.width+(o[0]-p)/d,v=s-(o[1]-g)/h,[c,u]=[-c,-u];break;case 270:m=t+(o[0]-p-this.height*h)/d,v=s+(o[1]-g-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(m*i,v*a,c,u)}else this.setAt(t*i,s*a,this.width*i,this.height*a);A(this,Et,Pm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,v,S;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=A(m=$e,Li,P1).call(m,s.getData("text")||"").replaceAll(qp,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=o,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const x=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(qp,"")),x!==this.editorDiv){let w=d;for(const y of this.editorDiv.childNodes){if(y===x){w=h;continue}w.push(A(v=$e,Li,Tm).call(v,y))}}d.push(c.nodeValue.slice(0,u).replaceAll(qp,""))}else if(c===this.editorDiv){let x=d,w=0;for(const y of this.editorDiv.childNodes)w++===u&&(x=h),x.push(A(S=$e,Li,Tm).call(S,y))}b(this,Jn,`${d.join(`
`)}${i}${h.join(`
`)}`),A(this,Et,Pm).call(this);const p=new Range;let g=d.reduce((x,w)=>x+w.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(g<=w){p.setStart(x,g),p.setEnd(x,g);break}g-=w}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,r){var o;let i=null;if(t instanceof L4){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:p,popupRef:g},textContent:m,textPosition:v,parent:{page:{pageNumber:S}}}=t;if(!m||m.length===0)return null;i=t={annotationType:he.FREETEXT,color:Array.from(u),fontSize:c,value:m.join(`
`),position:v,pageIndex:S-1,rect:d.slice(0),rotation:h,id:p,deleted:!1,popupRef:g}}const a=await super.deserialize(t,s,r);return b(a,Zn,t.fontSize),b(a,Ws,ne.makeHexColor(...t.color)),b(a,Jn,A(o=$e,Li,P1).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=i,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=$e._internalPadding*this.parentScale,r=this.getRect(s,s),i=Oe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,Ws)),a={annotationType:he.FREETEXT,color:i,fontSize:l(this,Zn),value:A(this,Et,B4).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!A(this,Et,U4).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${l(this,Zn)}px * var(--scale-factor))`,r.color=l(this,Ws),s.replaceChildren();for(const a of l(this,Jn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),s.append(o)}const i=$e._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:l(this,Jn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ws=new WeakMap,Jn=new WeakMap,zf=new WeakMap,Sl=new WeakMap,Zn=new WeakMap,Et=new WeakSet,I4=function(t){const s=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-l(this,Zn))*this.parentScale),b(this,Zn,i),A(this,Et,km).call(this)},r=l(this,Zn);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},z4=function(t){const s=i=>{b(this,Ws,this.editorDiv.style.color=i)},r=l(this,Ws);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},H4=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const i of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(A(r=$e,Li,Tm).call(r,i)),s=i);return t.join(`
`)},km=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},Li=new WeakSet,Tm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(qp,"")},Pm=function(){if(this.editorDiv.replaceChildren(),!!l(this,Jn))for(const t of l(this,Jn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},B4=function(){return l(this,Jn).replaceAll(""," ")},P1=function(t){return t.replaceAll(" ","")},U4=function(t){const{value:s,fontSize:r,color:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((o,c)=>o!==i[c])||t.pageIndex!==a},E($e,Li),oe($e,"_freeTextDefaultContent",""),oe($e,"_internalPadding",0),oe($e,"_defaultColor",null),oe($e,"_defaultFontSize",10),oe($e,"_type","freetext"),oe($e,"_editorType",he.FREETEXT);let T1=$e;class $4{toSVGPath(){Ge("Abstract method `toSVGPath` must be implemented.")}get box(){Ge("Abstract getter `box` must be implemented.")}serialize(e,t){Ge("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Ge("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Ge("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var es,qs,Ou,Du,Tr,ye,El,_l,Hf,Bf,Iu,zu,Ma,Uf,Ug,$g,Ft,Gd,V4,W4,q4,G4,X4,Y4;const Yr=class Yr{constructor({x:e,y:t},s,r,i,a,o=0){E(this,Ft);E(this,es);E(this,qs,[]);E(this,Ou);E(this,Du);E(this,Tr,[]);E(this,ye,new Float64Array(18));E(this,El);E(this,_l);E(this,Hf);E(this,Bf);E(this,Iu);E(this,zu);E(this,Ma,[]);b(this,es,s),b(this,zu,i*r),b(this,Du,a),l(this,ye).set([NaN,NaN,NaN,NaN,e,t],6),b(this,Ou,o),b(this,Bf,l(Yr,Uf)*r),b(this,Hf,l(Yr,$g)*r),b(this,Iu,r),l(this,Ma).push(e,t)}isEmpty(){return isNaN(l(this,ye)[8])}add({x:e,y:t}){var O;b(this,El,e),b(this,_l,t);const[s,r,i,a]=l(this,es);let[o,c,u,d]=l(this,ye).subarray(8,12);const h=e-u,p=t-d,g=Math.hypot(h,p);if(g<l(this,Hf))return!1;const m=g-l(this,Bf),v=m/g,S=v*h,x=v*p;let w=o,y=c;o=u,c=d,u+=S,d+=x,(O=l(this,Ma))==null||O.push(e,t);const _=-x/m,C=S/m,k=_*l(this,zu),R=C*l(this,zu);return l(this,ye).set(l(this,ye).subarray(2,8),0),l(this,ye).set([u+k,d+R],4),l(this,ye).set(l(this,ye).subarray(14,18),12),l(this,ye).set([u-k,d-R],16),isNaN(l(this,ye)[6])?(l(this,Tr).length===0&&(l(this,ye).set([o+k,c+R],2),l(this,Tr).push(NaN,NaN,NaN,NaN,(o+k-s)/i,(c+R-r)/a),l(this,ye).set([o-k,c-R],14),l(this,qs).push(NaN,NaN,NaN,NaN,(o-k-s)/i,(c-R-r)/a)),l(this,ye).set([w,y,o,c,u,d],6),!this.isEmpty()):(l(this,ye).set([w,y,o,c,u,d],6),Math.abs(Math.atan2(y-c,w-o)-Math.atan2(x,S))<Math.PI/2?([o,c,u,d]=l(this,ye).subarray(2,6),l(this,Tr).push(NaN,NaN,NaN,NaN,((o+u)/2-s)/i,((c+d)/2-r)/a),[o,c,w,y]=l(this,ye).subarray(14,18),l(this,qs).push(NaN,NaN,NaN,NaN,((w+o)/2-s)/i,((y+c)/2-r)/a),!0):([w,y,o,c,u,d]=l(this,ye).subarray(0,6),l(this,Tr).push(((w+5*o)/6-s)/i,((y+5*c)/6-r)/a,((5*o+u)/6-s)/i,((5*c+d)/6-r)/a,((o+u)/2-s)/i,((c+d)/2-r)/a),[u,d,o,c,w,y]=l(this,ye).subarray(12,18),l(this,qs).push(((w+5*o)/6-s)/i,((y+5*c)/6-r)/a,((5*o+u)/6-s)/i,((5*c+d)/6-r)/a,((o+u)/2-s)/i,((c+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,Tr),t=l(this,qs);if(isNaN(l(this,ye)[6])&&!this.isEmpty())return A(this,Ft,V4).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);A(this,Ft,q4).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return A(this,Ft,W4).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,i,a){return new K4(e,t,s,r,i,a)}getOutlines(){var h;const e=l(this,Tr),t=l(this,qs),s=l(this,ye),[r,i,a,o]=l(this,es),c=new Float64Array((((h=l(this,Ma))==null?void 0:h.length)??0)+2);for(let p=0,g=c.length-2;p<g;p+=2)c[p]=(l(this,Ma)[p]-r)/a,c[p+1]=(l(this,Ma)[p+1]-i)/o;if(c[c.length-2]=(l(this,El)-r)/a,c[c.length-1]=(l(this,_l)-i)/o,isNaN(s[6])&&!this.isEmpty())return A(this,Ft,G4).call(this,c);const u=new Float64Array(l(this,Tr).length+24+l(this,qs).length);let d=e.length;for(let p=0;p<d;p+=2){if(isNaN(e[p])){u[p]=u[p+1]=NaN;continue}u[p]=e[p],u[p+1]=e[p+1]}d=A(this,Ft,Y4).call(this,u,d);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[p+g],u[d+1]=t[p+g+1],d+=2}return A(this,Ft,X4).call(this,u,d),this.newFreeDrawOutline(u,c,l(this,es),l(this,Iu),l(this,Ou),l(this,Du))}};es=new WeakMap,qs=new WeakMap,Ou=new WeakMap,Du=new WeakMap,Tr=new WeakMap,ye=new WeakMap,El=new WeakMap,_l=new WeakMap,Hf=new WeakMap,Bf=new WeakMap,Iu=new WeakMap,zu=new WeakMap,Ma=new WeakMap,Uf=new WeakMap,Ug=new WeakMap,$g=new WeakMap,Ft=new WeakSet,Gd=function(){const e=l(this,ye).subarray(4,6),t=l(this,ye).subarray(16,18),[s,r,i,a]=l(this,es);return[(l(this,El)+(e[0]-t[0])/2-s)/i,(l(this,_l)+(e[1]-t[1])/2-r)/a,(l(this,El)+(t[0]-e[0])/2-s)/i,(l(this,_l)+(t[1]-e[1])/2-r)/a]},V4=function(){const[e,t,s,r]=l(this,es),[i,a,o,c]=A(this,Ft,Gd).call(this);return`M${(l(this,ye)[2]-e)/s} ${(l(this,ye)[3]-t)/r} L${(l(this,ye)[4]-e)/s} ${(l(this,ye)[5]-t)/r} L${i} ${a} L${o} ${c} L${(l(this,ye)[16]-e)/s} ${(l(this,ye)[17]-t)/r} L${(l(this,ye)[14]-e)/s} ${(l(this,ye)[15]-t)/r} Z`},W4=function(e){const t=l(this,qs);e.push(`L${t[4]} ${t[5]} Z`)},q4=function(e){const[t,s,r,i]=l(this,es),a=l(this,ye).subarray(4,6),o=l(this,ye).subarray(16,18),[c,u,d,h]=A(this,Ft,Gd).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-s)/i} L${c} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-s)/i}`)},G4=function(e){const t=l(this,ye),[s,r,i,a]=l(this,es),[o,c,u,d]=A(this,Ft,Gd).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,l(this,es),l(this,Iu),l(this,Ou),l(this,Du))},X4=function(e,t){const s=l(this,qs);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},Y4=function(e,t){const s=l(this,ye).subarray(4,6),r=l(this,ye).subarray(16,18),[i,a,o,c]=l(this,es),[u,d,h,p]=A(this,Ft,Gd).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/o,(s[1]-a)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(r[0]-i)/o,(r[1]-a)/c],t),t+=24},E(Yr,Uf,8),E(Yr,Ug,2),E(Yr,$g,l(Yr,Uf)+l(Yr,Ug));let Eg=Yr;var Hu,Cl,mi,$f,ts,Vf,ft,Un,Xd,Yd,Q4;class K4 extends $4{constructor(t,s,r,i,a,o){super();E(this,Un);E(this,Hu);E(this,Cl,null);E(this,mi);E(this,$f);E(this,ts);E(this,Vf);E(this,ft);b(this,ft,t),b(this,ts,s),b(this,Hu,r),b(this,Vf,i),b(this,mi,a),b(this,$f,o),A(this,Un,Q4).call(this,o);const{x:c,y:u,width:d,height:h}=l(this,Cl);for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/d,t[p+1]=(t[p+1]-u)/h;for(let p=0,g=s.length;p<g;p+=2)s[p]=(s[p]-c)/d,s[p+1]=(s[p+1]-u)/h}toSVGPath(){const t=[`M${l(this,ft)[4]} ${l(this,ft)[5]}`];for(let s=6,r=l(this,ft).length;s<r;s+=6){if(isNaN(l(this,ft)[s])){t.push(`L${l(this,ft)[s+4]} ${l(this,ft)[s+5]}`);continue}t.push(`C${l(this,ft)[s]} ${l(this,ft)[s+1]} ${l(this,ft)[s+2]} ${l(this,ft)[s+3]} ${l(this,ft)[s+4]} ${l(this,ft)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,i],a){const o=r-t,c=i-s;let u,d;switch(a){case 0:u=A(this,Un,Xd).call(this,l(this,ft),t,i,o,-c),d=A(this,Un,Xd).call(this,l(this,ts),t,i,o,-c);break;case 90:u=A(this,Un,Yd).call(this,l(this,ft),t,s,o,c),d=A(this,Un,Yd).call(this,l(this,ts),t,s,o,c);break;case 180:u=A(this,Un,Xd).call(this,l(this,ft),r,s,-o,c),d=A(this,Un,Xd).call(this,l(this,ts),r,s,-o,c);break;case 270:u=A(this,Un,Yd).call(this,l(this,ft),r,i,-o,-c),d=A(this,Un,Yd).call(this,l(this,ts),r,i,-o,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return l(this,Cl)}newOutliner(t,s,r,i,a,o=0){return new Eg(t,s,r,i,a,o)}getNewOutline(t,s){const{x:r,y:i,width:a,height:o}=l(this,Cl),[c,u,d,h]=l(this,Hu),p=a*d,g=o*h,m=r*d+c,v=i*h+u,S=this.newOutliner({x:l(this,ts)[0]*p+m,y:l(this,ts)[1]*g+v},l(this,Hu),l(this,Vf),t,l(this,$f),s??l(this,mi));for(let x=2;x<l(this,ts).length;x+=2)S.add({x:l(this,ts)[x]*p+m,y:l(this,ts)[x+1]*g+v});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Hu=new WeakMap,Cl=new WeakMap,mi=new WeakMap,$f=new WeakMap,ts=new WeakMap,Vf=new WeakMap,ft=new WeakMap,Un=new WeakSet,Xd=function(t,s,r,i,a){const o=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=s+t[c]*i,o[c+1]=r+t[c+1]*a;return o},Yd=function(t,s,r,i,a){const o=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=s+t[c+1]*i,o[c+1]=r+t[c]*a;return o},Q4=function(t){const s=l(this,ft);let r=s[4],i=s[5],a=r,o=i,c=r,u=i,d=r,h=i;const p=t?Math.max:Math.min;for(let x=6,w=s.length;x<w;x+=6){if(isNaN(s[x]))a=Math.min(a,s[x+4]),o=Math.min(o,s[x+5]),c=Math.max(c,s[x+4]),u=Math.max(u,s[x+5]),h<s[x+5]?(d=s[x+4],h=s[x+5]):h===s[x+5]&&(d=p(d,s[x+4]));else{const y=ne.bezierBoundingBox(r,i,...s.slice(x,x+6));a=Math.min(a,y[0]),o=Math.min(o,y[1]),c=Math.max(c,y[2]),u=Math.max(u,y[3]),h<y[3]?(d=y[2],h=y[3]):h===y[3]&&(d=p(d,y[2]))}r=s[x+4],i=s[x+5]}const g=a-l(this,mi),m=o-l(this,mi),v=c-a+2*l(this,mi),S=u-o+2*l(this,mi);b(this,Cl,{x:g,y:m,width:v,height:S,lastPoint:[d,h]})};var Wf,La,Gs,Tn,J4,Rm,Z4,ek,R1;class _A{constructor(e,t=0,s=0,r=!0){E(this,Tn);E(this,Wf);E(this,La,[]);E(this,Gs,[]);let i=1/0,a=-1/0,o=1/0,c=-1/0;const u=10**-4;for(const{x:S,y:x,width:w,height:y}of e){const _=Math.floor((S-t)/u)*u,C=Math.ceil((S+w+t)/u)*u,k=Math.floor((x-t)/u)*u,R=Math.ceil((x+y+t)/u)*u,N=[_,k,R,!0],O=[C,k,R,!1];l(this,La).push(N,O),i=Math.min(i,_),a=Math.max(a,C),o=Math.min(o,k),c=Math.max(c,R)}const d=a-i+2*s,h=c-o+2*s,p=i-s,g=o-s,m=l(this,La).at(r?-1:-2),v=[m[0],m[2]];for(const S of l(this,La)){const[x,w,y]=S;S[0]=(x-p)/d,S[1]=(w-g)/h,S[2]=(y-g)/h}b(this,Wf,{x:p,y:g,width:d,height:h,lastPoint:v})}getOutlines(){l(this,La).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of l(this,La))t[3]?(e.push(...A(this,Tn,R1).call(this,t)),A(this,Tn,Z4).call(this,t)):(A(this,Tn,ek).call(this,t),e.push(...A(this,Tn,R1).call(this,t)));return A(this,Tn,J4).call(this,e)}}Wf=new WeakMap,La=new WeakMap,Gs=new WeakMap,Tn=new WeakSet,J4=function(e){const t=[],s=new Set;for(const a of e){const[o,c,u]=a;t.push([o,c,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],u=t[a+1][2];c.push(u),u.push(c),s.add(c),s.add(u)}const r=[];let i;for(;s.size>0;){const a=s.values().next().value;let[o,c,u,d,h]=a;s.delete(a);let p=o,g=c;for(i=[o,u],r.push(i);;){let m;if(s.has(d))m=d;else if(s.has(h))m=h;else break;s.delete(m),[o,c,u,d,h]=m,p!==o&&(i.push(p,g,o,g===c?c:u),p=o),g=g===c?u:c}i.push(p,g)}return new SO(r,l(this,Wf))},Rm=function(e){const t=l(this,Gs);let s=0,r=t.length-1;for(;s<=r;){const i=s+r>>1,a=t[i][0];if(a===e)return i;a<e?s=i+1:r=i-1}return r+1},Z4=function([,e,t]){const s=A(this,Tn,Rm).call(this,e);l(this,Gs).splice(s,0,[e,t])},ek=function([,e,t]){const s=A(this,Tn,Rm).call(this,e);for(let r=s;r<l(this,Gs).length;r++){const[i,a]=l(this,Gs)[r];if(i!==e)break;if(i===e&&a===t){l(this,Gs).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[i,a]=l(this,Gs)[r];if(i!==e)break;if(i===e&&a===t){l(this,Gs).splice(r,1);return}}},R1=function(e){const[t,s,r]=e,i=[[t,s,r]],a=A(this,Tn,Rm).call(this,r);for(let o=0;o<a;o++){const[c,u]=l(this,Gs)[o];for(let d=0,h=i.length;d<h;d++){const[,p,g]=i[d];if(!(u<=p||g<=c)){if(p>=c){if(g>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=c,g>u&&i.push([t,u,g])}}}return i};var qf,Bu;class SO extends $4{constructor(t,s){super();E(this,qf);E(this,Bu);b(this,Bu,t),b(this,qf,s)}toSVGPath(){const t=[];for(const s of l(this,Bu)){let[r,i]=s;t.push(`M${r} ${i}`);for(let a=2;a<s.length;a+=2){const o=s[a],c=s[a+1];o===r?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,s,r,i],a){const o=[],c=r-t,u=i-s;for(const d of l(this,Bu)){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=t+d[p]*c,h[p+1]=i-d[p+1]*u;o.push(h)}return o}get box(){return l(this,qf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}qf=new WeakMap,Bu=new WeakMap;class N1 extends Eg{newFreeDrawOutline(e,t,s,r,i,a){return new EO(e,t,s,r,i,a)}get classNamesForDrawing(){return["highlight","free"]}}class EO extends K4{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,r,i,a=0){return new N1(e,t,s,r,i,a)}}var Xs,kl,Uu,Tt,Gf,$u,Xf,Yf,ja,Ys,Vu,Kf,He,M1,L1,j1,Ao,tk,Qi;const Mn=class Mn{constructor({editor:e=null,uiManager:t=null}){E(this,He);E(this,Xs,null);E(this,kl,null);E(this,Uu);E(this,Tt,null);E(this,Gf,!1);E(this,$u,!1);E(this,Xf,null);E(this,Yf);E(this,ja,null);E(this,Ys,null);E(this,Vu);var s;e?(b(this,$u,!1),b(this,Vu,le.HIGHLIGHT_COLOR),b(this,Xf,e)):(b(this,$u,!0),b(this,Vu,le.HIGHLIGHT_DEFAULT_COLOR)),b(this,Ys,(e==null?void 0:e._uiManager)||t),b(this,Yf,l(this,Ys)._eventBus),b(this,Uu,(e==null?void 0:e.color)||((s=l(this,Ys))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(Mn,Kf)||b(Mn,Kf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Se(this,"_keyboardManager",new gp([[["Escape","mac+Escape"],Mn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Mn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Mn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Mn.prototype._moveToPrevious],[["Home","mac+Home"],Mn.prototype._moveToBeginning],[["End","mac+End"],Mn.prototype._moveToEnd]]))}renderButton(){const e=b(this,Xs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=l(this,Ys)._signal;e.addEventListener("click",A(this,He,Ao).bind(this),{signal:t}),e.addEventListener("keydown",A(this,He,j1).bind(this),{signal:t});const s=b(this,kl,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=l(this,Uu),e.append(s),e}renderMainDropdown(){const e=b(this,Tt,A(this,He,M1).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===l(this,Xs)){A(this,He,Ao).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,He,L1).call(this,t,e)}_moveToNext(e){var t,s;if(!l(this,He,Qi)){A(this,He,Ao).call(this,e);return}if(e.target===l(this,Xs)){(t=l(this,Tt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=l(this,Tt))==null?void 0:t.firstChild)||e.target===l(this,Xs)){l(this,He,Qi)&&this._hideDropdownFromKeyboard();return}l(this,He,Qi)||A(this,He,Ao).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!l(this,He,Qi)){A(this,He,Ao).call(this,e);return}(t=l(this,Tt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,He,Qi)){A(this,He,Ao).call(this,e);return}(t=l(this,Tt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,Tt))==null||e.classList.add("hidden"),(t=l(this,ja))==null||t.abort(),b(this,ja,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,$u)){if(!l(this,He,Qi)){(e=l(this,Xf))==null||e.unselect();return}this.hideDropdown(),l(this,Xs).focus({preventScroll:!0,focusVisible:l(this,Gf)})}}updateColor(e){if(l(this,kl)&&(l(this,kl).style.backgroundColor=e),!l(this,Tt))return;const t=l(this,Ys).highlightColors.values();for(const s of l(this,Tt).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=l(this,Xs))==null||e.remove(),b(this,Xs,null),b(this,kl,null),(t=l(this,Tt))==null||t.remove(),b(this,Tt,null)}};Xs=new WeakMap,kl=new WeakMap,Uu=new WeakMap,Tt=new WeakMap,Gf=new WeakMap,$u=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,ja=new WeakMap,Ys=new WeakMap,Vu=new WeakMap,Kf=new WeakMap,He=new WeakSet,M1=function(){const e=document.createElement("div"),t=l(this,Ys)._signal;e.addEventListener("contextmenu",Ns,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of l(this,Ys).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=s,i.setAttribute("data-l10n-id",l(Mn,Kf)[s]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=r,i.setAttribute("aria-selected",r===l(this,Uu)),i.addEventListener("click",A(this,He,L1).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",A(this,He,j1).bind(this),{signal:t}),e},L1=function(e,t){t.stopPropagation(),l(this,Yf).dispatch("switchannotationeditorparams",{source:this,type:l(this,Vu),value:e})},j1=function(e){Mn._keyboardManager.exec(this,e)},Ao=function(e){if(l(this,He,Qi)){this.hideDropdown();return}if(b(this,Gf,e.detail===0),l(this,ja)||(b(this,ja,new AbortController),window.addEventListener("pointerdown",A(this,He,tk).bind(this),{signal:l(this,Ys).combinedSignal(l(this,ja))})),l(this,Tt)){l(this,Tt).classList.remove("hidden");return}const t=b(this,Tt,A(this,He,M1).call(this));l(this,Xs).append(t)},tk=function(e){var t;(t=l(this,Tt))!=null&&t.contains(e.target)||this.hideDropdown()},Qi=function(){return l(this,Tt)&&!l(this,Tt).classList.contains("hidden")},E(Mn,Kf,null);let _g=Mn;var Wu,Qf,gi,Tl,qu,vs,Jf,Zf,Pl,Ks,cn,Dn,Gu,yi,Pt,Xu,xs,ep,de,F1,Nm,nk,sk,rk,O1,So,_s,xc,ik,Mm,Kd,ak,ok,lk,ck,uk;const Te=class Te extends Oe{constructor(t){super({...t,name:"highlightEditor"});E(this,de);E(this,Wu,null);E(this,Qf,0);E(this,gi);E(this,Tl,null);E(this,qu,null);E(this,vs,null);E(this,Jf,null);E(this,Zf,0);E(this,Pl,null);E(this,Ks,null);E(this,cn,null);E(this,Dn,!1);E(this,Gu,null);E(this,yi);E(this,Pt,null);E(this,Xu,"");E(this,xs);E(this,ep,"");this.color=t.color||Te._defaultColor,b(this,xs,t.thickness||Te._defaultThickness),b(this,yi,t.opacity||Te._defaultOpacity),b(this,gi,t.boxes||null),b(this,ep,t.methodOfCreation||""),b(this,Xu,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,Dn,!0),A(this,de,Nm).call(this,t),A(this,de,So).call(this)):l(this,gi)&&(b(this,Wu,t.anchorNode),b(this,Qf,t.anchorOffset),b(this,Jf,t.focusNode),b(this,Zf,t.focusOffset),A(this,de,F1).call(this),A(this,de,So).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Te.prototype;return Se(this,"_keyboardManager",new gp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Dn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,xs),methodOfCreation:l(this,ep)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;Oe.initialize(t,s),Te._defaultColor||(Te._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case le.HIGHLIGHT_DEFAULT_COLOR:Te._defaultColor=s;break;case le.HIGHLIGHT_THICKNESS:Te._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return l(this,Gu)}updateParams(t,s){switch(t){case le.HIGHLIGHT_COLOR:A(this,de,nk).call(this,s);break;case le.HIGHLIGHT_THICKNESS:A(this,de,sk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[le.HIGHLIGHT_DEFAULT_COLOR,Te._defaultColor],[le.HIGHLIGHT_THICKNESS,Te._defaultThickness]]}get propertiesToUpdate(){return[[le.HIGHLIGHT_COLOR,this.color||Te._defaultColor],[le.HIGHLIGHT_THICKNESS,l(this,xs)||Te._defaultThickness],[le.HIGHLIGHT_FREE,l(this,Dn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,qu,new _g({editor:this})),t.addColorPicker(l(this,qu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,de,Kd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,A(this,de,Kd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,de,O1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,de,So).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?A(this,de,O1).call(this):t&&(A(this,de,So).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var i,a,o;const{drawLayer:s}=this.parent;let r;l(this,Dn)?(t=(t-this.rotation+360)%360,r=A(i=Te,_s,xc).call(i,l(this,Ks).box,t)):r=A(a=Te,_s,xc).call(a,this,t),s.rotate(l(this,cn),t),s.rotate(l(this,Pt),t),s.updateBox(l(this,cn),r),s.updateBox(l(this,Pt),A(o=Te,_s,xc).call(o,l(this,vs).box,t))}render(){if(this.div)return this.div;const t=super.render();l(this,Xu)&&(t.setAttribute("aria-label",l(this,Xu)),t.setAttribute("role","mark")),l(this,Dn)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,de,ik).bind(this),{signal:this._uiManager._signal});const s=b(this,Pl,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=l(this,Tl);const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),Ag(this,l(this,Pl),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(l(this,Pt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(l(this,Pt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,de,Mm).call(this,!0);break;case 1:case 3:A(this,de,Mm).call(this,!1);break}}select(){var t,s;super.select(),l(this,Pt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,Pt),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(l(this,Pt),"selected"))}unselect(){var t;super.unselect(),l(this,Pt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,Pt),"selected"),l(this,Dn)||A(this,de,Mm).call(this,!1))}get _mustFixPosition(){return!l(this,Dn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(l(this,cn),t),this.parent.drawLayer.show(l(this,Pt),t))}static startHighlighting(t,s,{target:r,x:i,y:a}){const{x:o,y:c,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),g=v=>{v.preventDefault(),v.stopPropagation()},m=v=>{h.abort(),A(this,_s,ck).call(this,t,v)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",g,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Ns,{signal:p}),r.addEventListener("pointermove",A(this,_s,lk).bind(this,t),{signal:p}),this._freeHighlight=new N1({x:i,y:a},[o,c,u,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,r){var v,S,x,w;let i=null;if(t instanceof F4){const{data:{quadPoints:y,rect:_,rotation:C,id:k,color:R,opacity:N,popupRef:O},parent:{page:{pageNumber:j}}}=t;i=t={annotationType:he.HIGHLIGHT,color:Array.from(R),opacity:N,quadPoints:y,boxes:null,pageIndex:j-1,rect:_.slice(0),rotation:C,id:k,deleted:!1,popupRef:O}}else if(t instanceof Nb){const{data:{inkLists:y,rect:_,rotation:C,id:k,color:R,borderStyle:{rawWidth:N},popupRef:O},parent:{page:{pageNumber:j}}}=t;i=t={annotationType:he.HIGHLIGHT,color:Array.from(R),thickness:N,inkLists:y,boxes:null,pageIndex:j-1,rect:_.slice(0),rotation:C,id:k,deleted:!1,popupRef:O}}const{color:a,quadPoints:o,inkLists:c,opacity:u}=t,d=await super.deserialize(t,s,r);d.color=ne.makeHexColor(...a),b(d,yi,u||1),c&&b(d,xs,t.thickness),d.annotationElementId=t.id||null,d._initialData=i;const[h,p]=d.pageDimensions,[g,m]=d.pageTranslation;if(o){const y=b(d,gi,[]);for(let _=0;_<o.length;_+=8)y.push({x:(o[_]-g)/h,y:1-(o[_+1]-m)/p,width:(o[_+2]-o[_])/h,height:(o[_+1]-o[_+5])/p});A(v=d,de,F1).call(v),A(S=d,de,So).call(S),d.rotate(d.rotation)}else if(c){b(d,Dn,!0);const y=c[0],_={x:y[0]-g,y:p-(y[1]-m)},C=new N1(_,[0,0,h,p],1,l(d,xs)/2,!0,.001);for(let N=0,O=y.length;N<O;N+=2)_.x=y[N]-g,_.y=p-(y[N+1]-m),C.add(_);const{id:k,clipPathId:R}=s.drawLayer.draw(C,d.color,d._defaultOpacity,!0);A(x=d,de,Nm).call(x,{highlightOutlines:C.getOutlines(),highlightId:k,clipPathId:R}),A(w=d,de,So).call(w)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Oe._colorManager.convert(this.color),i={annotationType:he.HIGHLIGHT,color:r,opacity:l(this,yi),thickness:l(this,xs),quadPoints:A(this,de,ak).call(this),outlines:A(this,de,ok).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:A(this,de,Kd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,de,uk).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Wu=new WeakMap,Qf=new WeakMap,gi=new WeakMap,Tl=new WeakMap,qu=new WeakMap,vs=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,Pl=new WeakMap,Ks=new WeakMap,cn=new WeakMap,Dn=new WeakMap,Gu=new WeakMap,yi=new WeakMap,Pt=new WeakMap,Xu=new WeakMap,xs=new WeakMap,ep=new WeakMap,de=new WeakSet,F1=function(){const t=new _A(l(this,gi),.001);b(this,Ks,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,Ks).box;const s=new _A(l(this,gi),.0025,.001,this._uiManager.direction==="ltr");b(this,vs,s.getOutlines());const{lastPoint:r}=l(this,vs).box;b(this,Gu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Nm=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var h,p;if(b(this,Ks,t),b(this,vs,t.getNewOutline(l(this,xs)/2+1.5,.0025)),s>=0)b(this,cn,s),b(this,Tl,r),this.parent.drawLayer.finalizeLine(s,t),b(this,Pt,this.parent.drawLayer.drawOutline(l(this,vs)));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,cn),t),this.parent.drawLayer.updateBox(l(this,cn),A(h=Te,_s,xc).call(h,l(this,Ks).box,(g-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,Pt),l(this,vs)),this.parent.drawLayer.updateBox(l(this,Pt),A(p=Te,_s,xc).call(p,l(this,vs).box,g))}const{x:a,y:o,width:c,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=u;break;case 90:{const[g,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*m/g,this.height=u*g/m;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*m/g,this.height=u*g/m;break}}const{lastPoint:d}=l(this,vs).box;b(this,Gu,[(d[0]-a)/c,(d[1]-o)/u])},nk=function(t){const s=(a,o)=>{var c,u,d;this.color=a,(c=this.parent)==null||c.drawLayer.changeColor(l(this,cn),a),(u=l(this,qu))==null||u.updateColor(a),b(this,yi,o),(d=this.parent)==null||d.drawLayer.changeOpacity(l(this,cn),o)},r=this.color,i=l(this,yi);this.addCommands({cmd:s.bind(this,t,Te._defaultOpacity),undo:s.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},sk=function(t){const s=l(this,xs),r=i=>{b(this,xs,i),A(this,de,rk).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},rk=function(t){if(!l(this,Dn))return;A(this,de,Nm).call(this,{highlightOutlines:l(this,Ks).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},O1=function(){l(this,cn)===null||!this.parent||(this.parent.drawLayer.remove(l(this,cn)),b(this,cn,null),this.parent.drawLayer.remove(l(this,Pt)),b(this,Pt,null))},So=function(t=this.parent){l(this,cn)===null&&({id:Ot(this,cn)._,clipPathId:Ot(this,Tl)._}=t.drawLayer.draw(l(this,Ks),this.color,l(this,yi)),b(this,Pt,t.drawLayer.drawOutline(l(this,vs))),l(this,Pl)&&(l(this,Pl).style.clipPath=l(this,Tl)))},_s=new WeakSet,xc=function({x:t,y:s,width:r,height:i},a){switch(a){case 90:return{x:1-s-i,y:t,width:i,height:r};case 180:return{x:1-t-r,y:1-s-i,width:r,height:i};case 270:return{x:s,y:1-t-r,width:i,height:r}}return{x:t,y:s,width:r,height:i}},ik=function(t){Te._keyboardManager.exec(this,t)},Mm=function(t){if(!l(this,Wu))return;const s=window.getSelection();t?s.setPosition(l(this,Wu),l(this,Qf)):s.setPosition(l(this,Jf),l(this,Zf))},Kd=function(){return l(this,Dn)?this.rotation:0},ak=function(){if(l(this,Dn))return null;const[t,s]=this.pageDimensions,[r,i]=this.pageTranslation,a=l(this,gi),o=new Float32Array(a.length*8);let c=0;for(const{x:u,y:d,width:h,height:p}of a){const g=u*t+r,m=(1-d-p)*s+i;o[c]=o[c+4]=g,o[c+1]=o[c+3]=m,o[c+2]=o[c+6]=g+h*t,o[c+5]=o[c+7]=m+p*s,c+=8}return o},ok=function(t){return l(this,Ks).serialize(t,A(this,de,Kd).call(this))},lk=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},ck=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},uk=function(t){const{color:s}=this._initialData;return t.color.some((r,i)=>r!==s[i])},E(Te,_s),oe(Te,"_defaultColor",null),oe(Te,"_defaultOpacity",1),oe(Te,"_defaultThickness",12),oe(Te,"_type","highlight"),oe(Te,"_editorType",he.HIGHLIGHT),oe(Te,"_freeHighlightId",-1),oe(Te,"_freeHighlight",null),oe(Te,"_freeHighlightClipId","");let Cg=Te;var Rl,Nl,Pr,vi,bs,Ml,Ll,jl,xi,Yu,Fl,Ol,Fa,q,dk,hk,fk,pk,I1,mk,z1,gk,yk,vk,xk,bk,Eo,H1,B1,U1,Lm,jm,bc,$1,Fm,Hi,wk,V1,Ak,Sk,W1,Om,Qd;const Ze=class Ze extends Oe{constructor(t){super({...t,name:"inkEditor"});E(this,q);E(this,Rl,0);E(this,Nl,0);E(this,Pr,null);E(this,vi,new Path2D);E(this,bs,!1);E(this,Ml,null);E(this,Ll,!1);E(this,jl,!1);E(this,xi,null);E(this,Yu,null);E(this,Fl,0);E(this,Ol,0);E(this,Fa,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){Oe.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case le.INK_THICKNESS:Ze._defaultThickness=s;break;case le.INK_COLOR:Ze._defaultColor=s;break;case le.INK_OPACITY:Ze._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case le.INK_THICKNESS:A(this,q,dk).call(this,s);break;case le.INK_COLOR:A(this,q,hk).call(this,s);break;case le.INK_OPACITY:A(this,q,fk).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[le.INK_THICKNESS,Ze._defaultThickness],[le.INK_COLOR,Ze._defaultColor||Oe._defaultLineColor],[le.INK_OPACITY,Math.round(Ze._defaultOpacity*100)]]}get propertiesToUpdate(){return[[le.INK_THICKNESS,this.thickness||Ze._defaultThickness],[le.INK_COLOR,this.color||Ze._defaultColor||Oe._defaultLineColor],[le.INK_OPACITY,Math.round(100*(this.opacity??Ze._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,q,Lm).call(this),A(this,q,jm).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,q,bc).call(this)),A(this,q,Qd).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,Pr)&&(clearTimeout(l(this,Pr)),b(this,Pr,null)),(t=l(this,xi))==null||t.disconnect(),b(this,xi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,r=this.width*t,i=this.height*s;this.setDimensions(r,i)}enableEditMode(){l(this,bs)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,q,H1).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,q,B1).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,bs)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,bs,!0),this.div.classList.add("disabled"),A(this,q,Qd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||l(this,bs)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,q,mk).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,q,z1).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,q,U1).call(this,t)}canvasPointerleave(t){A(this,q,U1).call(this,t)}get isResizable(){return!this.isEmpty()&&l(this,bs)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,i,a,o]=A(this,q,pk).call(this);if(this.setAt(r,i,0,0),this.setDims(a,o),A(this,q,Lm).call(this),this.width){const[c,u]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*u),this.setAt(t*c,s*u,this.width*c,this.height*u),b(this,jl,!0),A(this,q,bc).call(this),this.setDims(this.width*c,this.height*u),A(this,q,Eo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,q,jm).call(this),this.div}setDimensions(t,s){const r=Math.round(t),i=Math.round(s);if(l(this,Fl)===r&&l(this,Ol)===i)return;b(this,Fl,r),b(this,Ol,i),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=s/o,this.fixAndSetPosition(),l(this,bs)&&A(this,q,$1).call(this,t,s),A(this,q,bc).call(this),A(this,q,Eo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,r){var S,x,w;if(t instanceof Nb)return null;const i=await super.deserialize(t,s,r);i.thickness=t.thickness,i.color=ne.makeHexColor(...t.color),i.opacity=t.opacity;const[a,o]=i.pageDimensions,c=i.width*a,u=i.height*o,d=i.parentScale,h=t.thickness/2;b(i,bs,!0),b(i,Fl,Math.round(c)),b(i,Ol,Math.round(u));const{paths:p,rect:g,rotation:m}=t;for(let{bezier:y}of p){y=A(S=Ze,Hi,Ak).call(S,y,g,m);const _=[];i.paths.push(_);let C=d*(y[0]-h),k=d*(y[1]-h);for(let N=2,O=y.length;N<O;N+=6){const j=d*(y[N]-h),I=d*(y[N+1]-h),B=d*(y[N+2]-h),H=d*(y[N+3]-h),$=d*(y[N+4]-h),Z=d*(y[N+5]-h);_.push([[C,k],[j,I],[B,H],[$,Z]]),C=$,k=Z}const R=A(this,Hi,wk).call(this,_);i.bezierPath2D.push(R)}const v=A(x=i,q,W1).call(x);return b(i,Nl,Math.max(Oe.MIN_SIZE,v[2]-v[0])),b(i,Rl,Math.max(Oe.MIN_SIZE,v[3]-v[1])),A(w=i,q,$1).call(w,c,u),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=Oe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:he.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:A(this,q,Sk).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Rl=new WeakMap,Nl=new WeakMap,Pr=new WeakMap,vi=new WeakMap,bs=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,jl=new WeakMap,xi=new WeakMap,Yu=new WeakMap,Fl=new WeakMap,Ol=new WeakMap,Fa=new WeakMap,q=new WeakSet,dk=function(t){const s=i=>{this.thickness=i,A(this,q,Qd).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},hk=function(t){const s=i=>{this.color=i,A(this,q,Eo).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fk=function(t){const s=i=>{this.opacity=i,A(this,q,Eo).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},pk=function(){const{parentRotation:t,parentDimensions:[s,r]}=this;switch(t){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},I1=function(){const{ctx:t,color:s,opacity:r,thickness:i,parentScale:a,scaleFactor:o}=this;t.lineWidth=i*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${qF(r)}`},mk=function(t,s){this.canvas.addEventListener("contextmenu",Ns,{signal:this._uiManager._signal}),A(this,q,B1).call(this),b(this,Ml,new AbortController);const r=this._uiManager.combinedSignal(l(this,Ml));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,l(this,jl)||(b(this,jl,!0),A(this,q,bc).call(this),this.thickness||(this.thickness=Ze._defaultThickness),this.color||(this.color=Ze._defaultColor||Oe._defaultLineColor),this.opacity??(this.opacity=Ze._defaultOpacity)),this.currentPath.push([t,s]),b(this,Ll,!1),A(this,q,I1).call(this),b(this,Fa,()=>{A(this,q,vk).call(this),l(this,Fa)&&window.requestAnimationFrame(l(this,Fa))}),window.requestAnimationFrame(l(this,Fa))},z1=function(t,s){const[r,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&s===i)return;const a=this.currentPath;let o=l(this,vi);if(a.push([t,s]),b(this,Ll,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,s);return}a.length===3&&(b(this,vi,o=new Path2D),o.moveTo(...a[0])),A(this,q,xk).call(this,o,...a.at(-3),...a.at(-2),t,s)},gk=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);l(this,vi).lineTo(...t)},yk=function(t,s){b(this,Fa,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),A(this,q,z1).call(this,t,s),A(this,q,gk).call(this);let r;if(this.currentPath.length!==1)r=A(this,q,bk).call(this);else{const u=[t,s];r=[[u,u.slice(),u.slice(),u]]}const i=l(this,vi),a=this.currentPath;this.currentPath=[],b(this,vi,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,q,Lm).call(this),A(this,q,jm).call(this)),A(this,q,Qd).call(this))};this.addCommands({cmd:o,undo:c,mustExec:!0})},vk=function(){if(!l(this,Ll))return;b(this,Ll,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(o=>o[0]),i=s.map(o=>o[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(l(this,vi)),a.restore()},xk=function(t,s,r,i,a,o,c){const u=(s+i)/2,d=(r+a)/2,h=(i+o)/2,p=(a+c)/2;t.bezierCurveTo(u+2*(i-u)/3,d+2*(a-d)/3,h+2*(i-h)/3,p+2*(a-p)/3,h,p)},bk=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let r,[i,a]=t[0];for(r=1;r<t.length-2;r++){const[g,m]=t[r],[v,S]=t[r+1],x=(g+v)/2,w=(m+S)/2,y=[i+2*(g-i)/3,a+2*(m-a)/3],_=[x+2*(g-x)/3,w+2*(m-w)/3];s.push([[i,a],y,_,[x,w]]),[i,a]=[x,w]}const[o,c]=t[r],[u,d]=t[r+1],h=[i+2*(o-i)/3,a+2*(c-a)/3],p=[u+2*(o-u)/3,d+2*(c-d)/3];return s.push([[i,a],h,p,[u,d]]),s},Eo=function(){if(this.isEmpty()){A(this,q,Fm).call(this);return}A(this,q,I1).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),A(this,q,Fm).call(this);for(const r of this.bezierPath2D)s.stroke(r)},H1=function(){if(l(this,Yu))return;b(this,Yu,new AbortController);const t=this._uiManager.combinedSignal(l(this,Yu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},B1=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},U1=function(t){var s;(s=l(this,Ml))==null||s.abort(),b(this,Ml,null),A(this,q,H1).call(this),l(this,Pr)&&clearTimeout(l(this,Pr)),b(this,Pr,setTimeout(()=>{b(this,Pr,null),this.canvas.removeEventListener("contextmenu",Ns)},10)),A(this,q,yk).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Lm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},jm=function(){b(this,xi,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),l(this,xi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,xi))==null||t.disconnect(),b(this,xi,null)},{once:!0})},bc=function(){if(!l(this,jl))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),A(this,q,Fm).call(this)},$1=function(t,s){const r=A(this,q,Om).call(this),i=(t-r)/l(this,Nl),a=(s-r)/l(this,Rl);this.scaleFactor=Math.min(i,a)},Fm=function(){const t=A(this,q,Om).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Hi=new WeakSet,wk=function(t){const s=new Path2D;for(let r=0,i=t.length;r<i;r++){const[a,o,c,u]=t[r];r===0&&s.moveTo(...a),s.bezierCurveTo(o[0],o[1],c[0],c[1],u[0],u[1])}return s},V1=function(t,s,r){const[i,a,o,c]=s;switch(r){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=i,t[u+1]=c-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+i,t[u+1]=h+a}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=o-t[u],t[u+1]+=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=o-t[u+1],t[u+1]=c-h}break;default:throw new Error("Invalid rotation")}return t},Ak=function(t,s,r){const[i,a,o,c]=s;switch(r){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=i,t[u+1]=c-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-a,t[u+1]=h-i}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=o-t[u],t[u+1]-=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=c-t[u+1],t[u+1]=o-h}break;default:throw new Error("Invalid rotation")}return t},Sk=function(t,s,r,i){var d,h;const a=[],o=this.thickness/2,c=t*s+o,u=t*r+o;for(const p of this.paths){const g=[],m=[];for(let v=0,S=p.length;v<S;v++){const[x,w,y,_]=p[v];if(x[0]===_[0]&&x[1]===_[1]&&S===1){const H=t*x[0]+c,$=t*x[1]+u;g.push(H,$),m.push(H,$);break}const C=t*x[0]+c,k=t*x[1]+u,R=t*w[0]+c,N=t*w[1]+u,O=t*y[0]+c,j=t*y[1]+u,I=t*_[0]+c,B=t*_[1]+u;v===0&&(g.push(C,k),m.push(C,k)),g.push(R,N,O,j,I,B),m.push(R,N),v===S-1&&m.push(I,B)}a.push({bezier:A(d=Ze,Hi,V1).call(d,g,i,this.rotation),points:A(h=Ze,Hi,V1).call(h,m,i,this.rotation)})}return a},W1=function(){let t=1/0,s=-1/0,r=1/0,i=-1/0;for(const a of this.paths)for(const[o,c,u,d]of a){const h=ne.bezierBoundingBox(...o,...c,...u,...d);t=Math.min(t,h[0]),r=Math.min(r,h[1]),s=Math.max(s,h[2]),i=Math.max(i,h[3])}return[t,r,s,i]},Om=function(){return l(this,bs)?Math.ceil(this.thickness*this.parentScale):0},Qd=function(t=!1){if(this.isEmpty())return;if(!l(this,bs)){A(this,q,Eo).call(this);return}const s=A(this,q,W1).call(this),r=A(this,q,Om).call(this);b(this,Nl,Math.max(Oe.MIN_SIZE,s[2]-s[0])),b(this,Rl,Math.max(Oe.MIN_SIZE,s[3]-s[1]));const i=Math.ceil(r+l(this,Nl)*this.scaleFactor),a=Math.ceil(r+l(this,Rl)*this.scaleFactor),[o,c]=this.parentDimensions;this.width=i/o,this.height=a/c,this.setAspectRatio(i,a);const u=this.translationX,d=this.translationY;this.translationX=-s[0],this.translationY=-s[1],A(this,q,bc).call(this),A(this,q,Eo).call(this),b(this,Fl,i),b(this,Ol,a),this.setDims(i,a);const h=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},E(Ze,Hi),oe(Ze,"_defaultColor",null),oe(Ze,"_defaultOpacity",1),oe(Ze,"_defaultThickness",1),oe(Ze,"_type","ink"),oe(Ze,"_editorType",he.INK);let D1=Ze;var tt,Qt,Oa,bi,Da,Ku,Rr,wi,Nr,ns,Qu,we,Jd,Zd,Dm,G1,Ek,Im,X1,zm,_k,Ck;const fh=class fh extends Oe{constructor(t){super({...t,name:"stampEditor"});E(this,we);E(this,tt,null);E(this,Qt,null);E(this,Oa,null);E(this,bi,null);E(this,Da,null);E(this,Ku,"");E(this,Rr,null);E(this,wi,null);E(this,Nr,null);E(this,ns,!1);E(this,Qu,!1);b(this,bi,t.bitmapUrl),b(this,Da,t.bitmapFile)}static initialize(t,s){Oe.initialize(t,s)}static get supportedTypes(){return Se(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Se(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(he.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),s&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t,s;l(this,Qt)&&(b(this,tt,null),this._uiManager.imageManager.deleteId(l(this,Qt)),(t=l(this,Rr))==null||t.remove(),b(this,Rr,null),(s=l(this,wi))==null||s.disconnect(),b(this,wi,null),l(this,Nr)&&(clearTimeout(l(this,Nr)),b(this,Nr,null))),super.remove()}rebuild(){if(!this.parent){l(this,Qt)&&A(this,we,Dm).call(this);return}super.rebuild(),this.div!==null&&(l(this,Qt)&&l(this,Rr)===null&&A(this,we,Dm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,Oa)||l(this,tt)||l(this,bi)||l(this,Da)||l(this,Qt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),l(this,tt)?A(this,we,G1).call(this):A(this,we,Dm).call(this),this.width&&!this.annotationElementId){const[r,i]=this.parentDimensions;this.setAt(t*r,s*i,this.width*r,this.height*i)}return this.div}copyCanvas(t,s,r=!1){var g;t||(t=224);const{width:i,height:a}=l(this,tt),o=new Uv;let c=l(this,tt),u=i,d=a,h=null;if(s){if(i>s||a>s){const N=Math.min(s/i,s/a);u=Math.floor(i*N),d=Math.floor(a*N)}h=document.createElement("canvas");const m=h.width=Math.ceil(u*o.sx),v=h.height=Math.ceil(d*o.sy);l(this,ns)||(c=A(this,we,Im).call(this,m,v));const S=h.getContext("2d");S.filter=this._uiManager.hcmFilter;let x="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(g=window.matchMedia)!=null&&g.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",w="#42414d");const y=15,_=y*o.sx,C=y*o.sy,k=new OffscreenCanvas(_*2,C*2),R=k.getContext("2d");R.fillStyle=x,R.fillRect(0,0,_*2,C*2),R.fillStyle=w,R.fillRect(0,0,_,C),R.fillRect(_,C,_,C),S.fillStyle=S.createPattern(k,"repeat"),S.fillRect(0,0,m,v),S.drawImage(c,0,0,c.width,c.height,0,0,m,v)}let p=null;if(r){let m,v;if(o.symmetric&&c.width<t&&c.height<t)m=c.width,v=c.height;else if(c=l(this,tt),i>t||a>t){const w=Math.min(t/i,t/a);m=Math.floor(i*w),v=Math.floor(a*w),l(this,ns)||(c=A(this,we,Im).call(this,m,v))}const x=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,m,v),p={width:m,height:v,data:x.getImageData(0,0,m,v).data}}return{canvas:h,width:u,height:d,imageData:p}}getImageForAltText(){return l(this,Rr)}static async deserialize(t,s,r){var v;let i=null;if(t instanceof O4){const{data:{rect:S,rotation:x,id:w,structParent:y,popupRef:_},container:C,parent:{page:{pageNumber:k}}}=t,R=C.querySelector("canvas"),N=r.imageManager.getFromCanvas(C.id,R);R.remove();const O=((v=await s._structTree.getAriaAttributes(`${bb}${w}`))==null?void 0:v.get("aria-label"))||"";i=t={annotationType:he.STAMP,bitmapId:N.id,bitmap:N.bitmap,pageIndex:k-1,rect:S.slice(0),rotation:x,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:y,popupRef:_}}const a=await super.deserialize(t,s,r),{rect:o,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:p}=t;d&&r.imageManager.isValidId(d)?(b(a,Qt,d),c&&b(a,tt,c)):b(a,bi,u),b(a,ns,h);const[g,m]=a.pageDimensions;return a.width=(o[2]-o[0])/g,a.height=(o[3]-o[1])/m,a.annotationElementId=t.id||null,p&&(a.altTextData=p),a._initialData=i,b(a,Qu,!!i),a}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:he.STAMP,bitmapId:l(this,Qt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,ns),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=A(this,we,zm).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=A(this,we,Ck).call(this,r);if(c.isSame)return null;c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const o=l(this,ns)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(l(this,Qt)))s.stamps.set(l(this,Qt),{area:o,serialized:r}),r.bitmap=A(this,we,zm).call(this,!1);else if(l(this,ns)){const c=s.stamps.get(l(this,Qt));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=A(this,we,zm).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};tt=new WeakMap,Qt=new WeakMap,Oa=new WeakMap,bi=new WeakMap,Da=new WeakMap,Ku=new WeakMap,Rr=new WeakMap,wi=new WeakMap,Nr=new WeakMap,ns=new WeakMap,Qu=new WeakMap,we=new WeakSet,Jd=function(t,s=!1){if(!t){this.remove();return}b(this,tt,t.bitmap),s||(b(this,Qt,t.id),b(this,ns,t.isSvg)),t.file&&b(this,Ku,t.file.name),A(this,we,G1).call(this)},Zd=function(){if(b(this,Oa,null),this._uiManager.enableWaiting(!1),!!l(this,Rr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,tt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,tt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Dm=function(){if(l(this,Qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Qt)).then(r=>A(this,we,Jd).call(this,r,!0)).finally(()=>A(this,we,Zd).call(this));return}if(l(this,bi)){const r=l(this,bi);b(this,bi,null),this._uiManager.enableWaiting(!0),b(this,Oa,this._uiManager.imageManager.getFromUrl(r).then(i=>A(this,we,Jd).call(this,i)).finally(()=>A(this,we,Zd).call(this)));return}if(l(this,Da)){const r=l(this,Da);b(this,Da,null),this._uiManager.enableWaiting(!0),b(this,Oa,this._uiManager.imageManager.getFromFile(r).then(i=>A(this,we,Jd).call(this,i)).finally(()=>A(this,we,Zd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=fh.supportedTypesStr;const s=this._uiManager._signal;b(this,Oa,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,we,Jd).call(this,i)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>A(this,we,Zd).call(this))),t.click()},G1=function(){const{div:t}=this;let{width:s,height:r}=l(this,tt);const[i,a]=this.pageDimensions,o=.75;if(this.width)s=this.width*i,r=this.height*a;else if(s>o*i||r>o*a){const h=Math.min(o*i/s,o*a/r);s*=h,r*=h}const[c,u]=this.parentDimensions;this.setDims(s*c/i,r*u/a),this._uiManager.enableWaiting(!1);const d=b(this,Rr,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,we,X1).call(this,s,r),A(this,we,_k).call(this),l(this,Qu)||(this.parent.addUndoableEditor(this),b(this,Qu,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Ku)&&d.setAttribute("aria-label",l(this,Ku))},Ek=function(t,s){var o;const[r,i]=this.parentDimensions;this.width=t/r,this.height=s/i,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,Nr)!==null&&clearTimeout(l(this,Nr)),b(this,Nr,setTimeout(()=>{b(this,Nr,null),A(this,we,X1).call(this,t,s)},200))},Im=function(t,s){const{width:r,height:i}=l(this,tt);let a=r,o=i,c=l(this,tt);for(;a>2*t||o>2*s;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*s&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(c,0,0,u,d,0,0,a,o),c=h.transferToImageBitmap()}return c},X1=function(t,s){const r=new Uv,i=Math.ceil(t*r.sx),a=Math.ceil(s*r.sy),o=l(this,Rr);if(!o||o.width===i&&o.height===a)return;o.width=i,o.height=a;const c=l(this,ns)?l(this,tt):A(this,we,Im).call(this,i,a),u=o.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,i,a)},zm=function(t){if(t){if(l(this,ns)){const i=this._uiManager.imageManager.getSvgUrl(l(this,Qt));if(i)return i}const s=document.createElement("canvas");return{width:s.width,height:s.height}=l(this,tt),s.getContext("2d").drawImage(l(this,tt),0,0),s.toDataURL()}if(l(this,ns)){const[s,r]=this.pageDimensions,i=Math.round(this.width*s*ro.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*ro.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(l(this,tt),0,0,l(this,tt).width,l(this,tt).height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(l(this,tt))},_k=function(){this._uiManager._signal&&(b(this,wi,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&A(this,we,Ek).call(this,s.width,s.height)})),l(this,wi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,wi))==null||t.disconnect(),b(this,wi,null)},{once:!0}))},Ck=function(t){var u;const{rect:s,pageIndex:r,accessibilityData:{altText:i}}=this._initialData,a=t.rect.every((d,h)=>Math.abs(d-s[h])<1),o=t.pageIndex===r,c=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===i;return{isSame:a&&o&&c,isSameAltText:c}},oe(fh,"_type","stamp"),oe(fh,"_editorType",he.STAMP);let q1=fh;var Dl,Ju,Mr,Ia,Ai,ss,za,Zu,ed,un,Si,re,Ha,en,kk,K1,Q1,J1,Hm;const Ls=class Ls{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:i,annotationLayer:a,drawLayer:o,textLayer:c,viewport:u,l10n:d}){E(this,en);E(this,Dl);E(this,Ju,!1);E(this,Mr,null);E(this,Ia,null);E(this,Ai,null);E(this,ss,new Map);E(this,za,!1);E(this,Zu,!1);E(this,ed,!1);E(this,un,null);E(this,Si,null);E(this,re);const h=[...l(Ls,Ha).values()];if(!Ls._initialized){Ls._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),b(this,re,e),this.pageIndex=t,this.div=s,b(this,Dl,i),b(this,Mr,a),this.viewport=u,b(this,un,c),this.drawLayer=o,this._structTree=r,l(this,re).addLayer(this)}get isEmpty(){return l(this,ss).size===0}get isInvisible(){return this.isEmpty&&l(this,re).getMode()===he.NONE}updateToolbar(e){l(this,re).updateToolbar(e)}updateMode(e=l(this,re).getMode()){switch(A(this,en,Hm).call(this),e){case he.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case he.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case he.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of l(Ls,Ha).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,un))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(l(this,re).getMode()!==he.INK)return;if(!e){for(const s of l(this,ss).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){l(this,re).setEditingState(e)}addCommands(e){l(this,re).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,Mr))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of l(this,ss).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,re).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!l(this,Mr))return;const t=l(this,Mr).getEditableAnnotations();for(const s of t){if(s.hide(),l(this,re).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;b(this,ed,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of l(this,ss).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(r=this.getEditableAnnotation(i.annotationElementId))==null||r.show(),i.remove()}if(l(this,Mr)){const i=l(this,Mr).getEditableAnnotations();for(const a of i){const{id:o}=a.data;if(l(this,re).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(o),c&&(l(this,re).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}A(this,en,Hm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of l(Ls,Ha).values())s.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,ed,!1)}getEditableAnnotation(e){var t;return((t=l(this,Mr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,re).getActive()!==e&&l(this,re).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,un))!=null&&e.div&&!l(this,Si)){b(this,Si,new AbortController);const t=l(this,re).combinedSignal(l(this,Si));l(this,un).div.addEventListener("pointerdown",A(this,en,kk).bind(this),{signal:t}),l(this,un).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,un))!=null&&e.div&&l(this,Si)&&(l(this,Si).abort(),b(this,Si,null),l(this,un).div.classList.remove("highlighting"))}enableClick(){if(l(this,Ia))return;b(this,Ia,new AbortController);const e=l(this,re).combinedSignal(l(this,Ia));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=l(this,Ia))==null||e.abort(),b(this,Ia,null)}attach(e){l(this,ss).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,re).isDeletedAnnotationElement(t)&&l(this,re).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,ss).delete(e.id),(t=l(this,Dl))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,ed)&&e.annotationElementId&&l(this,re).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,re).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,l(this,Zu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,re).addDeletedAnnotationElement(e.annotationElementId),Oe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,re).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),l(this,re).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,Ai)&&(e._focusEventsAllowed=!1,b(this,Ai,setTimeout(()=>{b(this,Ai,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,re)._signal}),t.focus())},0))),e._structTreeParentId=(s=l(this,Dl))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return l(this,re).getId()}combinedSignal(e){return l(this,re).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,en,K1))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){l(this,re).updateToolbar(e),l(this,re).updateMode(e);const{offsetX:s,offsetY:r}=A(this,en,J1).call(this),i=this.getNextId(),a=A(this,en,Q1).call(this,{parent:this,id:i,x:s,y:r,uiManager:l(this,re),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=l(Ls,Ha).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,re)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),i=A(this,en,Q1).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:l(this,re),isCentered:t,...s});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(A(this,en,J1).call(this),!0)}setSelected(e){l(this,re).setSelected(e)}toggleSelected(e){l(this,re).toggleSelected(e)}unselect(e){l(this,re).unselect(e)}pointerup(e){const{isMac:t}=Cn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&l(this,za)){if(b(this,za,!1),!l(this,Ju)){b(this,Ju,!0);return}if(l(this,re).getMode()===he.STAMP){l(this,re).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(l(this,re).getMode()===he.HIGHLIGHT&&this.enableTextSelection(),l(this,za)){b(this,za,!1);return}const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,za,!0);const s=l(this,re).getActive();b(this,Ju,!s||s.isEmpty())}findNewParent(e,t,s){const r=l(this,re).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=l(this,re).getActive())==null?void 0:e.parent)===this&&(l(this,re).commitOrRemove(),l(this,re).setActiveEditor(null)),l(this,Ai)&&(clearTimeout(l(this,Ai)),b(this,Ai,null));for(const s of l(this,ss).values())(t=l(this,Dl))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,l(this,ss).clear(),l(this,re).removeLayer(this)}render({viewport:e}){this.viewport=e,Kl(this.div,e);for(const t of l(this,re).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,re).commitOrRemove(),A(this,en,Hm).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Kl(this.div,{rotation:s}),t!==s)for(const r of l(this,ss).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,re).viewParameters.realScale}};Dl=new WeakMap,Ju=new WeakMap,Mr=new WeakMap,Ia=new WeakMap,Ai=new WeakMap,ss=new WeakMap,za=new WeakMap,Zu=new WeakMap,ed=new WeakMap,un=new WeakMap,Si=new WeakMap,re=new WeakMap,Ha=new WeakMap,en=new WeakSet,kk=function(e){l(this,re).unselectAll();const{target:t}=e;if(t===l(this,un).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,un).div.contains(t)){const{isMac:s}=Cn.platform;if(e.button!==0||e.ctrlKey&&s)return;l(this,re).showAllEditors("highlight",!0,!0),l(this,un).div.classList.add("free"),this.toggleDrawing(),Cg.startHighlighting(this,l(this,re).direction==="ltr",{target:l(this,un).div,x:e.x,y:e.y}),l(this,un).div.addEventListener("pointerup",()=>{l(this,un).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,re)._signal}),e.preventDefault()}},K1=function(){return l(Ls,Ha).get(l(this,re).getMode())},Q1=function(e){const t=l(this,en,K1);return t?new t.prototype.constructor(e):null},J1=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+s),c=Math.min(window.innerHeight,t+r),u=(i+o)/2-e,d=(a+c)/2-t,[h,p]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:p}},Hm=function(){b(this,Zu,!0);for(const e of l(this,ss).values())e.isEmpty()&&e.remove();b(this,Zu,!1)},oe(Ls,"_initialized",!1),E(Ls,Ha,new Map([T1,D1,q1,Cg].map(e=>[e._editorType,e])));let Y1=Ls;var Lr,tp,wt,Ei,np,ex,tc,tx,Tk;const Xt=class Xt{constructor({pageIndex:e}){E(this,tc);E(this,Lr,null);E(this,tp,0);E(this,wt,new Map);E(this,Ei,new Map);this.pageIndex=e}setParent(e){if(!l(this,Lr)){b(this,Lr,e);return}if(l(this,Lr)!==e){if(l(this,wt).size>0)for(const t of l(this,wt).values())t.remove(),e.append(t);b(this,Lr,e)}}static get _svgFactory(){return Se(this,"_svgFactory",new Rb)}draw(e,t,s,r=!1){const i=Ot(this,tp)._++,a=A(this,tc,tx).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const o=Xt._svgFactory.createElement("defs");a.append(o);const c=Xt._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("d",e.toSVGPath()),r&&l(this,Ei).set(i,c);const d=A(this,tc,Tk).call(this,o,u),h=Xt._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",t),a.setAttribute("fill-opacity",s),h.setAttribute("href",`#${u}`),l(this,wt).set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e){const t=Ot(this,tp)._++,s=A(this,tc,tx).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const r=Xt._svgFactory.createElement("defs");s.append(r);const i=Xt._svgFactory.createElement("path");r.append(i);const a=`path_p${this.pageIndex}_${t}`;i.setAttribute("id",a),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const d=Xt._svgFactory.createElement("mask");r.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const h=Xt._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=Xt._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=Xt._svgFactory.createElement("use");s.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);const u=c.cloneNode();return s.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),l(this,wt).set(t,s),t}finalizeLine(e,t){const s=l(this,Ei).get(e);l(this,Ei).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){l(this,wt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){l(this,Ei).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;A(s=Xt,np,ex).call(s,l(this,wt).get(e),t)}show(e,t){l(this,wt).get(e).classList.toggle("hidden",!t)}rotate(e,t){l(this,wt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){l(this,wt).get(e).setAttribute("fill",t)}changeOpacity(e,t){l(this,wt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){l(this,wt).get(e).classList.add(t)}removeClass(e,t){l(this,wt).get(e).classList.remove(t)}getSVGRoot(e){return l(this,wt).get(e)}remove(e){l(this,Ei).delete(e),l(this,Lr)!==null&&(l(this,wt).get(e).remove(),l(this,wt).delete(e))}destroy(){b(this,Lr,null);for(const e of l(this,wt).values())e.remove();l(this,wt).clear(),l(this,Ei).clear()}};Lr=new WeakMap,tp=new WeakMap,wt=new WeakMap,Ei=new WeakMap,np=new WeakSet,ex=function(e,{x:t=0,y:s=0,width:r=1,height:i=1}={}){const{style:a}=e;a.top=`${100*s}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*i}%`},tc=new WeakSet,tx=function(e){var s;const t=Xt._svgFactory.create(1,1,!0);return l(this,Lr).append(t),t.setAttribute("aria-hidden",!0),A(s=Xt,np,ex).call(s,t,e),t},Tk=function(e,t){const s=Xt._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const i=Xt._svgFactory.createElement("use");return s.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},E(Xt,np);let Z1=Xt;var _O=ce.AbortException,CO=ce.AnnotationEditorLayer,kO=ce.AnnotationEditorParamsType,TO=ce.AnnotationEditorType,PO=ce.AnnotationEditorUIManager,Pk=ce.AnnotationLayer,Rk=ce.AnnotationMode,RO=ce.ColorPicker,NO=ce.DOMSVGFactory,MO=ce.DrawLayer,LO=ce.FeatureTest,Mb=ce.GlobalWorkerOptions,jO=ce.ImageKind,FO=ce.InvalidPDFException,OO=ce.MissingPDFException,DO=ce.OPS,IO=ce.OutputScale,zO=ce.PDFDataRangeTransport,HO=ce.PDFDateString,BO=ce.PDFWorker,UO=ce.PasswordResponses,$O=ce.PermissionFlag,VO=ce.PixelsPerInch,WO=ce.RenderingCancelledException,Nk=ce.TextLayer,qO=ce.UnexpectedResponseException,GO=ce.Util,XO=ce.VerbosityLevel,YO=ce.XfaLayer,KO=ce.build,QO=ce.createValidAbsoluteUrl,JO=ce.fetchData,Mk=ce.getDocument,ZO=ce.getFilenameFromUrl,eD=ce.getPdfFilenameFromUrl,tD=ce.getXfaPageViewport,nD=ce.isDataScheme,sD=ce.isPdfFile,rD=ce.noContextMenu,iD=ce.normalizeUnicode,aD=ce.setLayerDimensions,oD=ce.shadow,Lk=ce.version;const lD=Object.freeze(Object.defineProperty({__proto__:null,AbortException:_O,AnnotationEditorLayer:CO,AnnotationEditorParamsType:kO,AnnotationEditorType:TO,AnnotationEditorUIManager:PO,AnnotationLayer:Pk,AnnotationMode:Rk,ColorPicker:RO,DOMSVGFactory:NO,DrawLayer:MO,FeatureTest:LO,GlobalWorkerOptions:Mb,ImageKind:jO,InvalidPDFException:FO,MissingPDFException:OO,OPS:DO,OutputScale:IO,PDFDataRangeTransport:zO,PDFDateString:HO,PDFWorker:BO,PasswordResponses:UO,PermissionFlag:$O,PixelsPerInch:VO,RenderingCancelledException:WO,TextLayer:Nk,UnexpectedResponseException:qO,Util:GO,VerbosityLevel:XO,XfaLayer:YO,build:KO,createValidAbsoluteUrl:QO,fetchData:JO,getDocument:Mk,getFilenameFromUrl:ZO,getPdfFilenameFromUrl:eD,getXfaPageViewport:tD,isDataScheme:nD,isPdfFile:sD,noContextMenu:rD,normalizeUnicode:iD,setLayerDimensions:aD,shadow:oD,version:Lk},Symbol.toStringTag,{value:"Module"}));var Dt=function(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return n.concat(i||Array.prototype.slice.call(e))},cD=["onCopy","onCut","onPaste"],uD=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],dD=["onFocus","onBlur"],hD=["onInput","onInvalid","onReset","onSubmit"],fD=["onLoad","onError"],pD=["onKeyDown","onKeyPress","onKeyUp"],mD=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],gD=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],yD=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],vD=["onSelect"],xD=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],bD=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],wD=["onScroll"],AD=["onWheel"],SD=["onAnimationStart","onAnimationEnd","onAnimationIteration"],ED=["onTransitionEnd"],_D=["onToggle"],CD=["onChange"],kD=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],cD,!0),uD,!0),dD,!0),hD,!0),fD,!0),pD,!0),mD,!0),gD,!0),yD,!0),vD,!0),xD,!0),bD,!0),wD,!0),AD,!0),SD,!0),ED,!0),CD,!0),_D,!0);function jk(n,e){var t={};return kD.forEach(function(s){var r=n[s];r&&(e?t[s]=function(i){return r(i,e(s))}:t[s]=r)}),t}function vp(n){var e=!1,t=new Promise(function(s,r){n.then(function(i){return!e&&s(i)}).catch(function(i){return!e&&r(i)})});return{promise:t,cancel:function(){e=!0}}}function Fk(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=Fk(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function C0(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=Fk(n))&&(s&&(s+=" "),s+=e);return s}var TD="Invariant failed";function Ue(n,e){if(!n)throw new Error(TD)}var PD=function(){},RD=PD;const fn=XA(RD);var CA=Object.prototype.hasOwnProperty;function kA(n,e,t){for(t of n.keys())if($c(t,e))return t}function $c(n,e){var t,s,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&$c(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(r=s,r&&typeof r=="object"&&(r=kA(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(r=s[0],r&&typeof r=="object"&&(r=kA(e,r),!r)||!$c(s[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(CA.call(n,t)&&++s&&!CA.call(e,t)||!(t in e)||!$c(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const Ok=P.createContext(null);function Vc({children:n,type:e}){return f.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const ND="noopener noreferrer nofollow";class MD{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ue(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ue(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ue(this.pdfDocument),Ue(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ue(Array.isArray(t));const s=t[0];new Promise(r=>{Ue(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(i=>{r(i)}).catch(()=>{Ue(!1)}):typeof s=="number"?r(s):Ue(!1)}).then(r=>{const i=r+1;Ue(this.pdfViewer),Ue(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ue(this.pdfViewer),Ue(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||ND,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const TA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},k0=typeof window<"u",Dk=k0&&window.location.protocol==="file:";function LD(n){return typeof n<"u"}function yo(n){return LD(n)&&n!==null}function jD(n){return typeof n=="string"}function FD(n){return n instanceof ArrayBuffer}function OD(n){return Ue(k0),n instanceof Blob}function nx(n){return jD(n)&&/^data:/.test(n)}function PA(n){Ue(nx(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function DD(){return k0&&window.devicePixelRatio||1}const Ik="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function RA(){fn(!Dk,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Ik}`)}function ID(){fn(!Dk,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Ik}`)}function Zl(n){n!=null&&n.cancel&&n.cancel()}function sx(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function zD(n){return n.name==="RenderingCancelledException"}function HD(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:i}=r.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function BD(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function ud(){return P.useReducer(BD,{value:void 0,error:void 0})}var UD=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(d){try{u(s.next(d))}catch(h){a(h)}}function c(d){try{u(s.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):r(d.value).then(o,c)}u((s=s.apply(n,e||[])).next())})},NA=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const{PDFDataRangeTransport:$D}=lD,VD=(n,e)=>{switch(e){case TA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case TA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function MA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const WD=P.forwardRef(function(e,t){var{children:s,className:r,error:i="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:c,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:v,onLoadSuccess:S,onPassword:x=VD,onSourceError:w,onSourceSuccess:y,options:_,renderMode:C,rotate:k}=e,R=NA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[N,O]=ud(),{value:j,error:I}=N,[B,H]=ud(),{value:$,error:Z}=B,X=P.useRef(new MD),V=P.useRef([]),F=P.useRef(void 0),Q=P.useRef(void 0);c&&c!==F.current&&MA(c)&&(fn(!$c(c,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=c),_&&_!==Q.current&&(fn(!$c(_,Q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Q.current=_);const ee=P.useRef({scrollPageIntoView:ze=>{const{dest:Je,pageNumber:_t,pageIndex:vt=_t-1}=ze;if(g){g({dest:Je,pageIndex:vt,pageNumber:_t});return}const Vi=V.current[vt];if(Vi){Vi.scrollIntoView();return}fn(!1,`An internal link leading to page ${_t} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});P.useImperativeHandle(t,()=>({linkService:X,pages:V,viewer:ee}),[]);function ie(){y&&y()}function ae(){I&&(fn(!1,I.toString()),w&&w(I))}function ve(){O({type:"RESET"})}P.useEffect(ve,[c,O]);const Me=P.useCallback(()=>UD(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return nx(c)?{data:PA(c)}:(RA(),{url:c});if(c instanceof $D)return{range:c};if(FD(c))return{data:c};if(k0&&OD(c))return{data:yield HD(c)};if(Ue(typeof c=="object"),Ue(MA(c)),"url"in c&&typeof c.url=="string"){if(nx(c.url)){const{url:ze}=c,Je=NA(c,["url"]),_t=PA(ze);return Object.assign({data:_t},Je)}RA()}return c}),[c]);P.useEffect(()=>{const ze=vp(Me());return ze.promise.then(Je=>{O({type:"RESOLVE",value:Je})}).catch(Je=>{O({type:"REJECT",error:Je})}),()=>{Zl(ze)}},[Me,O]),P.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){ae();return}ie()}},[j]);function ht(){$&&(S&&S($),V.current=new Array($.numPages),X.current.setDocument($))}function Ce(){Z&&(fn(!1,Z.toString()),m&&m(Z))}P.useEffect(function(){H({type:"RESET"})},[H,j]),P.useEffect(function(){if(!j)return;const Je=_?Object.assign(Object.assign({},j),_):j,_t=Mk(Je);v&&(_t.onProgress=v),x&&(_t.onPassword=x);const vt=_t,Vi=vt.promise.then(lc=>{H({type:"RESOLVE",value:lc})}).catch(lc=>{vt.destroyed||H({type:"REJECT",error:lc})});return()=>{Vi.finally(()=>vt.destroy())}},[_,H,j]),P.useEffect(()=>{if(!(typeof $>"u")){if($===!1){Ce();return}ht()}},[$]),P.useEffect(function(){X.current.setViewer(ee.current),X.current.setExternalLinkRel(a),X.current.setExternalLinkTarget(o)},[a,o]);const me=P.useCallback((ze,Je)=>{V.current[ze]=Je},[]),Xn=P.useCallback(ze=>{delete V.current[ze]},[]),gn=P.useMemo(()=>({imageResourcesPath:d,linkService:X.current,onItemClick:g,pdf:$,registerPage:me,renderMode:C,rotate:k,unregisterPage:Xn}),[d,g,$,me,C,k,Xn]),Ie=P.useMemo(()=>jk(R,()=>$),[R,$]);function go(){return f.jsx(Ok.Provider,{value:gn,children:s})}function $i(){return c?$==null?f.jsx(Vc,{type:"loading",children:typeof h=="function"?h():h}):$===!1?f.jsx(Vc,{type:"error",children:typeof i=="function"?i():i}):go():f.jsx(Vc,{type:"no-data",children:typeof p=="function"?p():p})}return f.jsx("div",Object.assign({className:C0("react-pdf__Document",r),ref:u,style:{"--scale-factor":"1"}},Ie,{children:$i()}))});function zk(){return P.useContext(Ok)}function Hk(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(i){t.forEach(function(a){typeof a=="function"?a(i):a&&(a.current=i)})}}const Bk=P.createContext(null),Uk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},qD=/^H(\d+)$/;function GD(n){return n in Uk}function T0(n){return"children"in n}function $k(n){return T0(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function XD(n){const e={};if(T0(n)){const{role:t}=n,s=t.match(qD);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(GD(t)){const r=Uk[t];r&&(e.role=r)}}return e}function Vk(n){const e={};if(T0(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),$k(n)){const[t]=n.children;if(t){const s=Vk(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function YD(n){return n?Object.assign(Object.assign({},XD(n)),Vk(n)):null}function Wk({className:n,node:e}){const t=P.useMemo(()=>YD(e),[e]),s=P.useMemo(()=>!T0(e)||$k(e)?null:e.children.map((r,i)=>f.jsx(Wk,{node:r},i)),[e]);return f.jsx("span",Object.assign({className:n},t,{children:s}))}function P0(){return P.useContext(Bk)}function KD(){const n=P0();Ue(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,r]=ud(),{value:i,error:a}=s,{customTextRenderer:o,page:c}=n;function u(){i&&t&&t(i)}function d(){a&&(fn(!1,a.toString()),e&&e(a))}return P.useEffect(function(){r({type:"RESET"})},[r,c]),P.useEffect(function(){if(o||!c)return;const p=vp(c.getStructTree()),g=p;return p.promise.then(m=>{r({type:"RESOLVE",value:m})}).catch(m=>{r({type:"REJECT",error:m})}),()=>Zl(g)},[o,c,r]),P.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?f.jsx(Wk,{className:"react-pdf__Page__structTree structTree",node:i}):null}const LA=Rk;function QD(n){const e=P0();Ue(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:r,devicePixelRatio:i=DD(),onRenderError:a,onRenderSuccess:o,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:p}=t,{canvasRef:g}=n;Ue(c);const m=P.useRef(null);function v(){c&&o&&o(sx(c,p))}function S(_){zD(_)||(fn(!1,_.toString()),a&&a(_))}const x=P.useMemo(()=>c.getViewport({scale:p*i,rotation:h}),[i,c,h,p]),w=P.useMemo(()=>c.getViewport({scale:p,rotation:h}),[c,h,p]);P.useEffect(function(){if(!c)return;c.cleanup();const{current:C}=m;if(!C)return;C.width=x.width,C.height=x.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const k={annotationMode:u?LA.ENABLE_FORMS:LA.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:x};r&&(k.background=r);const R=c.render(k),N=R;return R.promise.then(()=>{C.style.visibility="",v()}).catch(S),()=>Zl(N)},[r,c,u,x,w]);const y=P.useCallback(()=>{const{current:_}=m;_&&(_.width=0,_.height=0)},[]);return P.useEffect(()=>y,[y]),f.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:Hk(g,m),style:{display:"block",userSelect:"none"},children:d?f.jsx(KD,{}):null})}function JD(n){return"str"in n}function ZD(){const n=P0();Ue(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:i,page:a,pageIndex:o,pageNumber:c,rotate:u,scale:d}=n;Ue(a);const[h,p]=ud(),{value:g,error:m}=h,v=P.useRef(null);fn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){g&&s&&s(g)}function x(){m&&(fn(!1,m.toString()),t&&t(m))}P.useEffect(function(){p({type:"RESET"})},[a,p]),P.useEffect(function(){if(!a)return;const N=vp(a.getTextContent()),O=N;return N.promise.then(j=>{p({type:"RESOLVE",value:j})}).catch(j=>{p({type:"REJECT",error:j})}),()=>Zl(O)},[a,p]),P.useEffect(()=>{if(g!==void 0){if(g===!1){x();return}S()}},[g]);const w=P.useCallback(()=>{i&&i()},[i]),y=P.useCallback(R=>{fn(!1,R.toString()),r&&r(R)},[r]);function _(){const R=v.current;R&&R.classList.add("selecting")}function C(){const R=v.current;R&&R.classList.remove("selecting")}const k=P.useMemo(()=>a.getViewport({scale:d,rotation:u}),[a,u,d]);return P.useLayoutEffect(function(){if(!a||!g)return;const{current:N}=v;if(!N)return;N.innerHTML="";const O=a.streamTextContent({includeMarkedContent:!0}),j={container:N,textContentSource:O,viewport:k},I=new Nk(j),B=I;return I.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",N.append(H);const $=N.querySelectorAll('[role="presentation"]');if(e){let Z=0;g.items.forEach((X,V)=>{if(!JD(X))return;const F=$[Z];if(!F)return;const Q=e(Object.assign({pageIndex:o,pageNumber:c,itemIndex:V},X));F.innerHTML=Q,Z+=X.str&&X.hasEOL?2:1})}w()}).catch(y),()=>Zl(B)},[e,y,w,a,o,c,g,k]),f.jsx("div",{className:C0("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:_,ref:v})}function eI(){const n=zk(),e=P0();Ue(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:i,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:p,scale:g=1}=t;Ue(d),Ue(u),Ue(r);const[m,v]=ud(),{value:S,error:x}=m,w=P.useRef(null);fn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function y(){S&&a&&a(S)}function _(){x&&(fn(!1,x.toString()),i&&i(x))}P.useEffect(function(){v({type:"RESET"})},[v,u]),P.useEffect(function(){if(!u)return;const O=vp(u.getAnnotations()),j=O;return O.promise.then(I=>{v({type:"RESOLVE",value:I})}).catch(I=>{v({type:"REJECT",error:I})}),()=>{Zl(j)}},[v,u]),P.useEffect(()=>{if(S!==void 0){if(S===!1){_();return}y()}},[S]);function C(){c&&c()}function k(N){fn(!1,`${N}`),o&&o(N)}const R=P.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);return P.useEffect(function(){if(!d||!u||!r||!S)return;const{current:O}=w;if(!O)return;const j=R.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:O,l10n:null,page:u,structTreeLayer:null,viewport:j},B={annotations:S,annotationStorage:d.annotationStorage,div:O,imageResourcesPath:s,linkService:r,page:u,renderForms:h,viewport:j};O.innerHTML="";try{new Pk(I).render(B),C()}catch(H){k(H)}return()=>{}},[S,s,r,u,d,h,R]),f.jsx("div",{className:C0("react-pdf__Page__annotations","annotationLayer"),ref:w})}var tI=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const jA=1;function nI(n){const e=zk(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:i,canvasRef:a,children:o,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:p="Failed to load the page.",height:g,inputRef:m,loading:v="Loading page",noData:S="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:w,onGetStructTreeError:y,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:k,onLoadError:R,onLoadSuccess:N,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:j,onRenderError:I,onRenderSuccess:B,onRenderTextLayerError:H,onRenderTextLayerSuccess:$,pageIndex:Z,pageNumber:X,pdf:V,registerPage:F,renderAnnotationLayer:Q=!0,renderForms:ee=!1,renderMode:ie="canvas",renderTextLayer:ae=!0,rotate:ve,scale:Me=jA,unregisterPage:ht,width:Ce}=t,me=tI(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Xn,gn]=ud(),{value:Ie,error:go}=Xn,$i=P.useRef(null);Ue(V);const ze=yo(X)?X-1:Z??null,Je=X??(yo(Z)?Z+1:null),_t=ve??(Ie?Ie.rotate:null),vt=P.useMemo(()=>{if(!Ie)return null;let be=1;const ke=Me??jA;if(Ce||g){const Gt=Ie.getViewport({scale:1,rotation:_t});Ce?be=Ce/Gt.width:g&&(be=g/Gt.height)}return ke*be},[g,Ie,_t,Me,Ce]);P.useEffect(function(){return()=>{yo(ze)&&r&&ht&&ht(ze)}},[r,V,ze,ht]);function Vi(){if(N){if(!Ie||!vt)return;N(sx(Ie,vt))}if(r&&F){if(!yo(ze)||!$i.current)return;F(ze,$i.current)}}function lc(){go&&(fn(!1,go.toString()),R&&R(go))}P.useEffect(function(){gn({type:"RESET"})},[gn,V,ze]),P.useEffect(function(){if(!V||!Je)return;const ke=vp(V.getPage(Je)),Gt=ke;return ke.promise.then(Wi=>{gn({type:"RESOLVE",value:Wi})}).catch(Wi=>{gn({type:"REJECT",error:Wi})}),()=>Zl(Gt)},[gn,V,Je]),P.useEffect(()=>{if(Ie!==void 0){if(Ie===!1){lc();return}Vi()}},[Ie,vt]);const xp=P.useMemo(()=>Ie&&yo(ze)&&Je&&yo(_t)&&yo(vt)?{_className:s,canvasBackground:i,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:x,onGetAnnotationsSuccess:w,onGetStructTreeError:y,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:j,onRenderError:I,onRenderSuccess:B,onRenderTextLayerError:H,onRenderTextLayerSuccess:$,page:Ie,pageIndex:ze,pageNumber:Je,renderForms:ee,renderTextLayer:ae,rotate:_t,scale:vt}:null,[s,i,d,h,x,w,y,_,C,k,O,j,I,B,H,$,Ie,ze,Je,ee,ae,_t,vt]),T=P.useMemo(()=>jk(me,()=>Ie&&(vt?sx(Ie,vt):void 0)),[me,Ie,vt]),M=`${ze}@${vt}/${_t}`;function D(){switch(ie){case"custom":return Ue(u),f.jsx(u,{},`${M}_custom`);case"none":return null;case"canvas":default:return f.jsx(QD,{canvasRef:a},`${M}_canvas`)}}function Y(){return ae?f.jsx(ZD,{},`${M}_text`):null}function W(){return Q?f.jsx(eI,{},`${M}_annotations`):null}function U(){return f.jsxs(Bk.Provider,{value:xp,children:[D(),Y(),W(),o]})}function se(){return Je?V===null||Ie===void 0||Ie===null?f.jsx(Vc,{type:"loading",children:typeof v=="function"?v():v}):V===!1||Ie===!1?f.jsx(Vc,{type:"error",children:typeof p=="function"?p():p}):U():f.jsx(Vc,{type:"no-data",children:typeof S=="function"?S():S})}return f.jsx("div",Object.assign({className:C0(s,c),"data-page-number":Je,ref:Hk(m,$i),style:{"--scale-factor":`${vt}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},T,{children:se()}))}ID();Mb.workerSrc="pdf.worker.mjs";Mb.workerSrc=`//unpkg.com/pdfjs-dist@${Lk}/build/pdf.worker.min.mjs`;const sI=({url:n,onDownload:e,filename:t="document.pdf"})=>{const[s,r]=P.useState(0),[i,a]=P.useState(1),[o,c]=P.useState(1),[u,d]=P.useState(!1),[h,p]=P.useState(!1),g=(()=>{if(!n)return"";if(n.startsWith("http"))return n;const y=localStorage.getItem("access_token");return y?{url:n,httpHeaders:{Authorization:`Bearer ${y}`}}:n})(),m=({numPages:y})=>{r(y)},v=y=>{a(_=>Math.max(1,Math.min(_+y,s)))},S=()=>v(-1),x=()=>v(1),w=()=>{document.fullscreenElement?(document.exitFullscreen(),d(!1)):(document.documentElement.requestFullscreen(),d(!0))};return P.useEffect(()=>{const y=()=>{d(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",y),()=>document.removeEventListener("fullscreenchange",y)},[]),f.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 space-y-4",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow p-3 flex items-center justify-between flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:S,disabled:i<=1,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Page prcdente",children:f.jsx(BM,{})}),f.jsxs("span",{className:"text-sm font-medium px-2",children:[i," / ",s||"..."]}),f.jsx("button",{onClick:x,disabled:i>=s,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Page suivante",children:f.jsx(UM,{})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>c(y=>Math.max(.5,y-.1)),className:"px-3 py-1 rounded hover:bg-gray-100 text-sm font-medium transition-colors",children:"-"}),f.jsxs("span",{className:"text-sm font-medium px-2",children:[Math.round(o*100),"%"]}),f.jsx("button",{onClick:()=>c(y=>Math.min(2,y+.1)),className:"px-3 py-1 rounded hover:bg-gray-100 text-sm font-medium transition-colors",children:"+"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:w,className:"p-2 rounded hover:bg-gray-100 transition-colors",title:u?"Quitter le plein cran":"Plein cran",children:u?f.jsx(qM,{}):f.jsx(XM,{})}),e&&f.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors text-sm font-medium",title:"Tlcharger",children:[f.jsx(eo,{}),f.jsx("span",{className:"hidden sm:inline",children:"Tlcharger"})]})]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-auto",style:{maxHeight:"70vh"},children:f.jsx("div",{className:"flex justify-center p-4",children:f.jsx(WD,{file:g,onLoadSuccess:m,onLoadError:y=>{console.error("PDF load error:",y),p(!0)},loading:f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du PDF..."})]}),error:f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Erreur de chargement du PDF"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Impossible de charger le document dans le navigateur"}),n&&f.jsxs("a",{href:typeof g=="string"?g:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors text-sm font-medium",children:[f.jsx(eo,{}),"Ouvrir le PDF directement"]})]}),children:f.jsx(nI,{pageNumber:i,scale:o,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})})}),f.jsx("div",{className:"text-center text-sm text-gray-600",children:f.jsx("p",{children:"Utilisez les touches flches   pour naviguer entre les pages"})})]})},rI=()=>{const{id:n}=tR(),e=rc(),{user:t}=po(),s=o0(),[r,i]=P.useState(""),[a,o]=P.useState(!0),[c,u]=P.useState({note_difficulte:3,note_pertinence:3}),d=n?Number(n):null;P.useEffect(()=>{(!d||isNaN(d))&&(Ve.error("ID d'preuve invalide"),e("/epreuves"))},[d,e]);const{data:h,isLoading:p,error:g}=Pi({queryKey:["epreuve",d],queryFn:()=>Bl.getEpreuve(d),enabled:!!d&&!isNaN(d)}),{data:m}=Pi({queryKey:["commentaires",d],queryFn:()=>J2.getCommentaires(d),enabled:!!d&&!isNaN(d)}),{data:v}=Pi({queryKey:["similar",d],queryFn:()=>Bl.getSimilarEpreuves(d),enabled:!!d&&!isNaN(d)}),S=Cv({mutationFn:y=>J2.createCommentaire(d,{contenu:y}),onSuccess:()=>{s.invalidateQueries({queryKey:["commentaires",d]}),i(""),Ve.success("Commentaire ajout")}}),x=Cv({mutationFn:y=>HL.createOrUpdateEvaluation(d,y),onSuccess:()=>{s.invalidateQueries({queryKey:["epreuve",d]}),Ve.success("valuation enregistre")}}),w=async()=>{if(d)try{await Bl.downloadEpreuve(d),Ve.success("Tlchargement dmarr")}catch(y){console.error("Erreur tlchargement:",y),Ve.error("Erreur lors du tlchargement")}};return g?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erreur"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Impossible de charger l'preuve"}),f.jsx(Pe,{to:"/epreuves",className:"btn-primary",children:"Retour aux preuves"})]}):p?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):h?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"card",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:h.titre}),f.jsx("p",{className:"text-gray-600 mb-4",children:h.description})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>o(!a),className:"btn-secondary flex items-center space-x-2",children:[f.jsx(cd,{}),f.jsxs("span",{children:[a?"Masquer":"Voir"," PDF"]})]}),f.jsxs("button",{onClick:w,className:"btn-primary flex items-center space-x-2",children:[f.jsx(eo,{}),f.jsx("span",{children:"Tlcharger"})]})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Hr,{className:"text-primary-600"}),f.jsx("span",{className:"font-semibold",children:h.matiere})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(zM,{className:"text-primary-600"}),f.jsxs("span",{children:[h.niveau," - ",h.annee_academique]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx($M,{className:"text-primary-600"}),f.jsx("span",{children:h.type_epreuve})]}),f.jsx("div",{className:"flex items-center space-x-2",children:f.jsxs("span",{children:[" ",h.nb_vues," vues -  ",h.nb_telechargements," tlchargements"]})})]})]}),a&&h.preview_url&&f.jsx(sI,{url:h.preview_url,onDownload:w,filename:`${h.titre}.pdf`}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"valuer cette preuve"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Difficult (1=facile, 5=difficile)"}),f.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:c.note_difficulte,onChange:y=>u(_=>({..._,note_difficulte:Number(y.target.value)})),className:"w-full"}),f.jsxs("div",{className:"text-right text-sm text-gray-600",children:[c.note_difficulte," / 5"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Pertinence (1=peu pertinent, 5=trs pertinent)"}),f.jsx("input",{type:"range",min:"1",max:"5",step:"1",value:c.note_pertinence,onChange:y=>u(_=>({..._,note_pertinence:Number(y.target.value)})),className:"w-full"}),f.jsxs("div",{className:"text-right text-sm text-gray-600",children:[c.note_pertinence," / 5"]})]})]}),f.jsx("button",{onClick:()=>x.mutate(c),className:"btn-primary",children:"Enregistrer l'valuation"})]}),f.jsxs("div",{className:"card",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Commentaires (",(m==null?void 0:m.length)||0,")"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("textarea",{value:r,onChange:y=>i(y.target.value),placeholder:"Ajouter un commentaire...",className:"input-field min-h-[100px]"}),f.jsx("button",{onClick:()=>S.mutate(r),disabled:!r.trim(),className:"btn-primary mt-2 disabled:opacity-50",children:"Publier"})]}),f.jsx("div",{className:"space-y-4",children:m&&Array.isArray(m)&&m.map(y=>f.jsxs("div",{className:"border-l-2 border-primary-200 pl-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.jsx("span",{className:"font-semibold",children:y.user.username}),f.jsx("span",{className:"text-sm text-gray-500",children:Wj(new Date(y.created_at),"PPp",{locale:AF})})]}),f.jsx("p",{className:"text-gray-700",children:y.contenu})]},y.id))})]}),v&&v.length>0&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"preuves similaires"}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:v.slice(0,4).map(y=>f.jsxs(Pe,{to:`/epreuves/${y.id}`,className:"card hover:shadow-lg transition-shadow",children:[f.jsx("h3",{className:"font-bold mb-2",children:y.titre}),f.jsx("p",{className:"text-sm text-gray-600",children:y.matiere}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-2",children:[f.jsx("span",{children:y.niveau}),f.jsx("span",{children:y.annee_academique})]})]},y.id))})]})]}):f.jsx("div",{className:"text-center py-12",children:"preuve non trouve"})},iI=()=>{const n=rc(),{register:e,handleSubmit:t,formState:{errors:s}}=vb(),[r,i]=P.useState(null),[a,o]=P.useState(!1),c=Cv({mutationFn:m=>Bl.uploadEpreuve(m),onSuccess:m=>{var x;const v=m.message||"preuve uploade avec succs !";Ve.success(v,{duration:5e3});const S=((x=m.epreuve)==null?void 0:x.id)||m.id;n(S?`/epreuves/${S}`:"/epreuves")},onError:m=>{var w,y,_,C,k,R,N,O;console.error("Erreur upload:",m);const v=((y=(w=m.response)==null?void 0:w.data)==null?void 0:y.error)||((C=(_=m.response)==null?void 0:_.data)==null?void 0:C.detail)||"Erreur lors de l'upload",S=(R=(k=m.response)==null?void 0:k.data)==null?void 0:R.details,x=(O=(N=m.response)==null?void 0:N.data)==null?void 0:O.doublon;x?Ve.error(`${v} (Doublon : "${x.titre}")`,{duration:6e3}):S?Object.entries(S).forEach(([j,I])=>{const B=Array.isArray(I)?I.join(", "):I;Ve.error(`${j}: ${B}`)}):Ve.error(v)}}),u=m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?o(!0):m.type==="dragleave"&&o(!1)},d=m=>{m.preventDefault(),m.stopPropagation(),o(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&p(m.dataTransfer.files[0])},h=m=>{m.target.files&&m.target.files[0]&&p(m.target.files[0])},p=m=>{if(m.type!=="application/pdf"){Ve.error("Seuls les fichiers PDF sont accepts");return}if(m.size>20*1024*1024){Ve.error("Le fichier ne doit pas dpasser 20 MB");return}i(m),Ve.success("Fichier slectionn")},g=async m=>{if(!r){Ve.error("Veuillez slectionner un fichier PDF");return}const v=new FormData;v.append("fichier_pdf",r),v.append("titre",m.titre),v.append("matiere",m.matiere),v.append("niveau",m.niveau),v.append("type_epreuve",m.type_epreuve),v.append("annee_academique",m.annee_academique),m.professeur&&v.append("professeur",m.professeur),m.description&&v.append("description",m.description),c.mutate(v)};return f.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Uploader une preuve"}),f.jsx("p",{className:"text-gray-600",children:"Partagez vos preuves avec la communaut"})]}),f.jsxs("form",{onSubmit:t(g),className:"space-y-6",children:[f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"1. Slectionner le fichier PDF"}),f.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-all ${a?"border-primary-500 bg-primary-50 scale-[1.02]":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:r?f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx(KM,{className:"text-5xl text-red-500"}),f.jsxs("div",{className:"text-left flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(HM,{className:"text-green-500"}),f.jsx("p",{className:"font-medium",children:r.name})]}),f.jsxs("p",{className:"text-sm text-gray-500",children:[(r.size/(1024*1024)).toFixed(2)," MB"]})]}),f.jsx("button",{type:"button",onClick:()=>i(null),className:"text-red-500 hover:text-red-700 transition-colors",children:f.jsx(hC,{className:"text-xl"})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Lv,{className:"text-6xl text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-lg font-medium mb-2",children:"Glissez votre fichier PDF ici"}),f.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"ou"}),f.jsxs("label",{className:"btn-primary cursor-pointer inline-block",children:["Choisir un fichier",f.jsx("input",{type:"file",accept:"application/pdf",onChange:h,className:"hidden"})]}),f.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:[f.jsx("span",{className:"font-medium",children:"Formats accepts :"})," PDF uniquement",f.jsx("br",{}),f.jsx("span",{className:"font-medium",children:"Taille max :"})," 20 MB"]})]})})]}),f.jsxs("div",{className:"card",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",children:"2. Informations sur l'preuve"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Titre de l'preuve ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{...e("titre",{required:"Le titre est requis"}),className:"input-field",placeholder:"Ex: Partiel Analyse Mathmatique L3"}),s.titre&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.titre.message})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Matire ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{...e("matiere",{required:"La matire est requise"}),className:"input-field",placeholder:"Ex: Mathmatiques",list:"matieres-suggestions"}),f.jsxs("datalist",{id:"matieres-suggestions",children:[f.jsx("option",{value:"Mathmatiques"}),f.jsx("option",{value:"Informatique"}),f.jsx("option",{value:"Physique"}),f.jsx("option",{value:"Chimie"}),f.jsx("option",{value:"Biologie"})]}),s.matiere&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.matiere.message})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Niveau ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{...e("niveau",{required:"Le niveau est requis"}),className:"input-field",children:[f.jsx("option",{value:"",children:"Slectionner..."}),f.jsx("option",{value:"L1",children:"Licence 1"}),f.jsx("option",{value:"L2",children:"Licence 2"}),f.jsx("option",{value:"L3",children:"Licence 3"}),f.jsx("option",{value:"M1",children:"Master 1"}),f.jsx("option",{value:"M2",children:"Master 2"})]}),s.niveau&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.niveau.message})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Type d'preuve ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{...e("type_epreuve",{required:"Le type est requis"}),className:"input-field",children:[f.jsx("option",{value:"",children:"Slectionner..."}),f.jsx("option",{value:"PARTIEL",children:"Partiel"}),f.jsx("option",{value:"EXAMEN",children:"Examen"}),f.jsx("option",{value:"TD",children:"TD"}),f.jsx("option",{value:"CC",children:"Contrle Continu"}),f.jsx("option",{value:"RATTRAPAGE",children:"Rattrapage"})]}),s.type_epreuve&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.type_epreuve.message})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Anne acadmique ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{...e("annee_academique",{required:"L'anne est requise"}),className:"input-field",placeholder:"Ex: 2024-2025"}),s.annee_academique&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.annee_academique.message})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Professeur ",f.jsx("span",{className:"text-gray-400",children:"(optionnel)"})]}),f.jsx("input",{...e("professeur"),className:"input-field",placeholder:"Ex: Dr. ZINSOU"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Description ",f.jsx("span",{className:"text-gray-400",children:"(optionnel)"})]}),f.jsx("textarea",{...e("description"),className:"input-field",rows:4,placeholder:"Dcrivez brivement le contenu de l'preuve, les chapitres couverts, etc."})]})]})]}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Note importante"}),f.jsx("p",{className:"text-sm text-blue-800",children:"Votre preuve sera soumise  modration avant d'tre publie. Assurez-vous que le contenu est appropri et que vous avez le droit de le partager."})]}),f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx("button",{type:"button",onClick:()=>n("/epreuves"),className:"btn-secondary",disabled:c.isPending,children:"Annuler"}),f.jsx("button",{type:"submit",className:"btn-primary flex items-center gap-2",disabled:c.isPending||!r,children:c.isPending?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),f.jsx("span",{children:"Upload en cours..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(Lv,{}),f.jsx("span",{children:"Publier l'preuve"})]})})]})]})]})},aI=()=>{const{user:n}=po(),e=rc();o0();const[t,s]=P.useState(!1),[r,i]=P.useState(!1),[a,o]=P.useState({users:30,epreuves:25,interactions:1e3});if(n&&!n.is_staff)return e("/"),null;const{data:c,refetch:u,isLoading:d}=Pi({queryKey:["admin-stats"],queryFn:async()=>(await Ee.get("/admin/stats/")).data}),{data:h,refetch:p,isLoading:g}=Pi({queryKey:["admin-pending"],queryFn:async()=>(await Ee.get("/admin/pending/")).data}),m=async y=>{var _,C;try{await Ee.post(`/admin/epreuves/${y}/approve/`),Ve.success("preuve approuve !"),p(),u()}catch(k){Ve.error(((C=(_=k.response)==null?void 0:_.data)==null?void 0:C.error)||"Erreur")}},v=async y=>{var _,C;if(confirm("tes-vous sr de vouloir rejeter et supprimer cette preuve ?"))try{await Ee.post(`/admin/epreuves/${y}/reject/`),Ve.success("preuve rejete et supprime"),p(),u()}catch(k){Ve.error(((C=(_=k.response)==null?void 0:_.data)==null?void 0:C.error)||"Erreur")}},S=async()=>{var y,_;s(!0);try{const k=(await Ee.post("/admin/generate-data/",a)).data;Ve.success(`Donnes gnres ! ${k.summary.epreuves_created} preuves, ${k.summary.users_created} utilisateurs, ${k.summary.interactions_created} interactions`,{duration:5e3}),u()}catch(C){Ve.error(((_=(y=C.response)==null?void 0:y.data)==null?void 0:_.error)||"Erreur lors de la gnration")}finally{s(!1)}},x=async y=>{var _,C;i(!0);try{const k=await Ee.get(`/admin/export-data/?format=${y}`,{responseType:"blob"}),R=new Blob([k.data]),N=window.URL.createObjectURL(R),O=document.createElement("a");O.href=N,O.download=y==="json"?"banque_epreuves_export.json":"banque_epreuves_export.zip",document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(N),document.body.removeChild(O),Ve.success(`Export ${y.toUpperCase()} tlcharg !`)}catch(k){Ve.error(((C=(_=k.response)==null?void 0:_.data)==null?void 0:C.error)||"Erreur lors de l'export")}finally{i(!1)}},w={L1:"bg-blue-100 text-blue-700",L2:"bg-indigo-100 text-indigo-700",L3:"bg-purple-100 text-purple-700",M1:"bg-pink-100 text-pink-700",M2:"bg-red-100 text-red-700"};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-extrabold gradient-text",children:"Panneau d'administration"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Grez les donnes et consultez les statistiques"})]}),f.jsxs("button",{onClick:()=>u(),className:"btn-secondary flex items-center space-x-2",disabled:d,children:[f.jsx(I2,{className:d?"animate-spin":""}),f.jsx("span",{children:"Actualiser"})]})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[{icon:um,label:"Utilisateurs",value:(c==null?void 0:c.total_users)??"",color:"primary"},{icon:Hr,label:"preuves",value:(c==null?void 0:c.total_epreuves)??"",color:"accent"},{icon:O2,label:"En attente",value:(c==null?void 0:c.pending_count)??"",color:"yellow"},{icon:j2,label:"Interactions",value:(c==null?void 0:c.total_interactions)??"",color:"indigo"},{icon:vg,label:"valuations",value:(c==null?void 0:c.total_evaluations)??"",color:"green"},{icon:WM,label:"Commentaires",value:(c==null?void 0:c.total_commentaires)??"",color:"purple"}].map((y,_)=>f.jsxs("div",{className:"card text-center",children:[f.jsx(y.icon,{className:`text-xl text-${y.color}-500 mx-auto mb-2`}),f.jsx("div",{className:"text-2xl font-bold text-gray-800",children:typeof y.value=="number"?y.value.toLocaleString():y.value}),f.jsx("div",{className:"text-xs text-gray-500 mt-1",children:y.label})]},_))}),f.jsxs("div",{className:"card border-2 border-yellow-200 bg-yellow-50/50 dark:bg-yellow-900/10 dark:border-yellow-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center flex-shrink-0",children:f.jsx(O2,{className:"text-white text-lg"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Modration des preuves"}),f.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[(h==null?void 0:h.count)??0," preuve(s) en attente de validation"]})]})]}),f.jsxs("button",{onClick:()=>p(),className:"btn-secondary text-sm flex items-center space-x-1",disabled:g,children:[f.jsx(I2,{className:g?"animate-spin":""}),f.jsx("span",{children:"Actualiser"})]})]}),h!=null&&h.results&&h.results.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-yellow-200 dark:border-yellow-800",children:[f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600 dark:text-gray-400",children:"Titre"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600 dark:text-gray-400",children:"Matire"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600 dark:text-gray-400",children:"Niveau"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600 dark:text-gray-400",children:"Upload par"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600 dark:text-gray-400",children:"Date"}),f.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-600 dark:text-gray-400",children:"Actions"})]})}),f.jsx("tbody",{children:h.results.map(y=>f.jsxs("tr",{className:"border-b border-gray-50 dark:border-gray-700 hover:bg-yellow-50/50 dark:hover:bg-yellow-900/10",children:[f.jsx("td",{className:"py-3 px-3 font-medium text-gray-800 dark:text-gray-200 max-w-[200px] truncate",children:y.titre}),f.jsx("td",{className:"py-3 px-3 text-gray-600 dark:text-gray-400",children:y.matiere}),f.jsx("td",{className:"py-3 px-3",children:f.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${w[y.niveau]||"bg-gray-100 text-gray-600"}`,children:y.niveau})}),f.jsx("td",{className:"py-3 px-3 text-gray-600 dark:text-gray-400",children:y.uploaded_by_username||""}),f.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400 text-xs",children:new Date(y.created_at).toLocaleDateString("fr-FR")}),f.jsx("td",{className:"py-3 px-3 text-right",children:f.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[f.jsxs("button",{onClick:()=>m(y.id),className:"inline-flex items-center space-x-1 px-3 py-1.5 bg-green-500 text-white text-xs font-medium rounded-lg hover:bg-green-600 transition-colors",title:"Approuver",children:[f.jsx(F2,{}),f.jsx("span",{children:"Approuver"})]}),f.jsxs("button",{onClick:()=>v(y.id),className:"inline-flex items-center space-x-1 px-3 py-1.5 bg-red-500 text-white text-xs font-medium rounded-lg hover:bg-red-600 transition-colors",title:"Rejeter",children:[f.jsx(rL,{}),f.jsx("span",{children:"Rejeter"})]})]})})]},y.id))})]})}):f.jsxs("div",{className:"text-center py-6 text-gray-400 dark:text-gray-500",children:[f.jsx(F2,{className:"text-3xl mx-auto mb-2 text-green-400"}),f.jsx("p",{children:"Aucune preuve en attente de modration"})]})]}),f.jsx("div",{className:"card border-2 border-dashed border-primary-200 bg-primary-50/50 dark:bg-primary-900/20 dark:border-primary-700",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-xl flex items-center justify-center flex-shrink-0",children:f.jsx(GM,{className:"text-white text-lg"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-1",children:"Gnrer des donnes synthtiques"}),f.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Peuplez la base de donnes avec des utilisateurs, preuves, interactions, valuations et commentaires de test. Les donnes gnres sont similaires  celles cres en local."}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Utilisateurs"}),f.jsx("input",{type:"number",min:"1",max:"500",value:a.users,onChange:y=>o({...a,users:parseInt(y.target.value)||1}),className:"input-field text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"preuves"}),f.jsx("input",{type:"number",min:"1",max:"300",value:a.epreuves,onChange:y=>o({...a,epreuves:parseInt(y.target.value)||1}),className:"input-field text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Interactions"}),f.jsx("input",{type:"number",min:"10",max:"50000",value:a.interactions,onChange:y=>o({...a,interactions:parseInt(y.target.value)||10}),className:"input-field text-sm"})]})]}),f.jsx("button",{onClick:S,disabled:t,className:"btn-primary flex items-center space-x-2 disabled:opacity-50",children:t?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{children:"Gnration en cours..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(eL,{}),f.jsx("span",{children:"Gnrer les donnes"})]})})]})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsx("div",{className:"card border-2 border-dashed border-green-200 bg-green-50/50",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center flex-shrink-0",children:f.jsx(VM,{className:"text-white text-lg"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"Exporter les donnes"}),f.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Tlchargez toutes les donnes (utilisateurs, preuves, interactions, valuations) pour entraner le modle ML en local."}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsxs("button",{onClick:()=>x("json"),disabled:r,className:"btn-success flex items-center space-x-2 disabled:opacity-50",children:[f.jsx(eo,{}),f.jsx("span",{children:r?"Export...":"Export JSON"})]}),f.jsxs("button",{onClick:()=>x("csv"),disabled:r,className:"btn-accent flex items-center space-x-2 disabled:opacity-50",children:[f.jsx(YM,{}),f.jsx("span",{children:r?"Export...":"Export CSV (ZIP)"})]})]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-3",children:["En local : ",f.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"python manage.py import_data banque_epreuves_export.json"})]})]})]})}),f.jsxs("div",{className:"card",children:[f.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center space-x-2",children:[f.jsx(Hr,{className:"text-primary-500"}),f.jsx("span",{children:"preuves par matire"})]}),c!=null&&c.epreuves_par_matiere&&c.epreuves_par_matiere.length>0?f.jsx("div",{className:"space-y-3",children:c.epreuves_par_matiere.map((y,_)=>{const C=c.epreuves_par_matiere[0].count||1,k=y.count/C*100;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[f.jsx("span",{className:"font-medium text-gray-700",children:y.matiere}),f.jsx("span",{className:"text-gray-500",children:y.count})]}),f.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:f.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all",style:{width:`${k}%`}})})]},_)})}):f.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Aucune donne"})]}),f.jsxs("div",{className:"card",children:[f.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center space-x-2",children:[f.jsx(j2,{className:"text-accent-500"}),f.jsx("span",{children:"preuves par niveau"})]}),c!=null&&c.epreuves_par_niveau&&c.epreuves_par_niveau.length>0?f.jsx("div",{className:"flex items-end justify-around h-48 pt-4",children:c.epreuves_par_niveau.map((y,_)=>{const C=Math.max(...c.epreuves_par_niveau.map(R=>R.count))||1,k=y.count/C*100;return f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-xs font-bold text-gray-600 mb-1",children:y.count}),f.jsx("div",{className:"w-12 bg-gradient-to-t from-accent-500 to-accent-400 rounded-t-lg transition-all",style:{height:`${Math.max(k,5)}%`}}),f.jsx("span",{className:`text-xs font-semibold mt-2 px-2 py-0.5 rounded-full ${w[y.niveau]||"bg-gray-100 text-gray-600"}`,children:y.niveau})]},_)})}):f.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Aucune donne"})]})]}),(c==null?void 0:c.top_epreuves)&&c.top_epreuves.length>0&&f.jsxs("div",{className:"card",children:[f.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center space-x-2",children:[f.jsx(vg,{className:"text-yellow-500"}),f.jsx("span",{children:"Top preuves"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-100",children:[f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600",children:"#"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600",children:"Titre"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600",children:"Matire"}),f.jsx("th",{className:"text-left py-2 px-3 font-semibold text-gray-600",children:"Niveau"}),f.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-600",children:"Tlch."}),f.jsx("th",{className:"text-right py-2 px-3 font-semibold text-gray-600",children:"Vues"})]})}),f.jsx("tbody",{children:c.top_epreuves.map((y,_)=>f.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[f.jsx("td",{className:"py-2 px-3 font-bold text-primary-600",children:_+1}),f.jsx("td",{className:"py-2 px-3 font-medium text-gray-800",children:y.titre}),f.jsx("td",{className:"py-2 px-3 text-gray-600",children:y.matiere}),f.jsx("td",{className:"py-2 px-3",children:f.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${w[y.niveau]||"bg-gray-100 text-gray-600"}`,children:y.niveau})}),f.jsx("td",{className:"py-2 px-3 text-right font-medium",children:y.nb_telechargements}),f.jsx("td",{className:"py-2 px-3 text-right text-gray-600",children:y.nb_vues})]},y.id))})]})})]}),f.jsxs("div",{className:"card bg-gray-50",children:[f.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center space-x-2",children:[f.jsx(uC,{className:"text-gray-500"}),f.jsx("span",{children:"Liens rapides"})]}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsx("a",{href:"/admin/",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary text-sm",children:"Django Admin"}),f.jsx("a",{href:"/api/docs/",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary text-sm",children:"API Documentation (Swagger)"})]})]})]})},oI=()=>f.jsxs("div",{style:{padding:"20px",background:"white"},children:[f.jsx("h1",{style:{color:"red",fontSize:"48px"},children:"PAGE DE TEST"}),f.jsx("p",{children:"Si vous voyez ce texte, React fonctionne !"}),f.jsxs("ul",{children:[f.jsxs("li",{children:["Navigateur : ",navigator.userAgent]}),f.jsxs("li",{children:["URL actuelle : ",window.location.href]}),f.jsxs("li",{children:["Date : ",new Date().toLocaleString()]})]})]}),lI=new QR({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function cI(){return f.jsx(JR,{client:lI,children:f.jsx(PM,{children:f.jsxs(kM,{children:[f.jsx(_R,{children:f.jsx(lL,{children:f.jsxs(vR,{children:[f.jsx(ur,{path:"/test",element:f.jsx(oI,{})}),f.jsx(ur,{path:"/",element:f.jsx(uL,{})}),f.jsx(ur,{path:"/login",element:f.jsx(jL,{})}),f.jsx(ur,{path:"/register",element:f.jsx(FL,{})}),f.jsx(ur,{path:"/epreuves",element:f.jsx(zL,{})}),f.jsx(ur,{path:"/epreuves/:id",element:f.jsx(Hp,{children:f.jsx(rI,{})})}),f.jsx(ur,{path:"/upload",element:f.jsx(Hp,{children:f.jsx(iI,{})})}),f.jsx(ur,{path:"/profile",element:f.jsx(Hp,{children:f.jsx(OL,{})})}),f.jsx(ur,{path:"/admin-panel",element:f.jsx(Hp,{children:f.jsx(aI,{})})})]})})}),f.jsx(QN,{position:"top-right"})]})})})}gy.createRoot(document.getElementById("root")).render(f.jsx(ct.StrictMode,{children:f.jsx(cI,{})}));
